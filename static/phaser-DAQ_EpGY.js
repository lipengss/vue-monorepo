import{i as Ct,d as At,c as Pt,o as Mt}from"./index-D9Dc_mid.js";var Et={exports:{}};(function(yt,Tt){(function(E,t){yt.exports=t()})(window,function(){return function(c){var E={};function t(s){if(E[s])return E[s].exports;var f=E[s]={i:s,l:!1,exports:{}};return c[s].call(f.exports,f,f.exports,t),f.l=!0,f.exports}return t.m=c,t.c=E,t.d=function(s,f,h){t.o(s,f)||Object.defineProperty(s,f,{enumerable:!0,get:h})},t.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},t.t=function(s,f){if(f&1&&(s=t(s)),f&8||f&4&&typeof s=="object"&&s&&s.__esModule)return s;var h=Object.create(null);if(t.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:s}),f&2&&typeof s!="string")for(var i in s)t.d(h,i,(function(r){return s[r]}).bind(null,i));return h},t.n=function(s){var f=s&&s.__esModule?function(){return s.default}:function(){return s};return t.d(f,"a",f),f},t.o=function(s,f){return Object.prototype.hasOwnProperty.call(s,f)},t.p="",t(t.s=1393)}([function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(n){return!!n.get&&typeof n.get=="function"||!!n.set&&typeof n.set=="function"}function s(n,e,l){var a=l?n[e]:Object.getOwnPropertyDescriptor(n,e);return!l&&a.value&&typeof a.value=="object"&&(a=a.value),a&&t(a)?(typeof a.enumerable>"u"&&(a.enumerable=!0),typeof a.configurable>"u"&&(a.configurable=!0),a):!1}function f(n,e){var l=Object.getOwnPropertyDescriptor(n,e);return l?(l.value&&typeof l.value=="object"&&(l=l.value),l.configurable===!1):!1}function h(n,e,l,a){for(var o in e)if(e.hasOwnProperty(o)){var u=s(e,o,l);if(u!==!1){var v=a||n;if(f(v.prototype,o)){if(r.ignoreFinals)continue;throw new Error("cannot override final property '"+o+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(n.prototype,o,u)}else n.prototype[o]=e[o]}}function i(n,e){if(e){Array.isArray(e)||(e=[e]);for(var l=0;l<e.length;l++)h(n,e[l].prototype||e[l])}}function r(n){n||(n={});var e,l;if(n.initialize){if(typeof n.initialize!="function")throw new Error("initialize must be a function");e=n.initialize,delete n.initialize}else if(n.Extends){var a=n.Extends;e=function(){a.apply(this,arguments)}}else e=function(){};n.Extends?(e.prototype=Object.create(n.Extends.prototype),e.prototype.constructor=e,l=n.Extends,delete n.Extends):e.prototype.constructor=e;var o=null;return n.Mixins&&(o=n.Mixins,delete n.Mixins),i(e,o),h(e,n,!0,l),e}r.extend=h,r.mixin=i,r.ignoreFinals=!1,c.exports=r},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(){};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){var i=typeof s;return!s||i==="number"||i==="string"?h:s.hasOwnProperty(f)&&s[f]!==void 0?s[f]:h};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(106),h=new s({initialize:function(r,n){this.x=0,this.y=0,typeof r=="object"?(this.x=r.x||0,this.y=r.y||0):(n===void 0&&(n=r),this.x=r||0,this.y=n||0)},clone:function(){return new h(this.x,this.y)},copy:function(i){return this.x=i.x||0,this.y=i.y||0,this},setFromObject:function(i){return this.x=i.x||0,this.y=i.y||0,this},set:function(i,r){return r===void 0&&(r=i),this.x=i,this.y=r,this},setTo:function(i,r){return this.set(i,r)},setToPolar:function(i,r){return r==null&&(r=1),this.x=Math.cos(i)*r,this.y=Math.sin(i)*r,this},equals:function(i){return this.x===i.x&&this.y===i.y},fuzzyEquals:function(i,r){return f(this.x,i.x,r)&&f(this.y,i.y,r)},angle:function(){var i=Math.atan2(this.y,this.x);return i<0&&(i+=2*Math.PI),i},setAngle:function(i){return this.setToPolar(i,this.length())},add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.x-=i.x,this.y-=i.y,this},multiply:function(i){return this.x*=i.x,this.y*=i.y,this},scale:function(i){return isFinite(i)?(this.x*=i,this.y*=i):(this.x=0,this.y=0),this},divide:function(i){return this.x/=i.x,this.y/=i.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(i){var r=i.x-this.x,n=i.y-this.y;return Math.sqrt(r*r+n*n)},distanceSq:function(i){var r=i.x-this.x,n=i.y-this.y;return r*r+n*n},length:function(){var i=this.x,r=this.y;return Math.sqrt(i*i+r*r)},setLength:function(i){return this.normalize().scale(i)},lengthSq:function(){var i=this.x,r=this.y;return i*i+r*r},normalize:function(){var i=this.x,r=this.y,n=i*i+r*r;return n>0&&(n=1/Math.sqrt(n),this.x=i*n,this.y=r*n),this},normalizeRightHand:function(){var i=this.x;return this.x=this.y*-1,this.y=i,this},normalizeLeftHand:function(){var i=this.x;return this.x=this.y,this.y=i*-1,this},dot:function(i){return this.x*i.x+this.y*i.y},cross:function(i){return this.x*i.y-this.y*i.x},lerp:function(i,r){r===void 0&&(r=0);var n=this.x,e=this.y;return this.x=n+r*(i.x-n),this.y=e+r*(i.y-e),this},transformMat3:function(i){var r=this.x,n=this.y,e=i.val;return this.x=e[0]*r+e[3]*n+e[6],this.y=e[1]*r+e[4]*n+e[7],this},transformMat4:function(i){var r=this.x,n=this.y,e=i.val;return this.x=e[0]*r+e[4]*n+e[12],this.y=e[1]*r+e[5]*n+e[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(i){var r=this.length();return r&&r>i&&this.scale(i/r),this},reflect:function(i){return i=i.clone().normalize(),this.subtract(i.scale(2*this.dot(i)))},mirror:function(i){return this.reflect(i).negate()},rotate:function(i){var r=Math.cos(i),n=Math.sin(i);return this.set(r*this.x-n*this.y,n*this.x+r*this.y)}});h.ZERO=new h,h.RIGHT=new h(1,0),h.LEFT=new h(-1,0),h.UP=new h(0,-1),h.DOWN=new h(0,1),h.ONE=new h(1,1),c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(47),h=new s({initialize:function(r,n){r===void 0&&(r=0),n===void 0&&(n=r),this.type=f.POINT,this.x=r,this.y=n},setTo:function(i,r){return i===void 0&&(i=0),r===void 0&&(r=i),this.x=i,this.y=r,this}});c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(23),h=t(22),i=new s({initialize:function(n){this.scene=n,this.systems=n.sys,this.displayList,this.updateList,n.sys.events.once(h.BOOT,this.boot,this),n.sys.events.on(h.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.systems.events.once(h.DESTROY,this.destroy,this)},start:function(){this.systems.events.once(h.SHUTDOWN,this.shutdown,this)},existing:function(r){return(r.renderCanvas||r.renderWebGL)&&this.displayList.add(r),r.preUpdate&&this.updateList.add(r),r},shutdown:function(){this.systems.events.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(h.START,this.start,this),this.scene=null,this.systems=null,this.displayList=null,this.updateList=null}});i.register=function(r,n){i.prototype.hasOwnProperty(r)||(i.prototype[r]=n)},i.remove=function(r){i.prototype.hasOwnProperty(r)&&delete i.prototype[r]},f.register("GameObjectFactory",i,"add"),c.exports=i},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){if(!s||typeof s=="number")return h;if(s.hasOwnProperty(f))return s[f];if(f.indexOf(".")!==-1){for(var i=f.split("."),r=s,n=h,e=0;e<i.length;e++)if(r.hasOwnProperty(i[e]))n=r[i[e]],r=r[i[e]];else{n=h;break}return n}else return h};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){if(typeof s!="object"||s.nodeType||s===s.window)return!1;try{if(s.constructor&&!{}.hasOwnProperty.call(s.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={},s={install:function(f){for(var h in t)f[h]=t[h]},register:function(f,h){t[f]=h},destroy:function(){t={}}};c.exports=s},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={getTintFromFloats:function(t,s,f,h){var i=(t*255|0)&255,r=(s*255|0)&255,n=(f*255|0)&255,e=(h*255|0)&255;return(e<<24|i<<16|r<<8|n)>>>0},getTintAppendFloatAlpha:function(t,s){var f=(s*255|0)&255;return(f<<24|t)>>>0},getTintAppendFloatAlphaAndSwap:function(t,s){var f=(t>>16|0)&255,h=(t>>8|0)&255,i=(t|0)&255,r=(s*255|0)&255;return(r<<24|i<<16|h<<8|f)>>>0},getFloatsFromUintRGB:function(t){var s=(t>>16|0)&255,f=(t>>8|0)&255,h=(t|0)&255;return[s/255,f/255,h/255]},getComponentCount:function(t,s){for(var f=0,h=0;h<t.length;++h){var i=t[h];i.type===s.FLOAT?f+=i.size:f+=1}return f}}},function(c,E,t){var s=Object.prototype.hasOwnProperty,f="~";function h(){}Object.create&&(h.prototype=Object.create(null),new h().__proto__||(f=!1));function i(l,a,o){this.fn=l,this.context=a,this.once=o||!1}function r(l,a,o,u,v){if(typeof o!="function")throw new TypeError("The listener must be a function");var d=new i(o,u||l,v),p=f?f+a:a;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],d]:l._events[p].push(d):(l._events[p]=d,l._eventsCount++),l}function n(l,a){--l._eventsCount===0?l._events=new h:delete l._events[a]}function e(){this._events=new h,this._eventsCount=0}e.prototype.eventNames=function(){var a=[],o,u;if(this._eventsCount===0)return a;for(u in o=this._events)s.call(o,u)&&a.push(f?u.slice(1):u);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(o)):a},e.prototype.listeners=function(a){var o=f?f+a:a,u=this._events[o];if(!u)return[];if(u.fn)return[u.fn];for(var v=0,d=u.length,p=new Array(d);v<d;v++)p[v]=u[v].fn;return p},e.prototype.listenerCount=function(a){var o=f?f+a:a,u=this._events[o];return u?u.fn?1:u.length:0},e.prototype.emit=function(a,o,u,v,d,p){var x=f?f+a:a;if(!this._events[x])return!1;var g=this._events[x],m=arguments.length,y,T;if(g.fn){switch(g.once&&this.removeListener(a,g.fn,void 0,!0),m){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,o),!0;case 3:return g.fn.call(g.context,o,u),!0;case 4:return g.fn.call(g.context,o,u,v),!0;case 5:return g.fn.call(g.context,o,u,v,d),!0;case 6:return g.fn.call(g.context,o,u,v,d,p),!0}for(T=1,y=new Array(m-1);T<m;T++)y[T-1]=arguments[T];g.fn.apply(g.context,y)}else{var S=g.length,C;for(T=0;T<S;T++)switch(g[T].once&&this.removeListener(a,g[T].fn,void 0,!0),m){case 1:g[T].fn.call(g[T].context);break;case 2:g[T].fn.call(g[T].context,o);break;case 3:g[T].fn.call(g[T].context,o,u);break;case 4:g[T].fn.call(g[T].context,o,u,v);break;default:if(!y)for(C=1,y=new Array(m-1);C<m;C++)y[C-1]=arguments[C];g[T].fn.apply(g[T].context,y)}}return!0},e.prototype.on=function(a,o,u){return r(this,a,o,u,!1)},e.prototype.once=function(a,o,u){return r(this,a,o,u,!0)},e.prototype.removeListener=function(a,o,u,v){var d=f?f+a:a;if(!this._events[d])return this;if(!o)return n(this,d),this;var p=this._events[d];if(p.fn)p.fn===o&&(!v||p.once)&&(!u||p.context===u)&&n(this,d);else{for(var x=0,g=[],m=p.length;x<m;x++)(p[x].fn!==o||v&&!p[x].once||u&&p[x].context!==u)&&g.push(p[x]);g.length?this._events[d]=g.length===1?g[0]:g:n(this,d)}return this},e.prototype.removeAllListeners=function(a){var o;return a?(o=f?f+a:a,this._events[o]&&n(this,o)):(this._events=new h,this._eventsCount=0),this},e.prototype.off=e.prototype.removeListener,e.prototype.addListener=e.prototype.on,e.prefixed=f,e.EventEmitter=e,c.exports=e},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(48),h=t(152),i=t(274),r=t(47),n=t(56),e=t(155),l=new s({initialize:function(o,u,v,d){o===void 0&&(o=0),u===void 0&&(u=0),v===void 0&&(v=0),d===void 0&&(d=0),this.type=r.RECTANGLE,this.x=o,this.y=u,this.width=v,this.height=d},contains:function(a,o){return f(this,a,o)},getPoint:function(a,o){return h(this,a,o)},getPoints:function(a,o,u){return i(this,a,o,u)},getRandomPoint:function(a){return e(this,a)},setTo:function(a,o,u,v){return this.x=a,this.y=o,this.width=u,this.height=v,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(a,o){return o===void 0&&(o=a),this.x=a,this.y=o,this},setSize:function(a,o){return o===void 0&&(o=a),this.width=a,this.height=o,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(a){return a===void 0&&(a=new n),a.setTo(this.x,this.y,this.right,this.y),a},getLineB:function(a){return a===void 0&&(a=new n),a.setTo(this.right,this.y,this.right,this.bottom),a},getLineC:function(a){return a===void 0&&(a=new n),a.setTo(this.right,this.bottom,this.x,this.bottom),a},getLineD:function(a){return a===void 0&&(a=new n),a.setTo(this.x,this.bottom,this.x,this.y),a},left:{get:function(){return this.x},set:function(a){a>=this.right?this.width=0:this.width=this.right-a,this.x=a}},right:{get:function(){return this.x+this.width},set:function(a){a<=this.x?this.width=0:this.width=a-this.x}},top:{get:function(){return this.y},set:function(a){a>=this.bottom?this.height=0:this.height=this.bottom-a,this.y=a}},bottom:{get:function(){return this.y+this.height},set:function(a){a<=this.y?this.height=0:this.height=a-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(a){this.x=a-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(a){this.y=a-this.height/2}}});c.exports=l},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Alpha:t(533),AlphaSingle:t(269),Animation:t(504),BlendMode:t(272),ComputedSize:t(552),Crop:t(553),Depth:t(273),Flip:t(554),GetBounds:t(555),Mask:t(277),Origin:t(572),PathFollower:t(573),Pipeline:t(156),ScrollFactor:t(280),Size:t(574),Texture:t(575),TextureCrop:t(576),Tint:t(577),ToJSON:t(281),Transform:t(282),TransformMatrix:t(29),Visible:t(283)}},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(281),h=t(113),i=t(10),r=t(90),n=new s({Extends:i,initialize:function(l,a){i.call(this),this.scene=l,this.type=a,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,l.sys.queueDepthSort()},setActive:function(e){return this.active=e,this},setName:function(e){return this.name=e,this},setState:function(e){return this.state=e,this},setDataEnabled:function(){return this.data||(this.data=new h(this)),this},setData:function(e,l){return this.data||(this.data=new h(this)),this.data.set(e,l),this},incData:function(e,l){return this.data||(this.data=new h(this)),this.data.inc(e,l),this},toggleData:function(e){return this.data||(this.data=new h(this)),this.data.toggle(e),this},getData:function(e){return this.data||(this.data=new h(this)),this.data.get(e)},setInteractive:function(e,l,a){return this.scene.sys.input.enable(this,e,l,a),this},disableInteractive:function(){return this.input&&(this.input.enabled=!1),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},update:function(){},toJSON:function(){return f(this)},willRender:function(e){return!(n.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&e.id)},getIndexList:function(){for(var e=this,l=this.parentContainer,a=[];l&&(a.unshift(l.getIndex(e)),e=l,l.parentContainer);)l=l.parentContainer;return a.unshift(this.scene.sys.displayList.getIndex(e)),a},destroy:function(e){if(e===void 0&&(e=!1),!(!this.scene||this.ignoreDestroy)){this.preDestroy&&this.preDestroy.call(this),this.emit(r.DESTROY,this);var l=this.scene.sys;e||(l.displayList.remove(this),l.updateList.remove(this)),this.input&&(l.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),e||l.queueDepthSort(),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0,this.removeAllListeners()}}});n.RENDER_MASK=15,c.exports=n},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(170),f=t(6),h=function(i,r,n){var e=f(i,r,null);if(e===null)return n;if(Array.isArray(e))return s.RND.pick(e);if(typeof e=="object"){if(e.hasOwnProperty("randInt"))return s.RND.integerInRange(e.randInt[0],e.randInt[1]);if(e.hasOwnProperty("randFloat"))return s.RND.realInRange(e.randFloat[0],e.randFloat[1])}else if(typeof e=="function")return e(r);return e};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(23),h=t(22),i=new s({initialize:function(n){this.scene=n,this.systems=n.sys,this.displayList,this.updateList,n.sys.events.once(h.BOOT,this.boot,this),n.sys.events.on(h.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.systems.events.once(h.DESTROY,this.destroy,this)},start:function(){this.systems.events.once(h.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(h.START,this.start,this),this.scene=null,this.systems=null,this.displayList=null,this.updateList=null}});i.register=function(r,n){i.prototype.hasOwnProperty(r)||(i.prototype[r]=n)},i.remove=function(r){i.prototype.hasOwnProperty(r)&&delete i.prototype[r]},f.register("GameObjectCreator",i,"make"),c.exports=i},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(7),f=function(){var h,i,r,n,e,l,a=arguments[0]||{},o=1,u=arguments.length,v=!1;for(typeof a=="boolean"&&(v=a,a=arguments[1]||{},o=2),u===o&&(a=this,--o);o<u;o++)if((h=arguments[o])!=null)for(i in h)r=a[i],n=h[i],a!==n&&(v&&n&&(s(n)||(e=Array.isArray(n)))?(e?(e=!1,l=r&&Array.isArray(r)?r:[]):l=r&&s(r)?r:{},a[i]=f(v,l,n)):n!==void 0&&(a[i]=n));return a};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){return Math.max(f,Math.min(h,s))};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BLUR:t(556),BOOT:t(557),CONTEXT_LOST:t(558),CONTEXT_RESTORED:t(559),DESTROY:t(560),FOCUS:t(561),HIDDEN:t(562),PAUSE:t(563),POST_RENDER:t(564),POST_STEP:t(565),PRE_RENDER:t(566),PRE_STEP:t(567),READY:t(568),RESUME:t(569),STEP:t(570),VISIBLE:t(571)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(17),h=t(82),i=t(2),r=t(138),n=t(215),e=t(455),l=t(139),a=new s({initialize:function(u,v){this.loader=u,this.cache=i(v,"cache",!1),this.type=i(v,"type",!1),this.key=i(v,"key",!1);var d=this.key;if(u.prefix&&u.prefix!==""&&(this.key=u.prefix+d),!this.type||!this.key)throw new Error("Error calling 'Loader."+this.type+"' invalid key provided.");this.url=i(v,"url"),this.url===void 0?this.url=u.path+d+"."+i(v,"extension",""):typeof this.url=="string"&&this.url.indexOf("blob:")!==0&&this.url.indexOf("data:")!==0&&(this.url=u.path+this.url),this.src="",this.xhrSettings=l(i(v,"responseType",void 0)),i(v,"xhrSettings",!1)&&(this.xhrSettings=n(this.xhrSettings,i(v,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?f.FILE_POPULATED:f.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=i(v,"config",{}),this.multiFile,this.linkFile},setLink:function(o){this.linkFile=o,o.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===f.FILE_POPULATED?this.loader.nextFile(this,!0):(this.state=f.FILE_LOADING,this.src=r(this,this.loader.baseURL),this.src.indexOf("data:")===0?console.warn("Local data URIs are not supported: "+this.key):this.xhrLoader=e(this,this.loader.xhr))},onLoad:function(o,u){var v=o.responseURL&&o.responseURL.indexOf("file://")===0&&u.target.status===0,d=!(u.target&&u.target.status!==200)||v;o.readyState===4&&o.status>=400&&o.status<=599&&(d=!1),this.state=f.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,d)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(o){o.lengthComputable&&(this.bytesLoaded=o.loaded,this.bytesTotal=o.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(h.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=f.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=f.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){this.state=f.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.cache.add(this.key,this.data),this.pendingDestroy()},pendingDestroy:function(o){o===void 0&&(o=this.data);var u=this.key,v=this.type;this.loader.emit(h.FILE_COMPLETE,u,v,o),this.loader.emit(h.FILE_KEY_COMPLETE+v+"-"+u,u,v,o),this.loader.flagForRemoval(this)},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});a.createObjectURL=function(o,u,v){if(typeof URL=="function")o.src=URL.createObjectURL(u);else{var d=new FileReader;d.onload=function(){o.removeAttribute("crossOrigin"),o.src="data:"+(u.type||v)+";base64,"+d.result.split(",")[1]},d.onerror=o.onerror,d.readAsDataURL(u)}},a.revokeObjectURL=function(o){typeof URL=="function"&&URL.revokeObjectURL(o.src)},c.exports=a},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BOOT:t(709),CREATE:t(710),DESTROY:t(711),PAUSE:t(712),POST_UPDATE:t(713),PRE_UPDATE:t(714),READY:t(715),RENDER:t(716),RESUME:t(717),SHUTDOWN:t(718),SLEEP:t(719),START:t(720),TRANSITION_COMPLETE:t(721),TRANSITION_INIT:t(722),TRANSITION_OUT:t(723),TRANSITION_START:t(724),TRANSITION_WAKE:t(725),UPDATE:t(726),WAKE:t(727)}},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={},s={},f={};f.register=function(h,i,r,n){n===void 0&&(n=!1),t[h]={plugin:i,mapping:r,custom:n}},f.registerCustom=function(h,i,r,n){s[h]={plugin:i,mapping:r,data:n}},f.hasCore=function(h){return t.hasOwnProperty(h)},f.hasCustom=function(h){return s.hasOwnProperty(h)},f.getCore=function(h){return t[h]},f.getCustom=function(h){return s[h]},f.getCustomClass=function(h){return s.hasOwnProperty(h)?s[h].plugin:null},f.remove=function(h){t.hasOwnProperty(h)&&delete t[h]},f.removeCustom=function(h){s.hasOwnProperty(h)&&delete s[h]},f.destroyCorePlugins=function(){for(var h in t)t.hasOwnProperty(h)&&delete t[h]},f.destroyCustomPlugins=function(){for(var h in s)s.hasOwnProperty(h)&&delete s[h]},c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(2),f=function(h,i,r,n,e,l){h===void 0&&(h=0),i===void 0&&(i=0),r===void 0&&(r=l.width),n===void 0&&(n=l.height);var a=s(e,"isNotEmpty",!1),o=s(e,"isColliding",!1),u=s(e,"hasInterestingFace",!1);h<0&&(r+=h,h=0),i<0&&(n+=i,i=0),h+r>l.width&&(r=Math.max(l.width-h,0)),i+n>l.height&&(n=Math.max(l.height-i,0));for(var v=[],d=i;d<i+n;d++)for(var p=h;p<h+r;p++){var x=l.data[d][p];if(x!==null){if(a&&x.index===-1||o&&!x.collides||u&&!x.hasInterestingFace)continue;v.push(x)}}return v};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i,r,n){i===void 0&&(i=0),r===void 0&&(r=0),n===void 0&&(n=1);var e,l=0,a=s.length;if(n===1)for(e=r;e<a;e++)s[e][f]=h+l*i,l++;else for(e=r;e>=0;e--)s[e][f]=h+l*i,l++;return s};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(33),f=t(167),h=[],i=!1,r=function(){var n=function(x,g,m,y,T){g===void 0&&(g=1),m===void 0&&(m=1),y===void 0&&(y=s.CANVAS),T===void 0&&(T=!1);var S,C=a(y);return C===null?(C={parent:x,canvas:document.createElement("canvas"),type:y},y===s.CANVAS&&h.push(C),S=C.canvas):(C.parent=x,S=C.canvas),T&&(C.parent=S),S.width=g,S.height=m,i&&y===s.CANVAS&&f.disable(S.getContext("2d")),S},e=function(x,g,m){return n(x,g,m,s.CANVAS)},l=function(x,g,m){return n(x,g,m,s.WEBGL)},a=function(x){if(x===void 0&&(x=s.CANVAS),x===s.WEBGL)return null;for(var g=0;g<h.length;g++){var m=h[g];if(!m.parent&&m.type===x)return m}return null},o=function(x){var g=x instanceof HTMLCanvasElement;h.forEach(function(m){(g&&m.canvas===x||!g&&m.parent===x)&&(m.parent=null,m.canvas.width=1,m.canvas.height=1)})},u=function(){var x=0;return h.forEach(function(g){g.parent&&x++}),x},v=function(){return h.length-u()},d=function(){i=!0},p=function(){i=!1};return{create2D:e,create:n,createWebGL:l,disableSmoothing:d,enableSmoothing:p,first:a,free:v,pool:h,remove:o,total:u}};c.exports=r()},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(52),f=t(15),h=function(i,r,n){r.x=f(n,"x",0),r.y=f(n,"y",0),r.depth=f(n,"depth",0),r.flipX=f(n,"flipX",!1),r.flipY=f(n,"flipY",!1);var e=f(n,"scale",null);typeof e=="number"?r.setScale(e):e!==null&&(r.scaleX=f(e,"x",1),r.scaleY=f(e,"y",1));var l=f(n,"scrollFactor",null);typeof l=="number"?r.setScrollFactor(l):l!==null&&(r.scrollFactorX=f(l,"x",1),r.scrollFactorY=f(l,"y",1)),r.rotation=f(n,"rotation",0);var a=f(n,"angle",null);a!==null&&(r.angle=a),r.alpha=f(n,"alpha",1);var o=f(n,"origin",null);if(typeof o=="number")r.setOrigin(o);else if(o!==null){var u=f(o,"x",.5),v=f(o,"y",.5);r.setOrigin(u,v)}r.blendMode=f(n,"blendMode",s.NORMAL),r.visible=f(n,"visible",!0);var d=f(n,"add",!0);return d&&i.sys.displayList.add(r),r.preUpdate&&i.sys.updateList.add(r),r};c.exports=h},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i,r){var n=i.alpha*h.alpha;if(n<=0)return!1;var e=s._tempMatrix1.copyFromArray(i.matrix.matrix),l=s._tempMatrix2.applyITRS(h.x,h.y,h.rotation,h.scaleX,h.scaleY),a=s._tempMatrix3;return r?(e.multiplyWithOffset(r,-i.scrollX*h.scrollFactorX,-i.scrollY*h.scrollFactorY),l.e=h.x,l.f=h.y,e.multiply(l,a)):(l.e-=i.scrollX*h.scrollFactorX,l.f-=i.scrollY*h.scrollFactorY,e.multiply(l,a)),f.globalCompositeOperation=s.blendModes[h.blendMode],f.globalAlpha=n,f.save(),a.setToContext(f),f.imageSmoothingEnabled=!(!s.antialias||h.frame&&h.frame.source.scaleMode),!0};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(13),h=t(3),i=new s({initialize:function(n,e,l,a,o,u){n===void 0&&(n=1),e===void 0&&(e=0),l===void 0&&(l=0),a===void 0&&(a=1),o===void 0&&(o=0),u===void 0&&(u=0),this.matrix=new Float32Array([n,e,l,a,o,u,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0}},a:{get:function(){return this.matrix[0]},set:function(r){this.matrix[0]=r}},b:{get:function(){return this.matrix[1]},set:function(r){this.matrix[1]=r}},c:{get:function(){return this.matrix[2]},set:function(r){this.matrix[2]=r}},d:{get:function(){return this.matrix[3]},set:function(r){this.matrix[3]=r}},e:{get:function(){return this.matrix[4]},set:function(r){this.matrix[4]=r}},f:{get:function(){return this.matrix[5]},set:function(r){this.matrix[5]=r}},tx:{get:function(){return this.matrix[4]},set:function(r){this.matrix[4]=r}},ty:{get:function(){return this.matrix[5]},set:function(r){this.matrix[5]=r}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var r=this.matrix,n=r[0],e=r[1],l=r[2],a=r[3];return n||e?e>0?Math.acos(n/this.scaleX):-Math.acos(n/this.scaleX):l||a?f.TAU-(a>0?Math.acos(-l/this.scaleY):-Math.acos(l/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var r=this.matrix;return r[0]=1,r[1]=0,r[2]=0,r[3]=1,r[4]=0,r[5]=0,this},translate:function(r,n){var e=this.matrix;return e[4]=e[0]*r+e[2]*n+e[4],e[5]=e[1]*r+e[3]*n+e[5],this},scale:function(r,n){var e=this.matrix;return e[0]*=r,e[1]*=r,e[2]*=n,e[3]*=n,this},rotate:function(r){var n=Math.sin(r),e=Math.cos(r),l=this.matrix,a=l[0],o=l[1],u=l[2],v=l[3];return l[0]=a*e+u*n,l[1]=o*e+v*n,l[2]=a*-n+u*e,l[3]=o*-n+v*e,this},multiply:function(r,n){var e=this.matrix,l=r.matrix,a=e[0],o=e[1],u=e[2],v=e[3],d=e[4],p=e[5],x=l[0],g=l[1],m=l[2],y=l[3],T=l[4],S=l[5],C=n===void 0?this:n;return C.a=x*a+g*u,C.b=x*o+g*v,C.c=m*a+y*u,C.d=m*o+y*v,C.e=T*a+S*u+d,C.f=T*o+S*v+p,C},multiplyWithOffset:function(r,n,e){var l=this.matrix,a=r.matrix,o=l[0],u=l[1],v=l[2],d=l[3],p=l[4],x=l[5],g=n*o+e*v+p,m=n*u+e*d+x,y=a[0],T=a[1],S=a[2],C=a[3],P=a[4],A=a[5];return l[0]=y*o+T*v,l[1]=y*u+T*d,l[2]=S*o+C*v,l[3]=S*u+C*d,l[4]=P*o+A*v+g,l[5]=P*u+A*d+m,this},transform:function(r,n,e,l,a,o){var u=this.matrix,v=u[0],d=u[1],p=u[2],x=u[3],g=u[4],m=u[5];return u[0]=r*v+n*p,u[1]=r*d+n*x,u[2]=e*v+l*p,u[3]=e*d+l*x,u[4]=a*v+o*p+g,u[5]=a*d+o*x+m,this},transformPoint:function(r,n,e){e===void 0&&(e={x:0,y:0});var l=this.matrix,a=l[0],o=l[1],u=l[2],v=l[3],d=l[4],p=l[5];return e.x=r*a+n*u+d,e.y=r*o+n*v+p,e},invert:function(){var r=this.matrix,n=r[0],e=r[1],l=r[2],a=r[3],o=r[4],u=r[5],v=n*a-e*l;return r[0]=a/v,r[1]=-e/v,r[2]=-l/v,r[3]=n/v,r[4]=(l*u-a*o)/v,r[5]=-(n*u-e*o)/v,this},copyFrom:function(r){var n=this.matrix;return n[0]=r.a,n[1]=r.b,n[2]=r.c,n[3]=r.d,n[4]=r.e,n[5]=r.f,this},copyFromArray:function(r){var n=this.matrix;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],this},copyToContext:function(r){var n=this.matrix;return r.transform(n[0],n[1],n[2],n[3],n[4],n[5]),r},setToContext:function(r){var n=this.matrix;return r.setTransform(n[0],n[1],n[2],n[3],n[4],n[5]),r},copyToArray:function(r){var n=this.matrix;return r===void 0?r=[n[0],n[1],n[2],n[3],n[4],n[5]]:(r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[4]=n[4],r[5]=n[5]),r},setTransform:function(r,n,e,l,a,o){var u=this.matrix;return u[0]=r,u[1]=n,u[2]=e,u[3]=l,u[4]=a,u[5]=o,this},decomposeMatrix:function(){var r=this.decomposedMatrix,n=this.matrix,e=n[0],l=n[1],a=n[2],o=n[3],u=e*o-l*a;if(r.translateX=n[4],r.translateY=n[5],e||l){var v=Math.sqrt(e*e+l*l);r.rotation=l>0?Math.acos(e/v):-Math.acos(e/v),r.scaleX=v,r.scaleY=u/v}else if(a||o){var d=Math.sqrt(a*a+o*o);r.rotation=Math.PI*.5-(o>0?Math.acos(-a/d):-Math.acos(a/d)),r.scaleX=u/d,r.scaleY=d}else r.rotation=0,r.scaleX=0,r.scaleY=0;return r},applyITRS:function(r,n,e,l,a){var o=this.matrix,u=Math.sin(e),v=Math.cos(e);return o[4]=r,o[5]=n,o[0]=v*l,o[1]=u*l,o[2]=-u*a,o[3]=v*a,this},applyInverse:function(r,n,e){e===void 0&&(e=new h);var l=this.matrix,a=l[0],o=l[1],u=l[2],v=l[3],d=l[4],p=l[5],x=1/(a*v+u*-o);return e.x=v*x*r+-u*x*n+(p*u-d*v)*x,e.y=a*x*n+-o*x*r+(-p*a+d*o)*x,e},getX:function(r,n){return r*this.a+n*this.c+this.e},getY:function(r,n){return r*this.b+n*this.d+this.f},getCSSMatrix:function(){var r=this.matrix;return"matrix("+r[0]+","+r[1]+","+r[2]+","+r[3]+","+r[4]+","+r[5]+")"},destroy:function(){this.matrix=null,this.decomposedMatrix=null}});c.exports=i},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(12),h=t(14),i=t(56),r=new s({Extends:h,Mixins:[f.AlphaSingle,f.BlendMode,f.ComputedSize,f.Depth,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.ScrollFactor,f.Transform,f.Visible],initialize:function(e,l,a){l===void 0&&(l="Shape"),h.call(this,e,l),this.geom=a,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new i,this.initPipeline()},setFillStyle:function(n,e){return e===void 0&&(e=1),n===void 0?this.isFilled=!1:(this.fillColor=n,this.fillAlpha=e,this.isFilled=!0),this},setStrokeStyle:function(n,e,l){return l===void 0&&(l=1),n===void 0?this.isStroked=!1:(this.lineWidth=n,this.strokeColor=e,this.strokeAlpha=l,this.isStroked=!0),this},setClosePath:function(n){return this.closePath=n,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]}});c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(165),h=t(295),i=t(166),r=t(296),n=new s({initialize:function(l,a,o,u){l===void 0&&(l=0),a===void 0&&(a=0),o===void 0&&(o=0),u===void 0&&(u=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(l,a,o,u)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(e,l,a,o,u){return o===void 0&&(o=255),u===void 0&&(u=!0),this._locked=!0,this.red=e,this.green=l,this.blue=a,this.alpha=o,this._locked=!1,this.update(u)},setGLTo:function(e,l,a,o){return o===void 0&&(o=1),this._locked=!0,this.redGL=e,this.greenGL=l,this.blueGL=a,this.alphaGL=o,this._locked=!1,this.update(!0)},setFromRGB:function(e){return this._locked=!0,this.red=e.r,this.green=e.g,this.blue=e.b,e.hasOwnProperty("a")&&(this.alpha=e.a),this._locked=!1,this.update(!0)},setFromHSV:function(e,l,a){return i(e,l,a,this)},update:function(e){if(e===void 0&&(e=!1),this._locked)return this;var l=this.r,a=this.g,o=this.b,u=this.a;return this._color=f(l,a,o),this._color32=h(l,a,o,u),this._rgba="rgba("+l+","+a+","+o+","+u/255+")",e&&r(l,a,o,this),this},updateHSV:function(){var e=this.r,l=this.g,a=this.b;return r(e,l,a,this),this},clone:function(){return new n(this.r,this.g,this.b,this.a)},gray:function(e){return this.setTo(e,e,e)},random:function(e,l){e===void 0&&(e=0),l===void 0&&(l=255);var a=Math.floor(e+Math.random()*(l-e)),o=Math.floor(e+Math.random()*(l-e)),u=Math.floor(e+Math.random()*(l-e));return this.setTo(a,o,u)},randomGray:function(e,l){e===void 0&&(e=0),l===void 0&&(l=255);var a=Math.floor(e+Math.random()*(l-e));return this.setTo(a,a,a)},saturate:function(e){return this.s+=e/100,this},desaturate:function(e){return this.s-=e/100,this},lighten:function(e){return this.v+=e/100,this},darken:function(e){return this.v-=e/100,this},brighten:function(e){var l=this.r,a=this.g,o=this.b;return l=Math.max(0,Math.min(255,l-Math.round(255*-(e/100)))),a=Math.max(0,Math.min(255,a-Math.round(255*-(e/100)))),o=Math.max(0,Math.min(255,o-Math.round(255*-(e/100)))),this.setTo(l,a,o)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(e){this.gl[0]=Math.min(Math.abs(e),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(e){this.gl[1]=Math.min(Math.abs(e),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(e){this.gl[2]=Math.min(Math.abs(e),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(e){this.gl[3]=Math.min(Math.abs(e),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(e){e=Math.floor(Math.abs(e)),this.r=Math.min(e,255),this.gl[0]=e/255,this.update(!0)}},green:{get:function(){return this.g},set:function(e){e=Math.floor(Math.abs(e)),this.g=Math.min(e,255),this.gl[1]=e/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(e){e=Math.floor(Math.abs(e)),this.b=Math.min(e,255),this.gl[2]=e/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(e){e=Math.floor(Math.abs(e)),this.a=Math.min(e,255),this.gl[3]=e/255,this.update()}},h:{get:function(){return this._h},set:function(e){this._h=e,i(e,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(e){this._s=e,i(this._h,e,this._v,this)}},v:{get:function(){return this._v},set:function(e){this._v=e,i(this._h,this._s,e,this)}}});c.exports=n},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s={VERSION:"3.24.0",BlendModes:t(52),ScaleModes:t(234),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};c.exports=s},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return s.y+s.height-s.height*s.originY};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return s.x-s.width*s.originX};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return s.x+s.width-s.width*s.originX};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return s.y-s.height*s.originY};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i,r,n){i===void 0&&(i=0),r===void 0&&(r=0),n===void 0&&(n=1);var e,l=0,a=s.length;if(n===1)for(e=r;e<a;e++)s[e][f]+=h+l*i,l++;else for(e=r;e>=0;e--)s[e][f]+=h+l*i,l++;return s};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(13),f=function(h){return h*s.DEG_TO_RAD};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={DESTROY:t(647),FADE_IN_COMPLETE:t(648),FADE_IN_START:t(649),FADE_OUT_COMPLETE:t(650),FADE_OUT_START:t(651),FLASH_COMPLETE:t(652),FLASH_START:t(653),PAN_COMPLETE:t(654),PAN_START:t(655),POST_RENDER:t(656),PRE_RENDER:t(657),ROTATE_COMPLETE:t(658),ROTATE_START:t(659),SHAKE_COMPLETE:t(660),SHAKE_START:t(661),ZOOM_COMPLETE:t(662),ZOOM_START:t(663)}},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i){var r=h||f.fillColor,n=i||f.fillAlpha,e=(r&16711680)>>>16,l=(r&65280)>>>8,a=r&255;s.fillStyle="rgba("+e+","+l+","+a+","+n+")"};c.exports=t},function(c,E){var t={};c.exports=t,function(){t._nextId=0,t._seed=0,t._nowStartTime=+new Date,t.extend=function(f,h){var i,r;typeof h=="boolean"?(i=2,r=h):(i=1,r=!0);for(var n=i;n<arguments.length;n++){var e=arguments[n];if(e)for(var l in e)r&&e[l]&&e[l].constructor===Object&&(!f[l]||f[l].constructor===Object)?(f[l]=f[l]||{},t.extend(f[l],r,e[l])):f[l]=e[l]}return f},t.clone=function(f,h){return t.extend({},h,f)},t.keys=function(f){if(Object.keys)return Object.keys(f);var h=[];for(var i in f)h.push(i);return h},t.values=function(f){var h=[];if(Object.keys){for(var i=Object.keys(f),r=0;r<i.length;r++)h.push(f[i[r]]);return h}for(var n in f)h.push(f[n]);return h},t.get=function(f,h,i,r){h=h.split(".").slice(i,r);for(var n=0;n<h.length;n+=1)f=f[h[n]];return f},t.set=function(f,h,i,r,n){var e=h.split(".").slice(r,n);return t.get(f,h,0,-1)[e[e.length-1]]=i,i},t.shuffle=function(f){for(var h=f.length-1;h>0;h--){var i=Math.floor(t.random()*(h+1)),r=f[h];f[h]=f[i],f[i]=r}return f},t.choose=function(f){return f[Math.floor(t.random()*f.length)]},t.isElement=function(f){return typeof HTMLElement<"u"?f instanceof HTMLElement:!!(f&&f.nodeType&&f.nodeName)},t.isArray=function(f){return Object.prototype.toString.call(f)==="[object Array]"},t.isFunction=function(f){return typeof f=="function"},t.isPlainObject=function(f){return typeof f=="object"&&f.constructor===Object},t.isString=function(f){return Object.prototype.toString.call(f)==="[object String]"},t.clamp=function(f,h,i){return f<h?h:f>i?i:f},t.sign=function(f){return f<0?-1:1},t.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return new Date-t._nowStartTime},t.random=function(f,h){return f=typeof f<"u"?f:0,h=typeof h<"u"?h:1,f+s()*(h-f)};var s=function(){return t._seed=(t._seed*9301+49297)%233280,t._seed/233280};t.colorToNumber=function(f){return f=f.replace("#",""),f.length==3&&(f=f.charAt(0)+f.charAt(0)+f.charAt(1)+f.charAt(1)+f.charAt(2)+f.charAt(2)),parseInt(f,16)},t.logLevel=1,t.log=function(){console&&t.logLevel>0&&t.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},t.info=function(){console&&t.logLevel>0&&t.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},t.warn=function(){console&&t.logLevel>0&&t.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},t.nextId=function(){return t._nextId++},t.indexOf=function(f,h){if(f.indexOf)return f.indexOf(h);for(var i=0;i<f.length;i++)if(f[i]===h)return i;return-1},t.map=function(f,h){if(f.map)return f.map(h);for(var i=[],r=0;r<f.length;r+=1)i.push(h(f[r]));return i},t.topologicalSort=function(f){var h=[],i=[],r=[];for(var n in f)!i[n]&&!r[n]&&t._topologicalSort(n,i,r,f,h);return h},t._topologicalSort=function(f,h,i,r,n){var e=r[f]||[];i[f]=!0;for(var l=0;l<e.length;l+=1){var a=e[l];i[a]||h[a]||t._topologicalSort(a,h,i,r,n)}i[f]=!1,h[f]=!0,n.push(f)},t.chain=function(){for(var f=[],h=0;h<arguments.length;h+=1){var i=arguments[h];i._chained?f.push.apply(f,i._chained):f.push(i)}var r=function(){for(var n,e=new Array(arguments.length),l=0,a=arguments.length;l<a;l++)e[l]=arguments[l];for(l=0;l<f.length;l+=1){var o=f[l].apply(n,e);typeof o<"u"&&(n=o)}return n};return r._chained=f,r},t.chainPathBefore=function(f,h,i){return t.set(f,h,t.chain(i,t.get(f,h)))},t.chainPathAfter=function(f,h,i){return t.set(f,h,t.chain(t.get(f,h),i))}}()},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){return s.y=f+s.height*s.originY,s};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){return s.x=f+s.width*s.originX,s};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){return s.x=f-s.width+s.width*s.originX,s};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){return s.y=f-s.height+s.height*s.originY,s};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){return s.width<=0||s.height<=0?!1:s.x<=f&&s.x+s.width>=f&&s.y<=h&&s.y+s.height>=h};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i){var r=h||f.strokeColor,n=i||f.strokeAlpha,e=(r&16711680)>>>16,l=(r&65280)>>>8,a=r&255;s.strokeStyle="rgba("+e+","+l+","+a+","+n+")",s.lineWidth=f.lineWidth};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(142),f=t(24),h=function(i,r,n,e,l){for(var a=null,o=null,u=null,v=null,d=f(i,r,n,e,null,l),p=0;p<d.length;p++){var x=d[p];x&&(x.collides?(a=s(x.x,x.y-1,!0,l),o=s(x.x,x.y+1,!0,l),u=s(x.x-1,x.y,!0,l),v=s(x.x+1,x.y,!0,l),x.faceTop=!(a&&a.collides),x.faceBottom=!(o&&o.collides),x.faceLeft=!(u&&u.collides),x.faceRight=!(v&&v.collides)):x.resetFaces())}};c.exports=h},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i){var r=s-h,n=f-i;return Math.sqrt(r*r+n*n)};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BOOT:t(823),DESTROY:t(824),DRAG_END:t(825),DRAG_ENTER:t(826),DRAG:t(827),DRAG_LEAVE:t(828),DRAG_OVER:t(829),DRAG_START:t(830),DROP:t(831),GAME_OUT:t(832),GAME_OVER:t(833),GAMEOBJECT_DOWN:t(834),GAMEOBJECT_DRAG_END:t(835),GAMEOBJECT_DRAG_ENTER:t(836),GAMEOBJECT_DRAG:t(837),GAMEOBJECT_DRAG_LEAVE:t(838),GAMEOBJECT_DRAG_OVER:t(839),GAMEOBJECT_DRAG_START:t(840),GAMEOBJECT_DROP:t(841),GAMEOBJECT_MOVE:t(842),GAMEOBJECT_OUT:t(843),GAMEOBJECT_OVER:t(844),GAMEOBJECT_POINTER_DOWN:t(845),GAMEOBJECT_POINTER_MOVE:t(846),GAMEOBJECT_POINTER_OUT:t(847),GAMEOBJECT_POINTER_OVER:t(848),GAMEOBJECT_POINTER_UP:t(849),GAMEOBJECT_POINTER_WHEEL:t(850),GAMEOBJECT_UP:t(851),GAMEOBJECT_WHEEL:t(852),MANAGER_BOOT:t(853),MANAGER_PROCESS:t(854),MANAGER_UPDATE:t(855),POINTER_DOWN:t(856),POINTER_DOWN_OUTSIDE:t(857),POINTER_MOVE:t(858),POINTER_OUT:t(859),POINTER_OVER:t(860),POINTER_UP:t(861),POINTER_UP_OUTSIDE:t(862),POINTER_WHEEL:t(863),POINTERLOCK_CHANGE:t(864),PRE_UPDATE:t(865),SHUTDOWN:t(866),START:t(867),UPDATE:t(868)}},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){if(s.radius>0&&f>=s.left&&f<=s.right&&h>=s.top&&h<=s.bottom){var i=(s.x-f)*(s.x-f),r=(s.y-h)*(s.y-h);return i+r<=s.radius*s.radius}else return!1};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(275),h=t(153),i=t(47),r=t(154),n=t(3),e=new s({initialize:function(a,o,u,v){a===void 0&&(a=0),o===void 0&&(o=0),u===void 0&&(u=0),v===void 0&&(v=0),this.type=i.LINE,this.x1=a,this.y1=o,this.x2=u,this.y2=v},getPoint:function(l,a){return f(this,l,a)},getPoints:function(l,a,o){return h(this,l,a,o)},getRandomPoint:function(l){return r(this,l)},setTo:function(l,a,o,u){return l===void 0&&(l=0),a===void 0&&(a=0),o===void 0&&(o=0),u===void 0&&(u=0),this.x1=l,this.y1=a,this.x2=o,this.y2=u,this},getPointA:function(l){return l===void 0&&(l=new n),l.set(this.x1,this.y1),l},getPointB:function(l){return l===void 0&&(l=new n),l.set(this.x2,this.y2),l},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(l){this.x1<=this.x2?this.x1=l:this.x2=l}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(l){this.x1>this.x2?this.x1=l:this.x2=l}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(l){this.y1<=this.y2?this.y1=l:this.y2=l}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(l){this.y1>this.y2?this.y1=l:this.y2=l}}});c.exports=e},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return Math.sqrt((s.x2-s.x1)*(s.x2-s.x1)+(s.y2-s.y1)*(s.y2-s.y1))};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){var i=h-f;return f+((s-f)%i+i)%i};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={COMPLETE:t(891),DECODED:t(892),DECODED_ALL:t(893),DESTROY:t(894),DETUNE:t(895),GLOBAL_DETUNE:t(896),GLOBAL_MUTE:t(897),GLOBAL_RATE:t(898),GLOBAL_VOLUME:t(899),LOOP:t(900),LOOPED:t(901),MUTE:t(902),PAUSE_ALL:t(903),PAUSE:t(904),PLAY:t(905),RATE:t(906),RESUME_ALL:t(907),RESUME:t(908),SEEK:t(909),STOP_ALL:t(910),STOP:t(911),UNLOCKED:t(912),VOLUME:t(913)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(17),h=t(21),i=t(8),r=t(2),n=t(6),e=t(7),l=new s({Extends:h,initialize:function(o,u,v,d,p){var x="json";if(e(u)){var g=u;u=r(g,"key"),v=r(g,"url"),d=r(g,"xhrSettings"),x=r(g,"extension",x),p=r(g,"dataKey",p)}var m={type:"json",cache:o.cacheManager.json,extension:x,responseType:"text",key:u,url:v,xhrSettings:d,config:p};h.call(this,o,m),e(v)&&(p?this.data=n(v,p):this.data=v,this.state=f.FILE_POPULATED)},onProcess:function(){if(this.state!==f.FILE_POPULATED){this.state=f.FILE_PROCESSING;var a=JSON.parse(this.xhrLoader.responseText),o=this.config;typeof o=="string"?this.data=n(a,o,a):this.data=a}this.onProcessComplete()}});i.register("json",function(a,o,u,v){if(Array.isArray(a))for(var d=0;d<a.length;d++)this.addFile(new l(this,a[d]));else this.addFile(new l(this,a,o,v,u));return this}),c.exports=l},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=new s({initialize:function(i,r,n,e){this.loader=i,this.type=r,this.key=n,this.multiKeyIndex=i.multiKeyIndex++,this.files=e,this.complete=!1,this.pending=e.length,this.failed=0,this.config={},this.baseURL=i.baseURL,this.path=i.path,this.prefix=i.prefix;for(var l=0;l<e.length;l++)e[l].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(h){return this.files.push(h),h.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(h){var i=this.files.indexOf(h);i!==-1&&this.pending--},onFileFailed:function(h){var i=this.files.indexOf(h);i!==-1&&this.failed++}});c.exports=f},function(c,E,t){var s={};c.exports=s;var f=t(86),h=t(99),i=t(239),r=t(42),n=t(100),e=t(513);(function(){s._inertiaScale=4,s._nextCollidingGroupId=1,s._nextNonCollidingGroupId=-1,s._nextCategory=1,s.create=function(a){var o={id:r.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},previousPositionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!a.hasOwnProperty("position")&&a.hasOwnProperty("vertices")?a.position=f.centre(a.vertices):a.hasOwnProperty("vertices")||(o.vertices=f.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var u=r.extend(o,a);return l(u,a),u.setOnCollideWith=function(v,d){return d?this.onCollideWith[v.id]=d:delete this.onCollideWith[v.id],this},u},s.nextGroup=function(a){return a?s._nextNonCollidingGroupId--:s._nextCollidingGroupId++},s.nextCategory=function(){return s._nextCategory=s._nextCategory<<1,s._nextCategory};var l=function(a,o){o=o||{},s.set(a,{bounds:a.bounds||n.create(a.vertices),positionPrev:a.positionPrev||h.clone(a.position),anglePrev:a.anglePrev||a.angle,vertices:a.vertices,parts:a.parts||[a],isStatic:a.isStatic,isSleeping:a.isSleeping,parent:a.parent||a});var u=a.bounds;if(f.rotate(a.vertices,a.angle,a.position),e.rotate(a.axes,a.angle),n.update(u,a.vertices,a.velocity),s.set(a,{axes:o.axes||a.axes,area:o.area||a.area,mass:o.mass||a.mass,inertia:o.inertia||a.inertia}),a.parts.length===1){var v=a.centerOfMass,d=a.centerOffset,p=u.max.x-u.min.x,x=u.max.y-u.min.y;v.x=-(u.min.x-a.position.x)/p,v.y=-(u.min.y-a.position.y)/x,d.x=p*v.x,d.y=x*v.y}};s.set=function(a,o,u){var v;typeof o=="string"&&(v=o,o={},o[v]=u);for(v in o)if(Object.prototype.hasOwnProperty.call(o,v))switch(u=o[v],v){case"isStatic":s.setStatic(a,u);break;case"isSleeping":i.set(a,u);break;case"mass":s.setMass(a,u);break;case"density":s.setDensity(a,u);break;case"inertia":s.setInertia(a,u);break;case"vertices":s.setVertices(a,u);break;case"position":s.setPosition(a,u);break;case"angle":s.setAngle(a,u);break;case"velocity":s.setVelocity(a,u);break;case"angularVelocity":s.setAngularVelocity(a,u);break;case"parts":s.setParts(a,u);break;case"centre":s.setCentre(a,u);break;default:a[v]=u}},s.setStatic=function(a,o){for(var u=0;u<a.parts.length;u++){var v=a.parts[u];v.isStatic=o,o?(v._original={restitution:v.restitution,friction:v.friction,mass:v.mass,inertia:v.inertia,density:v.density,inverseMass:v.inverseMass,inverseInertia:v.inverseInertia},v.restitution=0,v.friction=1,v.mass=v.inertia=v.density=1/0,v.inverseMass=v.inverseInertia=0,v.positionPrev.x=v.position.x,v.positionPrev.y=v.position.y,v.anglePrev=v.angle,v.angularVelocity=0,v.speed=0,v.angularSpeed=0,v.motion=0):v._original&&(v.restitution=v._original.restitution,v.friction=v._original.friction,v.mass=v._original.mass,v.inertia=v._original.inertia,v.density=v._original.density,v.inverseMass=v._original.inverseMass,v.inverseInertia=v._original.inverseInertia,v._original=null)}},s.setMass=function(a,o){var u=a.inertia/(a.mass/6);a.inertia=u*(o/6),a.inverseInertia=1/a.inertia,a.mass=o,a.inverseMass=1/a.mass,a.density=a.mass/a.area},s.setDensity=function(a,o){s.setMass(a,o*a.area),a.density=o},s.setInertia=function(a,o){a.inertia=o,a.inverseInertia=1/a.inertia},s.setVertices=function(a,o){o[0].body===a?a.vertices=o:a.vertices=f.create(o,a),a.axes=e.fromVertices(a.vertices),a.area=f.area(a.vertices),s.setMass(a,a.density*a.area);var u=f.centre(a.vertices);f.translate(a.vertices,u,-1),s.setInertia(a,s._inertiaScale*f.inertia(a.vertices,a.mass)),f.translate(a.vertices,a.position),n.update(a.bounds,a.vertices,a.velocity)},s.setParts=function(a,o,u){var v;for(o=o.slice(0),a.parts.length=0,a.parts.push(a),a.parent=a,v=0;v<o.length;v++){var d=o[v];d!==a&&(d.parent=a,a.parts.push(d))}if(a.parts.length!==1){if(u=typeof u<"u"?u:!0,u){var p=[];for(v=0;v<o.length;v++)p=p.concat(o[v].vertices);f.clockwiseSort(p);var x=f.hull(p),g=f.centre(x);s.setVertices(a,x),f.translate(a.vertices,g)}var m=s._totalProperties(a),y=m.centre.x,T=m.centre.y,S=a.bounds,C=a.centerOfMass,P=a.centerOffset;n.update(S,a.vertices,a.velocity),C.x=-(S.min.x-y)/(S.max.x-S.min.x),C.y=-(S.min.y-T)/(S.max.y-S.min.y),P.x=y,P.y=T,a.area=m.area,a.parent=a,a.position.x=y,a.position.y=T,a.positionPrev.x=y,a.positionPrev.y=T,s.setMass(a,m.mass),s.setInertia(a,m.inertia),s.setPosition(a,m.centre)}},s.setCentre=function(a,o,u){u?(a.positionPrev.x+=o.x,a.positionPrev.y+=o.y,a.position.x+=o.x,a.position.y+=o.y):(a.positionPrev.x=o.x-(a.position.x-a.positionPrev.x),a.positionPrev.y=o.y-(a.position.y-a.positionPrev.y),a.position.x=o.x,a.position.y=o.y)},s.setPosition=function(a,o){var u=h.sub(o,a.position);a.positionPrev.x+=u.x,a.positionPrev.y+=u.y;for(var v=0;v<a.parts.length;v++){var d=a.parts[v];d.position.x+=u.x,d.position.y+=u.y,f.translate(d.vertices,u),n.update(d.bounds,d.vertices,a.velocity)}},s.setAngle=function(a,o){var u=o-a.angle;a.anglePrev+=u;for(var v=0;v<a.parts.length;v++){var d=a.parts[v];d.angle+=u,f.rotate(d.vertices,u,a.position),e.rotate(d.axes,u),n.update(d.bounds,d.vertices,a.velocity),v>0&&h.rotateAbout(d.position,u,a.position,d.position)}},s.setVelocity=function(a,o){a.positionPrev.x=a.position.x-o.x,a.positionPrev.y=a.position.y-o.y,a.velocity.x=o.x,a.velocity.y=o.y,a.speed=h.magnitude(a.velocity)},s.setAngularVelocity=function(a,o){a.anglePrev=a.angle-o,a.angularVelocity=o,a.angularSpeed=Math.abs(a.angularVelocity)},s.translate=function(a,o){s.setPosition(a,h.add(a.position,o))},s.rotate=function(a,o,u){if(!u)s.setAngle(a,a.angle+o);else{var v=Math.cos(o),d=Math.sin(o),p=a.position.x-u.x,x=a.position.y-u.y;s.setPosition(a,{x:u.x+(p*v-x*d),y:u.y+(p*d+x*v)}),s.setAngle(a,a.angle+o)}},s.scale=function(a,o,u,v){var d=0,p=0;v=v||a.position;for(var x=0;x<a.parts.length;x++){var g=a.parts[x];g.scale.x=o,g.scale.y=u,f.scale(g.vertices,o,u,v),g.axes=e.fromVertices(g.vertices),g.area=f.area(g.vertices),s.setMass(g,a.density*g.area),f.translate(g.vertices,{x:-g.position.x,y:-g.position.y}),s.setInertia(g,s._inertiaScale*f.inertia(g.vertices,g.mass)),f.translate(g.vertices,{x:g.position.x,y:g.position.y}),x>0&&(d+=g.area,p+=g.inertia),g.position.x=v.x+(g.position.x-v.x)*o,g.position.y=v.y+(g.position.y-v.y)*u,n.update(g.bounds,g.vertices,a.velocity)}a.parts.length>1&&(a.area=d,a.isStatic||(s.setMass(a,a.density*d),s.setInertia(a,p))),a.circleRadius&&(o===u?a.circleRadius*=o:a.circleRadius=null)},s.update=function(a,o,u,v){var d=Math.pow(o*u*a.timeScale,2),p=1-a.frictionAir*u*a.timeScale,x=a.position.x-a.positionPrev.x,g=a.position.y-a.positionPrev.y;a.velocity.x=x*p*v+a.force.x/a.mass*d,a.velocity.y=g*p*v+a.force.y/a.mass*d,a.positionPrev.x=a.position.x,a.positionPrev.y=a.position.y,a.position.x+=a.velocity.x,a.position.y+=a.velocity.y,a.angularVelocity=(a.angle-a.anglePrev)*p*v+a.torque/a.inertia*d,a.anglePrev=a.angle,a.angle+=a.angularVelocity,a.speed=h.magnitude(a.velocity),a.angularSpeed=Math.abs(a.angularVelocity);for(var m=0;m<a.parts.length;m++){var y=a.parts[m];f.translate(y.vertices,a.velocity),m>0&&(y.position.x+=a.velocity.x,y.position.y+=a.velocity.y),a.angularVelocity!==0&&(f.rotate(y.vertices,a.angularVelocity,a.position),e.rotate(y.axes,a.angularVelocity),m>0&&h.rotateAbout(y.position,a.angularVelocity,a.position,y.position)),n.update(y.bounds,y.vertices,a.velocity)}},s.applyForce=function(a,o,u){a.force.x+=u.x,a.force.y+=u.y;var v={x:o.x-a.position.x,y:o.y-a.position.y};a.torque+=v.x*u.y-v.y*u.x},s._totalProperties=function(a){for(var o={mass:0,area:0,inertia:0,centre:{x:0,y:0}},u=a.parts.length===1?0:1;u<a.parts.length;u++){var v=a.parts[u],d=v.mass!==1/0?v.mass:1;o.mass+=d,o.area+=v.area,o.inertia+=v.inertia,o.centre=h.add(o.centre,h.mult(v.position,d))}return o.centre=h.div(o.centre,o.mass),o}})()},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i){f===void 0&&(f=!0);var r=i.baseTileWidth,n=i.tilemapLayer;return n&&(h===void 0&&(h=n.scene.cameras.main),s=s-(n.x+h.scrollX*(1-n.scrollFactorX)),r*=n.scaleX),f?Math.floor(s/r):s/r};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i){f===void 0&&(f=!0);var r=i.baseTileHeight,n=i.tilemapLayer;return n&&(h===void 0&&(h=n.scene.cameras.main),s=s-(n.y+h.scrollY*(1-n.scrollFactorY)),r*=n.scaleY),f?Math.floor(s/r):s/r};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(55),h=t(266),i=t(267),r=t(47),n=t(150),e=new s({initialize:function(a,o,u){a===void 0&&(a=0),o===void 0&&(o=0),u===void 0&&(u=0),this.type=r.CIRCLE,this.x=a,this.y=o,this._radius=u,this._diameter=u*2},contains:function(l,a){return f(this,l,a)},getPoint:function(l,a){return h(this,l,a)},getPoints:function(l,a,o){return i(this,l,a,o)},getRandomPoint:function(l){return n(this,l)},setTo:function(l,a,o){return this.x=l,this.y=a,this._radius=o,this._diameter=o*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(l,a){return a===void 0&&(a=l),this.x=l,this.y=a,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(l){this._radius=l,this._diameter=l*2}},diameter:{get:function(){return this._diameter},set:function(l){this._diameter=l,this._radius=l*.5}},left:{get:function(){return this.x-this._radius},set:function(l){this.x=l+this._radius}},right:{get:function(){return this.x+this._radius},set:function(l){this.x=l-this._radius}},top:{get:function(){return this.y-this._radius},set:function(l){this.y=l+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(l){this.y=l-this._radius}}});c.exports=e},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports=s;function s(N,L,R){R=R||2;var F=L&&L.length,Y=F?L[0]*R:N.length,D=f(N,0,Y,R,!0),X=[];if(!D||D.next===D.prev)return X;var U,V,w,W,H,K,J;if(F&&(D=a(N,L,D,R)),N.length>80*R){U=w=N[0],V=W=N[1];for(var Z=R;Z<Y;Z+=R)H=N[Z],K=N[Z+1],H<U&&(U=H),K<V&&(V=K),H>w&&(w=H),K>W&&(W=K);J=Math.max(w-U,W-V),J=J!==0?1/J:0}return i(D,X,R,U,V,J),X}function f(N,L,R,F,Y){var D,X;if(Y===z(N,L,R,F)>0)for(D=L;D<R;D+=F)X=I(D,N[D],N[D+1],X);else for(D=R-F;D>=L;D-=F)X=I(D,N[D],N[D+1],X);return X&&S(X,X.next)&&(B(X),X=X.next),X}function h(N,L){if(!N)return N;L||(L=N);var R=N,F;do if(F=!1,!R.steiner&&(S(R,R.next)||T(R.prev,R,R.next)===0)){if(B(R),R=L=R.prev,R===R.next)break;F=!0}else R=R.next;while(F||R!==L);return L}function i(N,L,R,F,Y,D,X){if(N){!X&&D&&d(N,F,Y,D);for(var U=N,V,w;N.prev!==N.next;){if(V=N.prev,w=N.next,D?n(N,F,Y,D):r(N)){L.push(V.i/R),L.push(N.i/R),L.push(w.i/R),B(N),N=w.next,U=w.next;continue}if(N=w,N===U){X?X===1?(N=e(N,L,R),i(N,L,R,F,Y,D,2)):X===2&&l(N,L,R,F,Y,D):i(h(N),L,R,F,Y,D,1);break}}}}function r(N){var L=N.prev,R=N,F=N.next;if(T(L,R,F)>=0)return!1;for(var Y=N.next.next;Y!==N.prev;){if(m(L.x,L.y,R.x,R.y,F.x,F.y,Y.x,Y.y)&&T(Y.prev,Y,Y.next)>=0)return!1;Y=Y.next}return!0}function n(N,L,R,F){var Y=N.prev,D=N,X=N.next;if(T(Y,D,X)>=0)return!1;for(var U=Y.x<D.x?Y.x<X.x?Y.x:X.x:D.x<X.x?D.x:X.x,V=Y.y<D.y?Y.y<X.y?Y.y:X.y:D.y<X.y?D.y:X.y,w=Y.x>D.x?Y.x>X.x?Y.x:X.x:D.x>X.x?D.x:X.x,W=Y.y>D.y?Y.y>X.y?Y.y:X.y:D.y>X.y?D.y:X.y,H=x(U,V,L,R,F),K=x(w,W,L,R,F),J=N.prevZ,Z=N.nextZ;J&&J.z>=H&&Z&&Z.z<=K;){if(J!==N.prev&&J!==N.next&&m(Y.x,Y.y,D.x,D.y,X.x,X.y,J.x,J.y)&&T(J.prev,J,J.next)>=0||(J=J.prevZ,Z!==N.prev&&Z!==N.next&&m(Y.x,Y.y,D.x,D.y,X.x,X.y,Z.x,Z.y)&&T(Z.prev,Z,Z.next)>=0))return!1;Z=Z.nextZ}for(;J&&J.z>=H;){if(J!==N.prev&&J!==N.next&&m(Y.x,Y.y,D.x,D.y,X.x,X.y,J.x,J.y)&&T(J.prev,J,J.next)>=0)return!1;J=J.prevZ}for(;Z&&Z.z<=K;){if(Z!==N.prev&&Z!==N.next&&m(Y.x,Y.y,D.x,D.y,X.x,X.y,Z.x,Z.y)&&T(Z.prev,Z,Z.next)>=0)return!1;Z=Z.nextZ}return!0}function e(N,L,R){var F=N;do{var Y=F.prev,D=F.next.next;!S(Y,D)&&C(Y,F,F.next,D)&&A(Y,D)&&A(D,Y)&&(L.push(Y.i/R),L.push(F.i/R),L.push(D.i/R),B(F),B(F.next),F=N=D),F=F.next}while(F!==N);return F}function l(N,L,R,F,Y,D){var X=N;do{for(var U=X.next.next;U!==X.prev;){if(X.i!==U.i&&y(X,U)){var V=O(X,U);X=h(X,X.next),V=h(V,V.next),i(X,L,R,F,Y,D),i(V,L,R,F,Y,D);return}U=U.next}X=X.next}while(X!==N)}function a(N,L,R,F){var Y=[],D,X,U,V,w;for(D=0,X=L.length;D<X;D++)U=L[D]*F,V=D<X-1?L[D+1]*F:N.length,w=f(N,U,V,F,!1),w===w.next&&(w.steiner=!0),Y.push(g(w));for(Y.sort(o),D=0;D<Y.length;D++)u(Y[D],R),R=h(R,R.next);return R}function o(N,L){return N.x-L.x}function u(N,L){if(L=v(N,L),L){var R=O(L,N);h(R,R.next)}}function v(N,L){var R=L,F=N.x,Y=N.y,D=-1/0,X;do{if(Y<=R.y&&Y>=R.next.y&&R.next.y!==R.y){var U=R.x+(Y-R.y)*(R.next.x-R.x)/(R.next.y-R.y);if(U<=F&&U>D){if(D=U,U===F){if(Y===R.y)return R;if(Y===R.next.y)return R.next}X=R.x<R.next.x?R:R.next}}R=R.next}while(R!==L);if(!X)return null;if(F===D)return X.prev;var V=X,w=X.x,W=X.y,H=1/0,K;for(R=X.next;R!==V;)F>=R.x&&R.x>=w&&F!==R.x&&m(Y<W?F:D,Y,w,W,Y<W?D:F,Y,R.x,R.y)&&(K=Math.abs(Y-R.y)/(F-R.x),(K<H||K===H&&R.x>X.x)&&A(R,N)&&(X=R,H=K)),R=R.next;return X}function d(N,L,R,F){var Y=N;do Y.z===null&&(Y.z=x(Y.x,Y.y,L,R,F)),Y.prevZ=Y.prev,Y.nextZ=Y.next,Y=Y.next;while(Y!==N);Y.prevZ.nextZ=null,Y.prevZ=null,p(Y)}function p(N){var L,R,F,Y,D,X,U,V,w=1;do{for(R=N,N=null,D=null,X=0;R;){for(X++,F=R,U=0,L=0;L<w&&(U++,F=F.nextZ,!!F);L++);for(V=w;U>0||V>0&&F;)U!==0&&(V===0||!F||R.z<=F.z)?(Y=R,R=R.nextZ,U--):(Y=F,F=F.nextZ,V--),D?D.nextZ=Y:N=Y,Y.prevZ=D,D=Y;R=F}D.nextZ=null,w*=2}while(X>1);return N}function x(N,L,R,F,Y){return N=32767*(N-R)*Y,L=32767*(L-F)*Y,N=(N|N<<8)&16711935,N=(N|N<<4)&252645135,N=(N|N<<2)&858993459,N=(N|N<<1)&1431655765,L=(L|L<<8)&16711935,L=(L|L<<4)&252645135,L=(L|L<<2)&858993459,L=(L|L<<1)&1431655765,N|L<<1}function g(N){var L=N,R=N;do L.x<R.x&&(R=L),L=L.next;while(L!==N);return R}function m(N,L,R,F,Y,D,X,U){return(Y-X)*(L-U)-(N-X)*(D-U)>=0&&(N-X)*(F-U)-(R-X)*(L-U)>=0&&(R-X)*(D-U)-(Y-X)*(F-U)>=0}function y(N,L){return N.next.i!==L.i&&N.prev.i!==L.i&&!P(N,L)&&A(N,L)&&A(L,N)&&M(N,L)}function T(N,L,R){return(L.y-N.y)*(R.x-L.x)-(L.x-N.x)*(R.y-L.y)}function S(N,L){return N.x===L.x&&N.y===L.y}function C(N,L,R,F){return S(N,L)&&S(R,F)||S(N,F)&&S(R,L)?!0:T(N,L,R)>0!=T(N,L,F)>0&&T(R,F,N)>0!=T(R,F,L)>0}function P(N,L){var R=N;do{if(R.i!==N.i&&R.next.i!==N.i&&R.i!==L.i&&R.next.i!==L.i&&C(R,R.next,N,L))return!0;R=R.next}while(R!==N);return!1}function A(N,L){return T(N.prev,N,N.next)<0?T(N,L,N.next)>=0&&T(N,N.prev,L)>=0:T(N,L,N.prev)<0||T(N,N.next,L)<0}function M(N,L){var R=N,F=!1,Y=(N.x+L.x)/2,D=(N.y+L.y)/2;do R.y>D!=R.next.y>D&&R.next.y!==R.y&&Y<(R.next.x-R.x)*(D-R.y)/(R.next.y-R.y)+R.x&&(F=!F),R=R.next;while(R!==N);return F}function O(N,L){var R=new G(N.i,N.x,N.y),F=new G(L.i,L.x,L.y),Y=N.next,D=L.prev;return N.next=L,L.prev=N,R.next=Y,Y.prev=R,F.next=R,R.prev=F,D.next=F,F.prev=D,F}function I(N,L,R,F){var Y=new G(N,L,R);return F?(Y.next=F.next,Y.prev=F,F.next.prev=Y,F.next=Y):(Y.prev=Y,Y.next=Y),Y}function B(N){N.next.prev=N.prev,N.prev.next=N.next,N.prevZ&&(N.prevZ.nextZ=N.nextZ),N.nextZ&&(N.nextZ.prevZ=N.prevZ)}function G(N,L,R){this.i=N,this.x=L,this.y=R,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}s.deviation=function(N,L,R,F){var Y=L&&L.length,D=Y?L[0]*R:N.length,X=Math.abs(z(N,0,D,R));if(Y)for(var U=0,V=L.length;U<V;U++){var w=L[U]*R,W=U<V-1?L[U+1]*R:N.length;X-=Math.abs(z(N,w,W,R))}var H=0;for(U=0;U<F.length;U+=3){var K=F[U]*R,J=F[U+1]*R,Z=F[U+2]*R;H+=Math.abs((N[K]-N[Z])*(N[J+1]-N[K+1])-(N[K]-N[J])*(N[Z+1]-N[K+1]))}return X===0&&H===0?0:Math.abs((H-X)/X)};function z(N,L,R,F){for(var Y=0,D=L,X=R-F;D<R;D+=F)Y+=(N[X]-N[D])*(N[D+1]+N[X+1]),X=D;return Y}s.flatten=function(N){for(var L=N[0][0].length,R={vertices:[],holes:[],dimensions:L},F=0,Y=0;Y<N.length;Y++){for(var D=0;D<N[Y].length;D++)for(var X=0;X<L;X++)R.vertices.push(N[Y][D][X]);Y>0&&(F+=N[Y-1].length,R.holes.push(F))}return R}},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){var f={};for(var h in s)Array.isArray(s[h])?f[h]=s[h].slice(0):f[h]=s[h];return f};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i){var r=s.length;if(f<0||f>r||f>=h||h>r||f+h>r){if(i)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(115),f=t(181),h=function(i,r){var n=s.Power0;if(typeof i=="string")if(s.hasOwnProperty(i))n=s[i];else{var e="";i.indexOf(".")&&(e=i.substr(i.indexOf(".")+1),e.toLowerCase()==="in"?e="easeIn":e.toLowerCase()==="out"?e="easeOut":e.toLowerCase()==="inout"&&(e="easeInOut")),i=f(i.substr(0,i.indexOf(".")+1)+e),s.hasOwnProperty(i)&&(n=s[i])}else typeof i=="function"?n=i:Array.isArray(i)&&i.length;if(!r)return n;var l=r.slice(0);return l.unshift(0),function(a){return l[0]=a,n.apply(this,l)}};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(9),f=function(h,i,r,n,e){var l=h.strokeTint,a=s.getTintAppendFloatAlphaAndSwap(i.strokeColor,i.strokeAlpha*r);l.TL=a,l.TR=a,l.BL=a,l.BR=a;var o=i.pathData,u=o.length-1,v=i.lineWidth,d=v/2,p=o[0]-n,x=o[1]-e;i.closePath||(u-=2);for(var g=2;g<u;g+=2){var m=o[g]-n,y=o[g+1]-e;h.setTexture2D(),h.batchLine(p,x,m,y,d,d,v,g-2,i.closePath?g===u-1:!1),p=m,x=y}};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(83),h=t(425),i=t(426),r=t(47),n=t(56),e=t(158),l=new s({initialize:function(o,u,v,d,p,x){o===void 0&&(o=0),u===void 0&&(u=0),v===void 0&&(v=0),d===void 0&&(d=0),p===void 0&&(p=0),x===void 0&&(x=0),this.type=r.TRIANGLE,this.x1=o,this.y1=u,this.x2=v,this.y2=d,this.x3=p,this.y3=x},contains:function(a,o){return f(this,a,o)},getPoint:function(a,o){return h(this,a,o)},getPoints:function(a,o,u){return i(this,a,o,u)},getRandomPoint:function(a){return e(this,a)},setTo:function(a,o,u,v,d,p){return a===void 0&&(a=0),o===void 0&&(o=0),u===void 0&&(u=0),v===void 0&&(v=0),d===void 0&&(d=0),p===void 0&&(p=0),this.x1=a,this.y1=o,this.x2=u,this.y2=v,this.x3=d,this.y3=p,this},getLineA:function(a){return a===void 0&&(a=new n),a.setTo(this.x1,this.y1,this.x2,this.y2),a},getLineB:function(a){return a===void 0&&(a=new n),a.setTo(this.x2,this.y2,this.x3,this.y3),a},getLineC:function(a){return a===void 0&&(a=new n),a.setTo(this.x3,this.y3,this.x1,this.y1),a},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(a){var o=0;this.x1<=this.x2&&this.x1<=this.x3?o=this.x1-a:this.x2<=this.x1&&this.x2<=this.x3?o=this.x2-a:o=this.x3-a,this.x1-=o,this.x2-=o,this.x3-=o}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(a){var o=0;this.x1>=this.x2&&this.x1>=this.x3?o=this.x1-a:this.x2>=this.x1&&this.x2>=this.x3?o=this.x2-a:o=this.x3-a,this.x1-=o,this.x2-=o,this.x3-=o}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(a){var o=0;this.y1<=this.y2&&this.y1<=this.y3?o=this.y1-a:this.y2<=this.y1&&this.y2<=this.y3?o=this.y2-a:o=this.y3-a,this.y1-=o,this.y2-=o,this.y3-=o}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(a){var o=0;this.y1>=this.y2&&this.y1>=this.y3?o=this.y1-a:this.y2>=this.y1&&this.y2>=this.y3?o=this.y2-a:o=this.y3-a,this.y1-=o,this.y2-=o,this.y3-=o}}});c.exports=l},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(17),h=t(21),i=t(8),r=t(2),n=t(7),e=new s({Extends:h,initialize:function l(a,o,u,v,d){var p="png",x;if(n(o)){var g=o;o=r(g,"key"),u=r(g,"url"),x=r(g,"normalMap"),v=r(g,"xhrSettings"),p=r(g,"extension",p),d=r(g,"frameConfig")}Array.isArray(u)&&(x=u[1],u=u[0]);var m={type:"image",cache:a.textureManager,extension:p,responseType:"blob",key:o,url:u,xhrSettings:v,config:d};if(h.call(this,a,m),x){var y=new l(a,this.key,x,v,d);y.type="normalMap",this.setLink(y),a.addFile(y)}},onProcess:function(){this.state=f.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var l=this;this.data.onload=function(){h.revokeObjectURL(l.data),l.onProcessComplete()},this.data.onerror=function(){h.revokeObjectURL(l.data),l.onProcessError()},h.createObjectURL(this.data,this.xhrLoader.response,"image/png")},addToCache:function(){var l,a=this.linkFile;a&&a.state===f.FILE_COMPLETE?(this.type==="image"?l=this.cache.addImage(this.key,this.data,a.data):l=this.cache.addImage(a.key,a.data,this.data),this.pendingDestroy(l),a.pendingDestroy(l)):a||(l=this.cache.addImage(this.key,this.data),this.pendingDestroy(l))}});i.register("image",function(l,a,o){if(Array.isArray(l))for(var u=0;u<l.length;u++)this.addFile(new e(this,l[u]));else this.addFile(new e(this,l,a,o));return this}),c.exports=e},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){f?s.setCollision(!0,!0,!0,!0,!1):s.resetCollision(!1)};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(12),h=t(444),i=new s({Mixins:[f.Alpha,f.Flip,f.Visible],initialize:function(n,e,l,a,o,u,v,d){this.layer=n,this.index=e,this.x=l,this.y=a,this.width=o,this.height=u,this.baseWidth=v!==void 0?v:o,this.baseHeight=d!==void 0?d:u,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=null,this.collisionCallbackContext=this,this.tint=16777215,this.physics={}},containsPoint:function(r,n){return!(r<this.pixelX||n<this.pixelY||r>this.right||n>this.bottom)},copy:function(r){return this.index=r.index,this.alpha=r.alpha,this.properties=r.properties,this.visible=r.visible,this.setFlip(r.flipX,r.flipY),this.tint=r.tint,this.rotation=r.rotation,this.collideUp=r.collideUp,this.collideDown=r.collideDown,this.collideLeft=r.collideLeft,this.collideRight=r.collideRight,this.collisionCallback=r.collisionCallback,this.collisionCallbackContext=r.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(r){var n=this.tilemapLayer;return n?n.tileToWorldX(this.x,r):this.x*this.baseWidth},getRight:function(r){var n=this.tilemapLayer;return n?this.getLeft(r)+this.width*n.scaleX:this.getLeft(r)+this.width},getTop:function(r){var n=this.tilemapLayer;return n?n.tileToWorldY(this.y,r)-(this.height-this.baseHeight)*n.scaleY:this.y*this.baseHeight-(this.height-this.baseHeight)},getBottom:function(r){var n=this.tilemapLayer;return n?this.getTop(r)+this.height*n.scaleY:this.getTop(r)+this.height},getBounds:function(r,n){return n===void 0&&(n=new h),n.x=this.getLeft(),n.y=this.getTop(),n.width=this.getRight()-n.x,n.height=this.getBottom()-n.y,n},getCenterX:function(r){return(this.getLeft(r)+this.getRight(r))/2},getCenterY:function(r){return(this.getTop(r)+this.getBottom(r))/2},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},intersects:function(r,n,e,l){return!(e<=this.pixelX||l<=this.pixelY||r>=this.right||n>=this.bottom)},isInteresting:function(r,n){return r&&n?this.canCollide||this.hasInterestingFace:r?this.collides:n?this.hasInterestingFace:!1},resetCollision:function(r){if(r===void 0&&(r=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,r){var n=this.tilemapLayer;n&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(r,n,e,l,a){if(n===void 0&&(n=r),e===void 0&&(e=r),l===void 0&&(l=r),a===void 0&&(a=!0),this.collideLeft=r,this.collideRight=n,this.collideUp=e,this.collideDown=l,this.faceLeft=r,this.faceRight=n,this.faceTop=e,this.faceBottom=l,a){var o=this.tilemapLayer;o&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(r,n){return r===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=r,this.collisionCallbackContext=n),this},setSize:function(r,n,e,l){return r!==void 0&&(this.width=r),n!==void 0&&(this.height=n),e!==void 0&&(this.baseWidth=e),l!==void 0&&(this.baseHeight=l),this.updatePixelXY(),this},updatePixelXY:function(){return this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight,this},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var r=this.layer.tilemapLayer;if(r){var n=r.gidMap[this.index];if(n)return n}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var r=this.tilemapLayer;return r?r.tilemap:null}}});c.exports=i},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(12),h=t(14),i=t(967),r=new s({Extends:h,Mixins:[f.Alpha,f.BlendMode,f.Depth,f.Flip,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.ScrollFactor,f.Size,f.TextureCrop,f.Tint,f.Transform,f.Visible,i],initialize:function(e,l,a,o,u){h.call(this,e,"Sprite"),this._crop=this.resetCropObject(),this.anims=new f.Animation(this),this.setTexture(o,u),this.setPosition(l,a),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline()},preUpdate:function(n,e){this.anims.update(n,e)},play:function(n,e,l){return this.anims.play(n,e,l),this},toJSON:function(){var n=f.ToJSON(this);return n},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});c.exports=r},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return s.x-s.width*s.originX+s.width*.5};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){var h=s.width*s.originX;return s.x=f+h-s.width*.5,s};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return s.y-s.height*s.originY+s.height*.5};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){var h=s.height*s.originY;return s.y=f+h-s.height*.5,s};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){if(!(f>=s.length)){for(var h=s.length-1,i=s[f],r=f;r<h;r++)s[r]=s[r+1];return s.length=h,i}};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(176),h=t(11),i=t(3),r=new s({initialize:function(e){this.type=e,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new i,this._tmpVec2B=new i},draw:function(n,e){return e===void 0&&(e=32),n.strokePoints(this.getPoints(e))},getBounds:function(n,e){n||(n=new h),e===void 0&&(e=16);var l=this.getLength();e>l&&(e=l/2);var a=Math.max(1,Math.round(l/e));return f(this.getSpacedPoints(a),n)},getDistancePoints:function(n){var e=this.getLength(),l=Math.max(1,e/n);return this.getSpacedPoints(l)},getEndPoint:function(n){return n===void 0&&(n=new i),this.getPointAt(1,n)},getLength:function(){var n=this.getLengths();return n[n.length-1]},getLengths:function(n){if(n===void 0&&(n=this.arcLengthDivisions),this.cacheArcLengths.length===n+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e=[],l,a=this.getPoint(0,this._tmpVec2A),o=0;e.push(0);for(var u=1;u<=n;u++)l=this.getPoint(u/n,this._tmpVec2B),o+=l.distance(a),e.push(o),a.copy(l);return this.cacheArcLengths=e,e},getPointAt:function(n,e){var l=this.getUtoTmapping(n);return this.getPoint(l,e)},getPoints:function(n,e,l){l===void 0&&(l=[]),n||(e?n=this.getLength()/e:n=this.defaultDivisions);for(var a=0;a<=n;a++)l.push(this.getPoint(a/n));return l},getRandomPoint:function(n){return n===void 0&&(n=new i),this.getPoint(Math.random(),n)},getSpacedPoints:function(n,e,l){l===void 0&&(l=[]),n||(e?n=this.getLength()/e:n=this.defaultDivisions);for(var a=0;a<=n;a++){var o=this.getUtoTmapping(a/n,null,n);l.push(this.getPoint(o))}return l},getStartPoint:function(n){return n===void 0&&(n=new i),this.getPointAt(0,n)},getTangent:function(n,e){e===void 0&&(e=new i);var l=1e-4,a=n-l,o=n+l;return a<0&&(a=0),o>1&&(o=1),this.getPoint(a,this._tmpVec2A),this.getPoint(o,e),e.subtract(this._tmpVec2A).normalize()},getTangentAt:function(n,e){var l=this.getUtoTmapping(n);return this.getTangent(l,e)},getTFromDistance:function(n,e){return n<=0?0:this.getUtoTmapping(0,n,e)},getUtoTmapping:function(n,e,l){var a=this.getLengths(l),o=0,u=a.length,v;e?v=Math.min(e,a[u-1]):v=n*a[u-1];for(var d=0,p=u-1,x;d<=p;)if(o=Math.floor(d+(p-d)/2),x=a[o]-v,x<0)d=o+1;else if(x>0)p=o-1;else{p=o;break}if(o=p,a[o]===v)return o/(u-1);var g=a[o],m=a[o+1],y=m-g,T=(v-g)/y;return(o+T)/(u-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ADD:t(870),COMPLETE:t(871),FILE_COMPLETE:t(872),FILE_KEY_COMPLETE:t(873),FILE_LOAD_ERROR:t(874),FILE_LOAD:t(875),FILE_PROGRESS:t(876),POST_PROCESS:t(877),PROGRESS:t(878),START:t(879)}},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){var i=s.x3-s.x1,r=s.y3-s.y1,n=s.x2-s.x1,e=s.y2-s.y1,l=f-s.x1,a=h-s.y1,o=i*i+r*r,u=i*n+r*e,v=i*l+r*a,d=n*n+e*e,p=n*l+e*a,x=o*d-u*u,g=x===0?0:1/x,m=(d*v-u*p)*g,y=(o*p-u*v)*g;return m>=0&&y>=0&&m+y<1};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(4),f=function(h,i,r){r===void 0&&(r=new s);var n=h.x1,e=h.y1,l=h.x2,a=h.y2,o=i.x1,u=i.y1,v=i.x2,d=i.y2,p=(v-o)*(e-u)-(d-u)*(n-o),x=(l-n)*(e-u)-(a-e)*(n-o),g=(d-u)*(l-n)-(v-o)*(a-e);if(g===0)return!1;var m=p/g,y=x/g;return m>=0&&m<=1&&y>=0&&y<=1?(r.x=n+m*(l-n),r.y=e+m*(a-e),!0):!1};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return Math.atan2(s.y2-s.y1,s.x2-s.x1)};c.exports=t},function(c,E,t){var s={};c.exports=s;var f=t(99),h=t(42);(function(){s.create=function(i,r){for(var n=[],e=0;e<i.length;e++){var l=i[e],a={x:l.x,y:l.y,index:e,body:r,isInternal:!1,contact:null,offset:null};a.contact={vertex:a,normalImpulse:0,tangentImpulse:0},n.push(a)}return n},s.fromPath=function(i,r){var n=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,e=[];return i.replace(n,function(l,a,o){e.push({x:parseFloat(a),y:parseFloat(o)})}),s.create(e,r)},s.centre=function(i){for(var r=s.area(i,!0),n={x:0,y:0},e,l,a,o=0;o<i.length;o++)a=(o+1)%i.length,e=f.cross(i[o],i[a]),l=f.mult(f.add(i[o],i[a]),e),n=f.add(n,l);return f.div(n,6*r)},s.mean=function(i){for(var r={x:0,y:0},n=0;n<i.length;n++)r.x+=i[n].x,r.y+=i[n].y;return f.div(r,i.length)},s.area=function(i,r){for(var n=0,e=i.length-1,l=0;l<i.length;l++)n+=(i[e].x-i[l].x)*(i[e].y+i[l].y),e=l;return r?n/2:Math.abs(n)/2},s.inertia=function(i,r){for(var n=0,e=0,l=i,a,o,u=0;u<l.length;u++)o=(u+1)%l.length,a=Math.abs(f.cross(l[o],l[u])),n+=a*(f.dot(l[o],l[o])+f.dot(l[o],l[u])+f.dot(l[u],l[u])),e+=a;return r/6*(n/e)},s.translate=function(i,r,n){var e;if(n)for(e=0;e<i.length;e++)i[e].x+=r.x*n,i[e].y+=r.y*n;else for(e=0;e<i.length;e++)i[e].x+=r.x,i[e].y+=r.y;return i},s.rotate=function(i,r,n){if(r!==0){for(var e=Math.cos(r),l=Math.sin(r),a=0;a<i.length;a++){var o=i[a],u=o.x-n.x,v=o.y-n.y;o.x=n.x+(u*e-v*l),o.y=n.y+(u*l+v*e)}return i}},s.contains=function(i,r){for(var n=0;n<i.length;n++){var e=i[n],l=i[(n+1)%i.length];if((r.x-e.x)*(l.y-e.y)+(r.y-e.y)*(e.x-l.x)>0)return!1}return!0},s.scale=function(i,r,n,e){if(r===1&&n===1)return i;e=e||s.centre(i);for(var l,a,o=0;o<i.length;o++)l=i[o],a=f.sub(l,e),i[o].x=e.x+a.x*r,i[o].y=e.y+a.y*n;return i},s.chamfer=function(i,r,n,e,l){typeof r=="number"?r=[r]:r=r||[8],n=typeof n<"u"?n:-1,e=e||2,l=l||14;for(var a=[],o=0;o<i.length;o++){var u=i[o-1>=0?o-1:i.length-1],v=i[o],d=i[(o+1)%i.length],p=r[o<r.length?o:r.length-1];if(p===0){a.push(v);continue}var x=f.normalise({x:v.y-u.y,y:u.x-v.x}),g=f.normalise({x:d.y-v.y,y:v.x-d.x}),m=Math.sqrt(2*Math.pow(p,2)),y=f.mult(h.clone(x),p),T=f.normalise(f.mult(f.add(x,g),.5)),S=f.sub(v,f.mult(T,m)),C=n;n===-1&&(C=Math.pow(p,.32)*1.75),C=h.clamp(C,e,l),C%2===1&&(C+=1);for(var P=Math.acos(f.dot(x,g)),A=P/C,M=0;M<C;M++)a.push(f.add(f.rotate(y,A*M),S))}return a},s.clockwiseSort=function(i){var r=s.mean(i);return i.sort(function(n,e){return f.angle(r,n)-f.angle(r,e)}),i},s.isConvex=function(i){var r=0,n=i.length,e,l,a,o;if(n<3)return null;for(e=0;e<n;e++)if(l=(e+1)%n,a=(e+2)%n,o=(i[l].x-i[e].x)*(i[a].y-i[l].y),o-=(i[l].y-i[e].y)*(i[a].x-i[l].x),o<0?r|=1:o>0&&(r|=2),r===3)return!1;return r!==0?!0:null},s.hull=function(i){var r=[],n=[],e,l;for(i=i.slice(0),i.sort(function(a,o){var u=a.x-o.x;return u!==0?u:a.y-o.y}),l=0;l<i.length;l+=1){for(e=i[l];n.length>=2&&f.cross3(n[n.length-2],n[n.length-1],e)<=0;)n.pop();n.push(e)}for(l=i.length-1;l>=0;l-=1){for(e=i[l];r.length>=2&&f.cross3(r[r.length-2],r[r.length-1],e)<=0;)r.pop();r.push(e)}return r.pop(),n.pop(),r.concat(n)}})()},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(19),f=function(h,i,r){return h=s(h,0,1),(r-i)*h};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){return s&&s.hasOwnProperty(f)?s[f]:h};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={CREATED:0,INIT:1,DELAY:2,OFFSET_DELAY:3,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING_ADD:20,PAUSED:21,LOOP_DELAY:22,ACTIVE:23,COMPLETE_DELAY:24,PENDING_REMOVE:25,REMOVED:26};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={DESTROY:t(582),VIDEO_COMPLETE:t(583),VIDEO_CREATED:t(584),VIDEO_ERROR:t(585),VIDEO_LOOP:t(586),VIDEO_PLAY:t(587),VIDEO_SEEKED:t(588),VIDEO_SEEKING:t(589),VIDEO_STOP:t(590),VIDEO_TIMEOUT:t(591),VIDEO_UNLOCKED:t(592)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(12),h=t(39),i=t(10),r=t(40),n=t(11),e=t(29),l=t(164),a=t(3),o=new s({Extends:i,Mixins:[f.Alpha,f.Visible],initialize:function(v,d,p,x){v===void 0&&(v=0),d===void 0&&(d=0),p===void 0&&(p=0),x===void 0&&(x=0),i.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.resolution=1,this.roundPixels=!1,this.useBounds=!1,this.worldView=new n,this.dirty=!0,this._x=v,this._y=d,this._cx=0,this._cy=0,this._cw=0,this._ch=0,this._width=p,this._height=x,this._bounds=new n,this._scrollX=0,this._scrollY=0,this._zoom=1,this._rotation=0,this.matrix=new e,this.transparent=!0,this.backgroundColor=l("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new a(p/2,x/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null},setOrigin:function(u,v){return u===void 0&&(u=.5),v===void 0&&(v=u),this.originX=u,this.originY=v,this},getScroll:function(u,v,d){d===void 0&&(d=new a);var p=this.width*.5,x=this.height*.5;return d.x=u-p,d.y=v-x,this.useBounds&&(d.x=this.clampX(d.x),d.y=this.clampY(d.y)),d},centerOnX:function(u){var v=this.width*.5;return this.midPoint.x=u,this.scrollX=u-v,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(u){var v=this.height*.5;return this.midPoint.y=u,this.scrollY=u-v,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(u,v){return this.centerOnX(u),this.centerOnY(v),this},centerToBounds:function(){if(this.useBounds){var u=this._bounds,v=this.width*.5,d=this.height*.5;this.midPoint.set(u.centerX,u.centerY),this.scrollX=u.centerX-v,this.scrollY=u.centerY-d}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(u){if(this.disableCull)return u;var v=this.matrix.matrix,d=v[0],p=v[1],x=v[2],g=v[3],m=d*g-p*x;if(!m)return u;var y=v[4],T=v[5],S=this.scrollX,C=this.scrollY,P=this.width,A=this.height,M=this.y,O=M+A,I=this.x,B=I+P,G=this.culledObjects,z=u.length;m=1/m,G.length=0;for(var N=0;N<z;++N){var L=u[N];if(!L.hasOwnProperty("width")||L.parentContainer){G.push(L);continue}var R=L.width,F=L.height,Y=L.x-S*L.scrollFactorX-R*L.originX,D=L.y-C*L.scrollFactorY-F*L.originY,X=Y*d+D*x+y,U=Y*p+D*g+T,V=(Y+R)*d+(D+F)*x+y,w=(Y+R)*p+(D+F)*g+T;V>I&&X<B&&w>M&&U<O&&G.push(L)}return G},getWorldPoint:function(u,v,d){d===void 0&&(d=new a);var p=this.matrix.matrix,x=p[0],g=p[1],m=p[2],y=p[3],T=p[4],S=p[5],C=x*y-g*m;if(!C)return d.x=u,d.y=v,d;C=1/C;var P=y*C,A=-g*C,M=-m*C,O=x*C,I=(m*S-y*T)*C,B=(g*T-x*S)*C,G=Math.cos(this.rotation),z=Math.sin(this.rotation),N=this.zoom,L=this.resolution,R=this.scrollX,F=this.scrollY,Y=u+(R*G-F*z)*N,D=v+(R*z+F*G)*N;return d.x=(Y*P+D*M)*L+I,d.y=(Y*A+D*O)*L+B,d},ignore:function(u){var v=this.id;Array.isArray(u)||(u=[u]);for(var d=0;d<u.length;d++){var p=u[d];Array.isArray(p)?this.ignore(p):p.isParent?this.ignore(p.getChildren()):p.cameraFilter|=v}return this},preRender:function(u){var v=this.width,d=this.height,p=v*.5,x=d*.5,g=this.zoom*u,m=this.matrix,y=v*this.originX,T=d*this.originY,S=this.scrollX,C=this.scrollY;this.useBounds&&(S=this.clampX(S),C=this.clampY(C)),this.roundPixels&&(y=Math.round(y),T=Math.round(T)),this.scrollX=S,this.scrollY=C;var P=S+p,A=C+x;this.midPoint.set(P,A);var M=v/g,O=d/g;this.worldView.setTo(P-M/2,A-O/2,M,O),m.applyITRS(this.x+y,this.y+T,this.rotation,g,g),m.translate(-y,-T)},clampX:function(u){var v=this._bounds,d=this.displayWidth,p=v.x+(d-this.width)/2,x=Math.max(p,p+v.width-d);return u<p?u=p:u>x&&(u=x),u},clampY:function(u){var v=this._bounds,d=this.displayHeight,p=v.y+(d-this.height)/2,x=Math.max(p,p+v.height-d);return u<p?u=p:u>x&&(u=x),u},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(u){return u===void 0&&(u=0),this.rotation=h(u),this},setBackgroundColor:function(u){return u===void 0&&(u="rgba(0,0,0,0)"),this.backgroundColor=l(u),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(u,v,d,p,x){return x===void 0&&(x=!1),this._bounds.setTo(u,v,d,p),this.dirty=!0,this.useBounds=!0,x?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(u){u===void 0&&(u=new n);var v=this._bounds;return u.setTo(v.x,v.y,v.width,v.height),u},setName:function(u){return u===void 0&&(u=""),this.name=u,this},setPosition:function(u,v){return v===void 0&&(v=u),this.x=u,this.y=v,this},setRotation:function(u){return u===void 0&&(u=0),this.rotation=u,this},setRoundPixels:function(u){return this.roundPixels=u,this},setScene:function(u){this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=u;var v=u.sys;this.sceneManager=v.game.scene,this.scaleManager=v.scale,this.cameraManager=v.cameras;var d=this.scaleManager.resolution;return this.resolution=d,this._cx=this._x*d,this._cy=this._y*d,this._cw=this._width*d,this._ch=this._height*d,this.updateSystem(),this},setScroll:function(u,v){return v===void 0&&(v=u),this.scrollX=u,this.scrollY=v,this},setSize:function(u,v){return v===void 0&&(v=u),this.width=u,this.height=v,this},setViewport:function(u,v,d,p){return this.x=u,this.y=v,this.width=d,this.height=p,this},setZoom:function(u){return u===void 0&&(u=1),u===0&&(u=.001),this.zoom=u,this},setMask:function(u,v){return v===void 0&&(v=!0),this.mask=u,this._maskCamera=v?this.cameraManager.default:this,this},clearMask:function(u){return u===void 0&&(u=!1),u&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var u={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(u.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),u},update:function(){},updateSystem:function(){if(this.scaleManager){var u=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,v=this.sceneManager;u&&!this._customViewport?v.customViewports++:!u&&this._customViewport&&v.customViewports--,this.dirty=!0,this._customViewport=u}},destroy:function(){this.emit(r.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(u){this._x=u,this._cx=u*this.resolution,this.updateSystem()}},y:{get:function(){return this._y},set:function(u){this._y=u,this._cy=u*this.resolution,this.updateSystem()}},width:{get:function(){return this._width},set:function(u){this._width=u,this._cw=u*this.resolution,this.updateSystem()}},height:{get:function(){return this._height},set:function(u){this._height=u,this._ch=u*this.resolution,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(u){this._scrollX=u,this.dirty=!0}},scrollY:{get:function(){return this._scrollY},set:function(u){this._scrollY=u,this.dirty=!0}},zoom:{get:function(){return this._zoom},set:function(u){this._zoom=u,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(u){this._rotation=u,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoom}},displayHeight:{get:function(){return this.height/this.zoom}}});c.exports=o},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ENTER_FULLSCREEN:t(703),FULLSCREEN_FAILED:t(704),FULLSCREEN_UNSUPPORTED:t(705),LEAVE_FULLSCREEN:t(706),ORIENTATION_CHANGE:t(707),RESIZE:t(708)}},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i){return h===void 0&&(h=0),f===0?s:(s-=h,s=f*Math.floor(s/f),i?(h+s)/f:h+s)};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(19),h=t(18),i=new s({initialize:function(n,e,l,a,o,u,v){this.texture=n,this.name=e,this.source=n.source[l],this.sourceIndex=l,this.glTexture=this.source.glTexture,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0}},this.setSize(u,v,a,o)},setSize:function(r,n,e,l){e===void 0&&(e=0),l===void 0&&(l=0),this.cutX=e,this.cutY=l,this.cutWidth=r,this.cutHeight=n,this.width=r,this.height=n,this.halfWidth=Math.floor(r*.5),this.halfHeight=Math.floor(n*.5),this.centerX=Math.floor(r/2),this.centerY=Math.floor(n/2);var a=this.data,o=a.cut;o.x=e,o.y=l,o.w=r,o.h=n,o.r=e+r,o.b=l+n,a.sourceSize.w=r,a.sourceSize.h=n,a.spriteSourceSize.w=r,a.spriteSourceSize.h=n,a.radius=.5*Math.sqrt(r*r+n*n);var u=a.drawImage;return u.x=e,u.y=l,u.width=r,u.height=n,this.updateUVs()},setTrim:function(r,n,e,l,a,o){var u=this.data,v=u.spriteSourceSize;return u.trim=!0,u.sourceSize.w=r,u.sourceSize.h=n,v.x=e,v.y=l,v.w=a,v.h=o,v.r=e+a,v.b=l+o,this.x=e,this.y=l,this.width=a,this.height=o,this.halfWidth=a*.5,this.halfHeight=o*.5,this.centerX=Math.floor(a/2),this.centerY=Math.floor(o/2),this.updateUVs()},setCropUVs:function(r,n,e,l,a,o,u){var v=this.cutX,d=this.cutY,p=this.cutWidth,x=this.cutHeight,g=this.realWidth,m=this.realHeight;n=f(n,0,g),e=f(e,0,m),l=f(l,0,g-n),a=f(a,0,m-e);var y=v+n,T=d+e,S=l,C=a,P=this.data;if(P.trim){var A=P.spriteSourceSize;l=f(l,0,p-n),a=f(a,0,x-e);var M=n+l,O=e+a,I=!(A.r<n||A.b<e||A.x>M||A.y>O);if(I){var B=Math.max(A.x,n),G=Math.max(A.y,e),z=Math.min(A.r,M)-B,N=Math.min(A.b,O)-G;S=z,C=N,o?y=v+(p-(B-A.x)-z):y=v+(B-A.x),u?T=d+(x-(G-A.y)-N):T=d+(G-A.y),n=B,e=G,l=z,a=N}else y=0,T=0,S=0,C=0}else o&&(y=v+(p-n-l)),u&&(T=d+(x-e-a));var L=this.source.width,R=this.source.height;return r.u0=Math.max(0,y/L),r.v0=Math.max(0,T/R),r.u1=Math.min(1,(y+S)/L),r.v1=Math.min(1,(T+C)/R),r.x=n,r.y=e,r.cx=y,r.cy=T,r.cw=S,r.ch=C,r.width=l,r.height=a,r.flipX=o,r.flipY=u,r},updateCropUVs:function(r,n,e){return this.setCropUVs(r,r.x,r.y,r.width,r.height,n,e)},updateUVs:function(){var r=this.cutX,n=this.cutY,e=this.cutWidth,l=this.cutHeight,a=this.data.drawImage;a.width=e,a.height=l;var o=this.source.width,u=this.source.height;return this.u0=r/o,this.v0=n/u,this.u1=(r+e)/o,this.v1=(n+l)/u,this},updateUVsInverted:function(){var r=this.source.width,n=this.source.height;return this.u0=(this.cutX+this.cutHeight)/r,this.v0=this.cutY/n,this.u1=this.cutX/r,this.v1=(this.cutY+this.cutWidth)/n,this},clone:function(){var r=new i(this.texture,this.name,this.sourceIndex);return r.cutX=this.cutX,r.cutY=this.cutY,r.cutWidth=this.cutWidth,r.cutHeight=this.cutHeight,r.x=this.x,r.y=this.y,r.width=this.width,r.height=this.height,r.halfWidth=this.halfWidth,r.halfHeight=this.halfHeight,r.centerX=this.centerX,r.centerY=this.centerY,r.rotated=this.rotated,r.data=h(!0,r.data,this.data),r.updateUVs(),r},destroy:function(){this.source=null,this.texture=null,this.glTexture=null,this.customData=null,this.data=null},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},canvasData:{get:function(){return this.data.drawImage}}});c.exports=i},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(96),h=t(398),i=t(399),r=t(47),n=t(157),e=new s({initialize:function(a,o,u,v){a===void 0&&(a=0),o===void 0&&(o=0),u===void 0&&(u=0),v===void 0&&(v=0),this.type=r.ELLIPSE,this.x=a,this.y=o,this.width=u,this.height=v},contains:function(l,a){return f(this,l,a)},getPoint:function(l,a){return h(this,l,a)},getPoints:function(l,a,o){return i(this,l,a,o)},getRandomPoint:function(l){return n(this,l)},setTo:function(l,a,o,u){return this.x=l,this.y=a,this.width=o,this.height=u,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(l,a){return a===void 0&&(a=l),this.x=l,this.y=a,this},setSize:function(l,a){return a===void 0&&(a=l),this.width=l,this.height=a,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(l){this.x=l+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(l){this.x=l-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(l){this.y=l+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(l){this.y=l-this.height/2}}});c.exports=e},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){if(s.width<=0||s.height<=0)return!1;var i=(f-s.x)/s.width,r=(h-s.y)/s.height;return i*=i,r*=r,i+r<.25};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(241),f=t(0),h=t(90),i=t(2),r=t(6),n=t(7),e=t(392),l=t(133),a=t(75),o=new f({initialize:function(v,d,p){p?d&&!Array.isArray(d)&&(d=[d]):Array.isArray(d)?n(d[0])&&(p=d,d=null):n(d)&&(p=d,d=null),this.scene=v,this.children=new l,this.isParent=!0,this.type="Group",this.classType=i(p,"classType",a),this.name=i(p,"name",""),this.active=i(p,"active",!0),this.maxSize=i(p,"maxSize",-1),this.defaultKey=i(p,"defaultKey",null),this.defaultFrame=i(p,"defaultFrame",null),this.runChildUpdate=i(p,"runChildUpdate",!1),this.createCallback=i(p,"createCallback",null),this.removeCallback=i(p,"removeCallback",null),this.createMultipleCallback=i(p,"createMultipleCallback",null),this.internalCreateCallback=i(p,"internalCreateCallback",null),this.internalRemoveCallback=i(p,"internalRemoveCallback",null),d&&this.addMultiple(d),p&&this.createMultiple(p)},create:function(u,v,d,p,x,g){if(u===void 0&&(u=0),v===void 0&&(v=0),d===void 0&&(d=this.defaultKey),p===void 0&&(p=this.defaultFrame),x===void 0&&(x=!0),g===void 0&&(g=!0),this.isFull())return null;var m=new this.classType(this.scene,u,v,d,p);return this.scene.sys.displayList.add(m),m.preUpdate&&this.scene.sys.updateList.add(m),m.visible=x,m.setActive(g),this.add(m),m},createMultiple:function(u){if(this.isFull())return[];Array.isArray(u)||(u=[u]);var v=[];if(u[0].key)for(var d=0;d<u.length;d++){var p=this.createFromConfig(u[d]);v=v.concat(p)}return v},createFromConfig:function(u){if(this.isFull())return[];this.classType=i(u,"classType",this.classType);var v=i(u,"key",void 0),d=i(u,"frame",null),p=i(u,"visible",!0),x=i(u,"active",!0),g=[];if(v===void 0)return g;Array.isArray(v)||(v=[v]),Array.isArray(d)||(d=[d]);var m=i(u,"repeat",0),y=i(u,"randomKey",!1),T=i(u,"randomFrame",!1),S=i(u,"yoyo",!1),C=i(u,"quantity",!1),P=i(u,"frameQuantity",1),A=i(u,"max",0),M=e(v,d,{max:A,qty:C||P,random:y,randomB:T,repeat:m,yoyo:S});u.createCallback&&(this.createCallback=u.createCallback),u.removeCallback&&(this.removeCallback=u.removeCallback);for(var O=0;O<M.length;O++){var I=this.create(0,0,M[O].a,M[O].b,p,x);if(!I)break;g.push(I)}var B=r(u,"setXY.x",0),G=r(u,"setXY.y",0),z=r(u,"setXY.stepX",0),N=r(u,"setXY.stepY",0);s.SetXY(g,B,G,z,N);var L=r(u,"setRotation.value",0),R=r(u,"setRotation.step",0);s.SetRotation(g,L,R);var F=r(u,"setScale.x",1),Y=r(u,"setScale.y",F),D=r(u,"setScale.stepX",0),X=r(u,"setScale.stepY",0);s.SetScale(g,F,Y,D,X);var U=r(u,"setAlpha.value",1),V=r(u,"setAlpha.step",0);s.SetAlpha(g,U,V);var w=r(u,"setDepth.value",0),W=r(u,"setDepth.step",0);s.SetDepth(g,w,W);var H=r(u,"setScrollFactor.x",1),K=r(u,"setScrollFactor.y",H),J=r(u,"setScrollFactor.stepX",0),Z=r(u,"setScrollFactor.stepY",0);s.SetScrollFactor(g,H,K,J,Z);var q=i(u,"hitArea",null),k=i(u,"hitAreaCallback",null);q&&s.SetHitArea(g,q,k);var j=i(u,"gridAlign",!1);return j&&s.GridAlign(g,j),this.createMultipleCallback&&this.createMultipleCallback.call(this,g),g},preUpdate:function(u,v){if(!(!this.runChildUpdate||this.children.size===0))for(var d=this.children.entries.slice(),p=0;p<d.length;p++){var x=d[p];x.active&&x.update(u,v)}},add:function(u,v){return v===void 0&&(v=!1),this.isFull()?this:(this.children.set(u),this.internalCreateCallback&&this.internalCreateCallback.call(this,u),this.createCallback&&this.createCallback.call(this,u),v&&(this.scene.sys.displayList.add(u),u.preUpdate&&this.scene.sys.updateList.add(u)),u.on(h.DESTROY,this.remove,this),this)},addMultiple:function(u,v){if(v===void 0&&(v=!1),Array.isArray(u))for(var d=0;d<u.length;d++)this.add(u[d],v);return this},remove:function(u,v,d){return v===void 0&&(v=!1),d===void 0&&(d=!1),this.children.contains(u)?(this.children.delete(u),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,u),this.removeCallback&&this.removeCallback.call(this,u),u.off(h.DESTROY,this.remove,this),d?u.destroy():v&&(u.scene.sys.displayList.remove(u),u.preUpdate&&u.scene.sys.updateList.remove(u)),this):this},clear:function(u,v){u===void 0&&(u=!1),v===void 0&&(v=!1);for(var d=this.children,p=0;p<d.size;p++){var x=d.entries[p];x.off(h.DESTROY,this.remove,this),v?x.destroy():u&&(x.scene.sys.displayList.remove(x),x.preUpdate&&x.scene.sys.updateList.remove(x))}return this.children.clear(),this},contains:function(u){return this.children.contains(u)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getFirst:function(u,v,d,p,x,g,m){return this.getHandler(!0,1,u,v,d,p,x,g,m)},getFirstNth:function(u,v,d,p,x,g,m,y){return this.getHandler(!0,u,v,d,p,x,g,m,y)},getLast:function(u,v,d,p,x,g,m){return this.getHandler(!1,1,u,v,d,p,x,g,m)},getLastNth:function(u,v,d,p,x,g,m,y){return this.getHandler(!1,u,v,d,p,x,g,m,y)},getHandler:function(u,v,d,p,x,g,m,y,T){d===void 0&&(d=!1),p===void 0&&(p=!1);var S,C,P=0,A=this.children.entries;if(u)for(C=0;C<A.length;C++)if(S=A[C],S.active===d){if(P++,P===v)break}else S=null;else for(C=A.length-1;C>=0;C--)if(S=A[C],S.active===d){if(P++,P===v)break}else S=null;return S?(typeof x=="number"&&(S.x=x),typeof g=="number"&&(S.y=g),S):p?this.create(x,g,m,y,T):null},get:function(u,v,d,p,x){return this.getFirst(!1,!0,u,v,d,p,x)},getFirstAlive:function(u,v,d,p,x,g){return this.getFirst(!0,u,v,d,p,x,g)},getFirstDead:function(u,v,d,p,x,g){return this.getFirst(!1,u,v,d,p,x,g)},playAnimation:function(u,v){return s.PlayAnimation(this.children.entries,u,v),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(u){u===void 0&&(u=!0);for(var v=0,d=0;d<this.children.size;d++)this.children.entries[d].active===u&&v++;return v},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var u=this.getTotalUsed(),v=this.maxSize===-1?999999999999:this.maxSize;return v-u},setActive:function(u){return this.active=u,this},setName:function(u){return this.name=u,this},propertyValueSet:function(u,v,d,p,x){return s.PropertyValueSet(this.children.entries,u,v,d,p,x),this},propertyValueInc:function(u,v,d,p,x){return s.PropertyValueInc(this.children.entries,u,v,d,p,x),this},setX:function(u,v){return s.SetX(this.children.entries,u,v),this},setY:function(u,v){return s.SetY(this.children.entries,u,v),this},setXY:function(u,v,d,p){return s.SetXY(this.children.entries,u,v,d,p),this},incX:function(u,v){return s.IncX(this.children.entries,u,v),this},incY:function(u,v){return s.IncY(this.children.entries,u,v),this},incXY:function(u,v,d,p){return s.IncXY(this.children.entries,u,v,d,p),this},shiftPosition:function(u,v,d){return s.ShiftPosition(this.children.entries,u,v,d),this},angle:function(u,v){return s.Angle(this.children.entries,u,v),this},rotate:function(u,v){return s.Rotate(this.children.entries,u,v),this},rotateAround:function(u,v){return s.RotateAround(this.children.entries,u,v),this},rotateAroundDistance:function(u,v,d){return s.RotateAroundDistance(this.children.entries,u,v,d),this},setAlpha:function(u,v){return s.SetAlpha(this.children.entries,u,v),this},setTint:function(u,v,d,p){return s.SetTint(this.children.entries,u,v,d,p),this},setOrigin:function(u,v,d,p){return s.SetOrigin(this.children.entries,u,v,d,p),this},scaleX:function(u,v){return s.ScaleX(this.children.entries,u,v),this},scaleY:function(u,v){return s.ScaleY(this.children.entries,u,v),this},scaleXY:function(u,v,d,p){return s.ScaleXY(this.children.entries,u,v,d,p),this},setDepth:function(u,v){return s.SetDepth(this.children.entries,u,v),this},setBlendMode:function(u){return s.SetBlendMode(this.children.entries,u),this},setHitArea:function(u,v){return s.SetHitArea(this.children.entries,u,v),this},shuffle:function(){return s.Shuffle(this.children.entries),this},kill:function(u){this.children.contains(u)&&u.setActive(!1)},killAndHide:function(u){this.children.contains(u)&&(u.setActive(!1),u.setVisible(!1))},setVisible:function(u,v,d){return s.SetVisible(this.children.entries,u,v,d),this},toggleVisible:function(){return s.ToggleVisible(this.children.entries),this},destroy:function(u){u===void 0&&(u=!1),!(!this.scene||this.ignoreDestroy)&&(this.clear(!1,u),this.scene=void 0,this.children=void 0)}});c.exports=o},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(9),f=function(h,i,r,n,e,l){for(var a=s.getTintAppendFloatAlphaAndSwap(r.fillColor,r.fillAlpha*n),o=r.pathData,u=r.pathIndexes,v=0;v<u.length;v+=3){var d=u[v]*2,p=u[v+1]*2,x=u[v+2]*2,g=o[d+0]-e,m=o[d+1]-l,y=o[p+0]-e,T=o[p+1]-l,S=o[x+0]-e,C=o[x+1]-l,P=i.getX(g,m),A=i.getY(g,m),M=i.getX(y,T),O=i.getY(y,T),I=i.getX(S,C),B=i.getY(S,C);h.setTexture2D(),h.batchTri(P,A,M,O,I,B,0,0,1,1,a,a,a,h.tintEffect)}};c.exports=f},function(c,E){var t={};c.exports=t,function(){t.create=function(s,f){return{x:s||0,y:f||0}},t.clone=function(s){return{x:s.x,y:s.y}},t.magnitude=function(s){return Math.sqrt(s.x*s.x+s.y*s.y)},t.magnitudeSquared=function(s){return s.x*s.x+s.y*s.y},t.rotate=function(s,f,h){var i=Math.cos(f),r=Math.sin(f);h||(h={});var n=s.x*i-s.y*r;return h.y=s.x*r+s.y*i,h.x=n,h},t.rotateAbout=function(s,f,h,i){var r=Math.cos(f),n=Math.sin(f);i||(i={});var e=h.x+((s.x-h.x)*r-(s.y-h.y)*n);return i.y=h.y+((s.x-h.x)*n+(s.y-h.y)*r),i.x=e,i},t.normalise=function(s){var f=t.magnitude(s);return f===0?{x:0,y:0}:{x:s.x/f,y:s.y/f}},t.dot=function(s,f){return s.x*f.x+s.y*f.y},t.cross=function(s,f){return s.x*f.y-s.y*f.x},t.cross3=function(s,f,h){return(f.x-s.x)*(h.y-s.y)-(f.y-s.y)*(h.x-s.x)},t.add=function(s,f,h){return h||(h={}),h.x=s.x+f.x,h.y=s.y+f.y,h},t.sub=function(s,f,h){return h||(h={}),h.x=s.x-f.x,h.y=s.y-f.y,h},t.mult=function(s,f){return{x:s.x*f,y:s.y*f}},t.div=function(s,f){return{x:s.x/f,y:s.y/f}},t.perp=function(s,f){return f=f===!0?-1:1,{x:f*-s.y,y:f*s.x}},t.neg=function(s){return{x:-s.x,y:-s.y}},t.angle=function(s,f){return Math.atan2(f.y-s.y,f.x-s.x)},t._temp=[t.create(),t.create(),t.create(),t.create(),t.create(),t.create()]}()},function(c,E){var t={};c.exports=t,function(){t.create=function(s){var f={min:{x:0,y:0},max:{x:0,y:0}};return s&&t.update(f,s),f},t.update=function(s,f,h){s.min.x=1/0,s.max.x=-1/0,s.min.y=1/0,s.max.y=-1/0;for(var i=0;i<f.length;i++){var r=f[i];r.x>s.max.x&&(s.max.x=r.x),r.x<s.min.x&&(s.min.x=r.x),r.y>s.max.y&&(s.max.y=r.y),r.y<s.min.y&&(s.min.y=r.y)}h&&(h.x>0?s.max.x+=h.x:s.min.x+=h.x,h.y>0?s.max.y+=h.y:s.min.y+=h.y)},t.contains=function(s,f){return f.x>=s.min.x&&f.x<=s.max.x&&f.y>=s.min.y&&f.y<=s.max.y},t.overlaps=function(s,f){return s.min.x<=f.max.x&&s.max.x>=f.min.x&&s.max.y>=f.min.y&&s.min.y<=f.max.y},t.translate=function(s,f){s.min.x+=f.x,s.max.x+=f.x,s.min.y+=f.y,s.max.y+=f.y},t.shift=function(s,f){var h=s.max.x-s.min.x,i=s.max.y-s.min.y;s.min.x=f.x,s.max.x=f.x+h,s.min.y=f.y,s.max.y=f.y+i}}()},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){return s>=0&&s<h.width&&f>=0&&f<h.height};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(2),h=new s({initialize:function(r){r===void 0&&(r={}),this.name=f(r,"name","layer"),this.x=f(r,"x",0),this.y=f(r,"y",0),this.width=f(r,"width",0),this.height=f(r,"height",0),this.tileWidth=f(r,"tileWidth",0),this.tileHeight=f(r,"tileHeight",0),this.baseTileWidth=f(r,"baseTileWidth",this.tileWidth),this.baseTileHeight=f(r,"baseTileHeight",this.tileHeight),this.widthInPixels=f(r,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=f(r,"heightInPixels",this.height*this.baseTileHeight),this.alpha=f(r,"alpha",1),this.visible=f(r,"visible",!0),this.properties=f(r,"properties",[]),this.indexes=f(r,"indexes",[]),this.collideIndexes=f(r,"collideIndexes",[]),this.callbacks=f(r,"callbacks",[]),this.bodies=f(r,"bodies",[]),this.data=f(r,"data",[]),this.tilemapLayer=f(r,"tilemapLayer",null)}});c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(2),h=new s({initialize:function(r){r===void 0&&(r={}),this.name=f(r,"name","map"),this.width=f(r,"width",0),this.height=f(r,"height",0),this.infinite=f(r,"infinite",!1),this.tileWidth=f(r,"tileWidth",0),this.tileHeight=f(r,"tileHeight",0),this.widthInPixels=f(r,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=f(r,"heightInPixels",this.height*this.tileHeight),this.format=f(r,"format",null),this.orientation=f(r,"orientation","orthogonal"),this.renderOrder=f(r,"renderOrder","right-down"),this.version=f(r,"version","1"),this.properties=f(r,"properties",{}),this.layers=f(r,"layers",[]),this.images=f(r,"images",[]),this.objects=f(r,"objects",{}),this.collision=f(r,"collision",{}),this.tilesets=f(r,"tilesets",[]),this.imageCollections=f(r,"imageCollections",[]),this.tiles=f(r,"tiles",[])}});c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=new s({initialize:function(i,r,n,e,l,a,o,u){(n===void 0||n<=0)&&(n=32),(e===void 0||e<=0)&&(e=32),l===void 0&&(l=0),a===void 0&&(a=0),o===void 0&&(o={}),u===void 0&&(u={}),this.name=i,this.firstgid=r,this.tileWidth=n,this.tileHeight=e,this.tileMargin=l,this.tileSpacing=a,this.tileProperties=o,this.tileData=u,this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(h){return this.containsTileIndex(h)?this.tileProperties[h-this.firstgid]:null},getTileData:function(h){return this.containsTileIndex(h)?this.tileData[h-this.firstgid]:null},getTileCollisionGroup:function(h){var i=this.getTileData(h);return i&&i.objectgroup?i.objectgroup:null},containsTileIndex:function(h){return h>=this.firstgid&&h<this.firstgid+this.total},getTileTextureCoordinates:function(h){return this.containsTileIndex(h)?this.texCoordinates[h-this.firstgid]:null},setImage:function(h){return this.image=h,this.glTexture=h.get().source.glTexture,this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setTileSize:function(h,i){return h!==void 0&&(this.tileWidth=h),i!==void 0&&(this.tileHeight=i),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(h,i){return h!==void 0&&(this.tileMargin=h),i!==void 0&&(this.tileSpacing=i),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(h,i){var r=(i-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),n=(h-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(r%1!==0||n%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),r=Math.floor(r),n=Math.floor(n),this.rows=r,this.columns=n,this.total=r*n,this.texCoordinates.length=0;for(var e=this.tileMargin,l=this.tileMargin,a=0;a<this.rows;a++){for(var o=0;o<this.columns;o++)this.texCoordinates.push({x:e,y:l}),e+=this.tileWidth+this.tileSpacing;e=this.tileMargin,l+=this.tileHeight+this.tileSpacing}return this}});c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){return h===void 0&&(h=1e-4),Math.abs(s-f)<h};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(12),h=t(14),i=t(970),r=new s({Extends:h,Mixins:[f.Alpha,f.BlendMode,f.Depth,f.Flip,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.ScrollFactor,f.Size,f.TextureCrop,f.Tint,f.Transform,f.Visible,i],initialize:function(e,l,a,o,u){h.call(this,e,"Image"),this._crop=this.resetCropObject(),this.setTexture(o,u),this.setPosition(l,a),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline()}});c.exports=r},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){return s.hasOwnProperty(f)};c.exports=t},function(c,E,t){var s={};c.exports=s;var f=t(86),h=t(42),i=t(62),r=t(100),n=t(99),e=t(1386);(function(){s.rectangle=function(l,a,o,u,v){v=v||{};var d={label:"Rectangle Body",position:{x:l,y:a},vertices:f.fromPath("L 0 0 L "+o+" 0 L "+o+" "+u+" L 0 "+u)};if(v.chamfer){var p=v.chamfer;d.vertices=f.chamfer(d.vertices,p.radius,p.quality,p.qualityMin,p.qualityMax),delete v.chamfer}return i.create(h.extend({},d,v))},s.trapezoid=function(l,a,o,u,v,d){d=d||{},v*=.5;var p=(1-v*2)*o,x=o*v,g=x+p,m=g+x,y;v<.5?y="L 0 0 L "+x+" "+-u+" L "+g+" "+-u+" L "+m+" 0":y="L 0 0 L "+g+" "+-u+" L "+m+" 0";var T={label:"Trapezoid Body",position:{x:l,y:a},vertices:f.fromPath(y)};if(d.chamfer){var S=d.chamfer;T.vertices=f.chamfer(T.vertices,S.radius,S.quality,S.qualityMin,S.qualityMax),delete d.chamfer}return i.create(h.extend({},T,d))},s.circle=function(l,a,o,u,v){u=u||{};var d={label:"Circle Body",circleRadius:o};v=v||25;var p=Math.ceil(Math.max(10,Math.min(v,o)));return p%2===1&&(p+=1),s.polygon(l,a,p,o,h.extend({},d,u))},s.polygon=function(l,a,o,u,v){if(v=v||{},o<3)return s.circle(l,a,u,v);for(var d=2*Math.PI/o,p="",x=d*.5,g=0;g<o;g+=1){var m=x+g*d,y=Math.cos(m)*u,T=Math.sin(m)*u;p+="L "+y.toFixed(3)+" "+T.toFixed(3)+" "}var S={label:"Polygon Body",position:{x:l,y:a},vertices:f.fromPath(p)};if(v.chamfer){var C=v.chamfer;S.vertices=f.chamfer(S.vertices,C.radius,C.quality,C.qualityMin,C.qualityMax),delete v.chamfer}return i.create(h.extend({},S,v))},s.fromVertices=function(l,a,o,u,v,d,p){var x,g,m,y,T,S;for(u=u||{},g=[],v=typeof v<"u"?v:!1,d=typeof d<"u"?d:.01,p=typeof p<"u"?p:10,e||h.warn("Bodies.fromVertices: poly-decomp.js required. Could not decompose vertices. Fallback to convex hull."),h.isArray(o[0])||(o=[o]),S=0;S<o.length;S+=1)if(y=o[S],m=f.isConvex(y),m||!e)m?y=f.clockwiseSort(y):y=f.hull(y),g.push({position:{x:l,y:a},vertices:y});else{var C=y.map(function(O){return[O.x,O.y]});e.makeCCW(C),d!==!1&&e.removeCollinearPoints(C,d);var P=e.quickDecomp(C);for(T=0;T<P.length;T++){var A=P[T],M=A.map(function(O){return{x:O[0],y:O[1]}});p>0&&f.area(M)<p||g.push({position:f.centre(M),vertices:M})}}for(T=0;T<g.length;T++)g[T]=i.create(h.extend(g[T],u));return v&&s.flagCoincidentParts(g,5),g.length>1?(x=i.create(h.extend({parts:g.slice(0)},u)),i.setPosition(x,{x:l,y:a}),x):g[0]},s.flagCoincidentParts=function(l,a){a===void 0&&(a=5);for(var o=0;o<l.length;o++)for(var u=l[o],v=o+1;v<l.length;v++){var d=l[v];if(r.overlaps(u.bounds,d.bounds))for(var p=u.vertices,x=d.vertices,g=0;g<u.vertices.length;g++)for(var m=0;m<d.vertices.length;m++){var y=n.magnitudeSquared(n.sub(p[(g+1)%p.length],x[m])),T=n.magnitudeSquared(n.sub(p[g],x[(m+1)%x.length]));y<a&&T<a&&(p[g].isInternal=!0,x[m].isInternal=!0)}}return l}})()},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(52),f=t(65),h=t(55),i=t(0),r=t(12),n=t(14),e=t(11),l=t(48),a=new i({Extends:n,Mixins:[r.Depth,r.GetBounds,r.Origin,r.Transform,r.ScrollFactor,r.Visible],initialize:function(u,v,d,p,x){p===void 0&&(p=1),x===void 0&&(x=p),n.call(this,u,"Zone"),this.setPosition(v,d),this.width=p,this.height=x,this.blendMode=s.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(o){this.scaleX=o/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(o){this.scaleY=o/this.height}},setSize:function(o,u,v){v===void 0&&(v=!0),this.width=o,this.height=u,this.updateDisplayOrigin();var d=this.input;return v&&d&&!d.customHitArea&&(d.hitArea.width=o,d.hitArea.height=u),this},setDisplaySize:function(o,u){return this.displayWidth=o,this.displayHeight=u,this},setCircleDropZone:function(o){return this.setDropZone(new f(0,0,o),h)},setRectangleDropZone:function(o,u){return this.setDropZone(new e(0,0,o,u),l)},setDropZone:function(o,u){return o===void 0?this.setRectangleDropZone(this.width,this.height):this.input||this.setInteractive(o,u,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(){},renderWebGL:function(){}});c.exports=a},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ADD_ANIMATION:t(534),ANIMATION_COMPLETE:t(535),ANIMATION_REPEAT:t(536),ANIMATION_RESTART:t(537),ANIMATION_START:t(538),PAUSE_ALL:t(539),REMOVE_ANIMATION:t(540),RESUME_ALL:t(541),SPRITE_ANIMATION_COMPLETE:t(542),SPRITE_ANIMATION_KEY_COMPLETE:t(543),SPRITE_ANIMATION_KEY_REPEAT:t(544),SPRITE_ANIMATION_KEY_RESTART:t(545),SPRITE_ANIMATION_KEY_START:t(546),SPRITE_ANIMATION_KEY_UPDATE:t(547),SPRITE_ANIMATION_REPEAT:t(548),SPRITE_ANIMATION_RESTART:t(549),SPRITE_ANIMATION_START:t(550),SPRITE_ANIMATION_UPDATE:t(551)}},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return 2*(s.width+s.height)};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(284),h=new s({initialize:function(r,n){this.parent=r,this.events=n,n||(this.events=r.events?r.events:r),this.list={},this.values={},this._frozen=!1,!r.hasOwnProperty("sys")&&this.events&&this.events.once("destroy",this.destroy,this)},get:function(i){var r=this.list;if(Array.isArray(i)){for(var n=[],e=0;e<i.length;e++)n.push(r[i[e]]);return n}else return r[i]},getAll:function(){var i={};for(var r in this.list)this.list.hasOwnProperty(r)&&(i[r]=this.list[r]);return i},query:function(i){var r={};for(var n in this.list)this.list.hasOwnProperty(n)&&n.match(i)&&(r[n]=this.list[n]);return r},set:function(i,r){if(this._frozen)return this;if(typeof i=="string")return this.setValue(i,r);for(var n in i)this.setValue(n,i[n]);return this},inc:function(i,r){if(this._frozen)return this;r===void 0&&(r=1);var n=this.get(i);return n===void 0&&(n=0),this.set(i,n+r),this},toggle:function(i){return this._frozen?this:(this.set(i,!this.get(i)),this)},setValue:function(i,r){if(this._frozen)return this;if(this.has(i))this.values[i]=r;else{var n=this,e=this.list,l=this.events,a=this.parent;Object.defineProperty(this.values,i,{enumerable:!0,configurable:!0,get:function(){return e[i]},set:function(o){if(!n._frozen){var u=e[i];e[i]=o,l.emit(f.CHANGE_DATA,a,i,o,u),l.emit(f.CHANGE_DATA_KEY+i,a,o,u)}}}),e[i]=r,l.emit(f.SET_DATA,a,i,r)}return this},each:function(i,r){for(var n=[this.parent,null,void 0],e=1;e<arguments.length;e++)n.push(arguments[e]);for(var l in this.list)n[1]=l,n[2]=this.list[l],i.apply(r,n);return this},merge:function(i,r){r===void 0&&(r=!0);for(var n in i)i.hasOwnProperty(n)&&(r||!r&&!this.has(n))&&this.setValue(n,i[n]);return this},remove:function(i){if(this._frozen)return this;if(Array.isArray(i))for(var r=0;r<i.length;r++)this.removeValue(i[r]);else return this.removeValue(i);return this},removeValue:function(i){if(this.has(i)){var r=this.list[i];delete this.list[i],delete this.values[i],this.events.emit(f.REMOVE_DATA,this.parent,i,r)}return this},pop:function(i){var r=void 0;return!this._frozen&&this.has(i)&&(r=this.list[i],delete this.list[i],delete this.values[i],this.events.emit(f.REMOVE_DATA,this.parent,i,r)),r},has:function(i){return this.list.hasOwnProperty(i)},setFreeze:function(i){return this._frozen=i,this},reset:function(){for(var i in this.list)delete this.list[i],delete this.values[i];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(f.CHANGE_DATA),this.events.off(f.SET_DATA),this.events.off(f.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(i){this._frozen=!!i}},count:{get:function(){var i=0;for(var r in this.list)this.list[r]!==void 0&&i++;return i}}});c.exports=h},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){for(var f=s.length-1;f>0;f--){var h=Math.floor(Math.random()*(f+1)),i=s[f];s[f]=s[h],s[h]=i}return s};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(302),f=t(303),h=t(304),i=t(305),r=t(306),n=t(307),e=t(308),l=t(309),a=t(310),o=t(311),u=t(312),v=t(313);c.exports={Power0:e,Power1:l.Out,Power2:i.Out,Power3:a.Out,Power4:o.Out,Linear:e,Quad:l.Out,Cubic:i.Out,Quart:a.Out,Quint:o.Out,Sine:u.Out,Expo:n.Out,Circ:h.Out,Elastic:r.Out,Back:s.Out,Bounce:f.Out,Stepped:v,"Quad.easeIn":l.In,"Cubic.easeIn":i.In,"Quart.easeIn":a.In,"Quint.easeIn":o.In,"Sine.easeIn":u.In,"Expo.easeIn":n.In,"Circ.easeIn":h.In,"Elastic.easeIn":r.In,"Back.easeIn":s.In,"Bounce.easeIn":f.In,"Quad.easeOut":l.Out,"Cubic.easeOut":i.Out,"Quart.easeOut":a.Out,"Quint.easeOut":o.Out,"Sine.easeOut":u.Out,"Expo.easeOut":n.Out,"Circ.easeOut":h.Out,"Elastic.easeOut":r.Out,"Back.easeOut":s.Out,"Bounce.easeOut":f.Out,"Quad.easeInOut":l.InOut,"Cubic.easeInOut":i.InOut,"Quart.easeInOut":a.InOut,"Quint.easeInOut":o.InOut,"Sine.easeInOut":u.InOut,"Expo.easeInOut":n.InOut,"Circ.easeInOut":h.InOut,"Elastic.easeInOut":r.InOut,"Back.easeInOut":s.InOut,"Bounce.easeInOut":f.InOut}},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){return(f-s)*h+s};c.exports=t},function(c,E,t){(function(s){/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2020 Photon Storm Ltd.
* @license      {@link https://opensource.org/licenses/MIT|MIT License}
*/var f={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function h(){var i=navigator.userAgent;/Windows/.test(i)?f.windows=!0:/Mac OS/.test(i)&&!/like Mac OS/.test(i)?f.macOS=!0:/Android/.test(i)?f.android=!0:/Linux/.test(i)?f.linux=!0:/iP[ao]d|iPhone/i.test(i)?(f.iOS=!0,navigator.appVersion.match(/OS (\d+)/),f.iOSVersion=parseInt(RegExp.$1,10),f.iPhone=i.toLowerCase().indexOf("iphone")!==-1,f.iPad=i.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(i)||/\bKF[A-Z][A-Z]+/.test(i)||/Silk.*Mobile Safari/.test(i)?f.kindle=!0:/CrOS/.test(i)&&(f.chromeOS=!0),(/Windows Phone/i.test(i)||/IEMobile/i.test(i))&&(f.android=!1,f.iOS=!1,f.macOS=!1,f.windows=!0,f.windowsPhone=!0);var r=/Silk/.test(i);return(f.windows||f.macOS||f.linux&&!r||f.chromeOS)&&(f.desktop=!0),(f.windowsPhone||/Windows NT/i.test(i)&&/Touch/i.test(i))&&(f.desktop=!1),navigator.standalone&&(f.webApp=!0),window.cordova!==void 0&&(f.cordova=!0),typeof s<"u"&&s.versions&&s.versions.node&&(f.node=!0),f.node&&typeof s.versions=="object"&&(f.nodeWebkit=!!s.versions["node-webkit"],f.electron=!!s.versions.electron),window.ejecta!==void 0&&(f.ejecta=!0),/Crosswalk/.test(i)&&(f.crosswalk=!0),f.pixelRatio=window.devicePixelRatio||1,f}c.exports=h()}).call(this,t(729))},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(117),f={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0};function h(){var i=navigator.userAgent;return/Edge\/\d+/.test(i)?f.edge=!0:/Chrome\/(\d+)/.test(i)&&!s.windowsPhone?(f.chrome=!0,f.chromeVersion=parseInt(RegExp.$1,10)):/Firefox\D+(\d+)/.test(i)?(f.firefox=!0,f.firefoxVersion=parseInt(RegExp.$1,10)):/AppleWebKit/.test(i)&&s.iOS?f.mobileSafari=!0:/MSIE (\d+\.\d+);/.test(i)?(f.ie=!0,f.ieVersion=parseInt(RegExp.$1,10)):/Opera/.test(i)?f.opera=!0:/Safari/.test(i)&&!s.windowsPhone?f.safari=!0:/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(i)&&(f.ie=!0,f.trident=!0,f.tridentVersion=parseInt(RegExp.$1,10),f.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(i)&&(f.silk=!0),f}c.exports=h()},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){return Math.random()*(f-s)+s};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){return s>0&&(s&s-1)===0&&f>0&&(f&f-1)===0};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ADD:t(781),ERROR:t(782),LOAD:t(783),READY:t(784),REMOVE:t(785)}},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){var h;if(f)typeof f=="string"?h=document.getElementById(f):typeof f=="object"&&f.nodeType===1&&(h=f);else if(s.parentElement||f===null)return s;return h||(h=document.body),h.appendChild(s),s};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(80),f=function(h,i,r,n){n===void 0&&(n=h);var e;if(!Array.isArray(i))return e=h.indexOf(i),e!==-1?(s(h,e),r&&r.call(n,i),i):null;for(var l=i.length-1;l>=0;){var a=i[l];e=h.indexOf(a),e!==-1?(s(h,e),r&&r.call(n,a)):i.pop(),l--}return i};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(67),f=function(h,i){var r=s(h);for(var n in i)r.hasOwnProperty(n)||(r[n]=i[n]);return r};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(67),h=t(10),i=t(59),r=t(20),n=t(1),e=t(382),l=t(383),a=new s({Extends:h,initialize:function(u){h.call(this),this.game=u,this.jsonCache=u.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,u.events.on(r.BLUR,this.onGameBlur,this),u.events.on(r.FOCUS,this.onGameFocus,this),u.events.on(r.PRE_STEP,this.update,this),u.events.once(r.DESTROY,this.destroy,this)},add:n,addAudioSprite:function(o,u){u===void 0&&(u={});var v=this.add(o,u);v.spritemap=this.jsonCache.get(o).spritemap;for(var d in v.spritemap)if(v.spritemap.hasOwnProperty(d)){var p=f(u),x=v.spritemap[d];p.loop=x.hasOwnProperty("loop")?x.loop:!1,v.addMarker({name:d,start:x.start,duration:x.end-x.start,config:p})}return v},get:function(o){return l(this.sounds,"key",o)},getAll:function(o){return e(this.sounds,"key",o)},play:function(o,u){var v=this.add(o);return v.once(i.COMPLETE,v.destroy,v),u?u.name?(v.addMarker(u),v.play(u.name)):v.play(u):v.play()},playAudioSprite:function(o,u,v){var d=this.addAudioSprite(o);return d.once(i.COMPLETE,d.destroy,d),d.play(u,v)},remove:function(o){var u=this.sounds.indexOf(o);return u!==-1?(o.destroy(),this.sounds.splice(u,1),!0):!1},removeAll:function(){this.sounds.forEach(function(o){o.destroy()}),this.sounds.length=0},removeByKey:function(o){for(var u=0,v=this.sounds.length-1;v>=0;v--){var d=this.sounds[v];d.key===o&&(d.destroy(),this.sounds.splice(v,1),u++)}return u},pauseAll:function(){this.forEachActiveSound(function(o){o.pause()}),this.emit(i.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(o){o.resume()}),this.emit(i.RESUME_ALL,this)},stopAll:function(){this.forEachActiveSound(function(o){o.stop()}),this.emit(i.STOP_ALL,this)},stopByKey:function(o){var u=0;return this.getAll(o).forEach(function(v){v.stop()&&u++}),u},unlock:n,onBlur:n,onFocus:n,onGameBlur:function(){this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.pauseOnBlur&&this.onFocus()},update:function(o,u){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(i.UNLOCKED,this));for(var v=this.sounds.length-1;v>=0;v--)this.sounds[v].pendingRemove&&this.sounds.splice(v,1);this.sounds.forEach(function(d){d.update(o,u)})},destroy:function(){this.game.events.off(r.BLUR,this.onGameBlur,this),this.game.events.off(r.FOCUS,this.onGameFocus,this),this.game.events.off(r.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.game=null},forEachActiveSound:function(o,u){var v=this;this.sounds.forEach(function(d,p){d&&!d.pendingRemove&&o.call(u||v,d,p,v.sounds)})},setRate:function(o){return this.rate=o,this},rate:{get:function(){return this._rate},set:function(o){this._rate=o,this.forEachActiveSound(function(u){u.calculateRate()}),this.emit(i.GLOBAL_RATE,this,o)}},setDetune:function(o){return this.detune=o,this},detune:{get:function(){return this._detune},set:function(o){this._detune=o,this.forEachActiveSound(function(u){u.calculateRate()}),this.emit(i.GLOBAL_DETUNE,this,o)}}});c.exports=a},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(10),h=t(59),i=t(18),r=t(1),n=new s({Extends:f,initialize:function(l,a,o){f.call(this),this.manager=l,this.key=a,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0},this.currentConfig=this.config,this.config=i(this.config,o),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(e){return!e||!e.name||typeof e.name!="string"?!1:this.markers[e.name]?(console.error("addMarker "+e.name+" already exists in Sound"),!1):(e=i(!0,{name:"",start:0,duration:this.totalDuration-(e.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0}},e),this.markers[e.name]=e,!0)},updateMarker:function(e){return!e||!e.name||typeof e.name!="string"?!1:this.markers[e.name]?(this.markers[e.name]=i(!0,this.markers[e.name],e),!0):(console.warn("Audio Marker: "+e.name+" missing in Sound: "+this.key),!1)},removeMarker:function(e){var l=this.markers[e];return l?(this.markers[e]=null,l):null},play:function(e,l){if(e===void 0&&(e=""),typeof e=="object"&&(l=e,e=""),typeof e!="string")return!1;if(!e)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[e])return console.warn("Marker: "+e+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[e],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=i(this.currentConfig,l),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:r,calculateRate:function(){var e=1.0005777895065548,l=this.currentConfig.detune+this.manager.detune,a=Math.pow(e,l);this.totalRate=this.currentConfig.rate*this.manager.rate*a},destroy:function(){this.pendingRemove||(this.emit(h.DESTROY,this),this.pendingRemove=!0,this.manager=null,this.key="",this.removeAllListeners(),this.isPlaying=!1,this.isPaused=!1,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});c.exports=n},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(183),f=t(0),h=t(1),i=t(131),r=new f({initialize:function(e){this.parent=e,this.list=[],this.position=0,this.addCallback=h,this.removeCallback=h,this._sortKey=""},add:function(n,e){return e?s.Add(this.list,n):s.Add(this.list,n,0,this.addCallback,this)},addAt:function(n,e,l){return l?s.AddAt(this.list,n,e):s.AddAt(this.list,n,e,0,this.addCallback,this)},getAt:function(n){return this.list[n]},getIndex:function(n){return this.list.indexOf(n)},sort:function(n,e){return n?(e===void 0&&(e=function(l,a){return l[n]-a[n]}),i.inplace(this.list,e),this):this},getByName:function(n){return s.GetFirst(this.list,"name",n)},getRandom:function(n,e){return s.GetRandom(this.list,n,e)},getFirst:function(n,e,l,a){return s.GetFirst(this.list,n,e,l,a)},getAll:function(n,e,l,a){return s.GetAll(this.list,n,e,l,a)},count:function(n,e){return s.CountAllMatching(this.list,n,e)},swap:function(n,e){s.Swap(this.list,n,e)},moveTo:function(n,e){return s.MoveTo(this.list,n,e)},remove:function(n,e){return e?s.Remove(this.list,n):s.Remove(this.list,n,this.removeCallback,this)},removeAt:function(n,e){return e?s.RemoveAt(this.list,n):s.RemoveAt(this.list,n,this.removeCallback,this)},removeBetween:function(n,e,l){return l?s.RemoveBetween(this.list,n,e):s.RemoveBetween(this.list,n,e,this.removeCallback,this)},removeAll:function(n){for(var e=this.list.length;e--;)this.remove(this.list[e],n);return this},bringToTop:function(n){return s.BringToTop(this.list,n)},sendToBack:function(n){return s.SendToBack(this.list,n)},moveUp:function(n){return s.MoveUp(this.list,n),n},moveDown:function(n){return s.MoveDown(this.list,n),n},reverse:function(){return this.list.reverse(),this},shuffle:function(){return s.Shuffle(this.list),this},replace:function(n,e){return s.Replace(this.list,n,e)},exists:function(n){return this.list.indexOf(n)>-1},setAll:function(n,e,l,a){return s.SetAll(this.list,n,e,l,a),this},each:function(n,e){for(var l=[null],a=2;a<arguments.length;a++)l.push(arguments[a]);for(a=0;a<this.list.length;a++)l[0]=this.list[a],n.apply(e,l)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(184),f=t(390),h=function(i,r){if(r===void 0&&(r=90),!s(i))return null;if(typeof r!="string"&&(r=(r%360+360)%360),r===90||r===-270||r==="rotateLeft")i=f(i),i.reverse();else if(r===-90||r===270||r==="rotateRight")i.reverse(),i=f(i);else if(Math.abs(r)===180||r==="rotate180"){for(var n=0;n<i.length;n++)i[n].reverse();i.reverse()}return i};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 *///! stable.js 0.1.6, https://github.com/Two-Screen/stable
//! © 2017 Angry Bytes and contributors. MIT licensed.
(function(){var s=function(i,r){return f(i.slice(),r)};s.inplace=function(i,r){var n=f(i,r);return n!==i&&h(n,null,i.length,i),i};function f(i,r){typeof r!="function"&&(r=function(o,u){return String(o).localeCompare(u)});var n=i.length;if(n<=1)return i;for(var e=new Array(n),l=1;l<n;l*=2){h(i,r,l,e);var a=i;i=e,e=a}return i}var h=function(i,r,n,e){var l=i.length,a=0,o=n*2,u,v,d,p,x;for(u=0;u<l;u+=o)for(v=u+n,d=v+n,v>l&&(v=l),d>l&&(d=l),p=u,x=v;;)if(p<v&&x<d)r(i[p],i[x])<=0?e[a++]=i[p++]:e[a++]=i[x++];else if(p<v)e[a++]=i[p++];else if(x<d)e[a++]=i[x++];else break};c.exports=s})()},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(12),h=t(14),i=t(945),r=t(946),n=t(187),e=t(947),l=new s({Extends:h,Mixins:[f.Alpha,f.BlendMode,f.Depth,f.Mask,f.Origin,f.Pipeline,f.ScrollFactor,f.Texture,f.Tint,f.Transform,f.Visible,e],initialize:function(o,u,v,d,p,x,g){p===void 0&&(p=""),g===void 0&&(g=0),h.call(this,o,"BitmapText"),this.font=d;var m=this.scene.sys.cache.bitmapFont.get(d);this.fontData=m.data,this._text="",this._fontSize=x||this.fontData.size,this._letterSpacing=0,this._align=g,this._bounds=i(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.setTexture(m.texture,m.frame),this.setPosition(u,v),this.setOrigin(0,0),this.initPipeline(),this.setText(p)},setLeftAlign:function(){return this._align=l.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=l.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=l.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(a){return this._fontSize=a,this._dirty=!0,this},setLetterSpacing:function(a){return a===void 0&&(a=0),this._letterSpacing=a,this._dirty=!0,this},setText:function(a){return!a&&a!==0&&(a=""),Array.isArray(a)&&(a=a.join(`
`)),a!==this.text&&(this._text=a.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},getTextBounds:function(a){var o=this._bounds;return(this._dirty||this.scaleX!==o.scaleX||this.scaleY!==o.scaleY)&&(i(this,a,o),this._dirty=!1,this.updateDisplayOrigin()),o},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this._dirty=!0,this},setFont:function(a,o,u){if(o===void 0&&(o=this._fontSize),u===void 0&&(u=this._align),a!==this.font){var v=this.scene.sys.cache.bitmapFont.get(a);v&&(this.font=a,this.fontData=v.data,this._fontSize=o,this._align=u,this.setTexture(v.texture,v.frame),i(this,!1,this._bounds))}return this},setMaxWidth:function(a,o){return this._maxWidth=a,this._dirty=!0,o!==void 0&&(this.wordWrapCharCode=o),this},align:{set:function(a){this._align=a,this._dirty=!0},get:function(){return this._align}},text:{set:function(a){this.setText(a)},get:function(){return this._text}},fontSize:{set:function(a){this._fontSize=a,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(a){this._letterSpacing=a,this._dirty=!0},get:function(){return this._letterSpacing}},maxWidth:{set:function(a){this._maxWidth=a,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},toJSON:function(){var a=f.ToJSON(this),o={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,align:this.align};return a.data=o,a}});l.ALIGN_LEFT=0,l.ALIGN_CENTER=1,l.ALIGN_RIGHT=2,l.ParseFromAtlas=r,l.ParseXMLBitmapFont=n,c.exports=l},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=new s({initialize:function(i){if(this.entries=[],Array.isArray(i))for(var r=0;r<i.length;r++)this.set(i[r])},set:function(h){return this.entries.indexOf(h)===-1&&this.entries.push(h),this},get:function(h,i){for(var r=0;r<this.entries.length;r++){var n=this.entries[r];if(n[h]===i)return n}},getArray:function(){return this.entries.slice(0)},delete:function(h){var i=this.entries.indexOf(h);return i>-1&&this.entries.splice(i,1),this},dump:function(){console.group("Set");for(var h=0;h<this.entries.length;h++){var i=this.entries[h];console.log(i)}console.groupEnd()},each:function(h,i){var r,n=this.entries.slice(),e=n.length;if(i)for(r=0;r<e&&h.call(i,n[r],r)!==!1;r++);else for(r=0;r<e&&h(n[r],r)!==!1;r++);return this},iterate:function(h,i){var r,n=this.entries.length;if(i)for(r=0;r<n&&h.call(i,this.entries[r],r)!==!1;r++);else for(r=0;r<n&&h(this.entries[r],r)!==!1;r++);return this},iterateLocal:function(h){var i,r=[];for(i=1;i<arguments.length;i++)r.push(arguments[i]);var n=this.entries.length;for(i=0;i<n;i++){var e=this.entries[i];e[h].apply(e,r)}return this},clear:function(){return this.entries.length=0,this},contains:function(h){return this.entries.indexOf(h)>-1},union:function(h){var i=new f;return h.entries.forEach(function(r){i.set(r)}),this.entries.forEach(function(r){i.set(r)}),i},intersect:function(h){var i=new f;return this.entries.forEach(function(r){h.contains(r)&&i.set(r)}),i},difference:function(h){var i=new f;return this.entries.forEach(function(r){h.contains(r)||i.set(r)}),i},size:{get:function(){return this.entries.length},set:function(h){return h<this.entries.length?this.entries.length=h:this.entries.length}}});c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(12),h=t(14),i=t(1077),r=t(1),n=new s({Extends:h,Mixins:[f.BlendMode,f.Depth,f.Mask,f.Pipeline,f.Size,f.Texture,f.Transform,f.Visible,f.ScrollFactor,i],initialize:function(l,a,o,u,v,d,p,x,g){if(h.call(this,l,"Mesh"),u.length!==v.length)throw new Error("Mesh Vertex count must match UV count");var m=u.length/2|0;if(d.length>0&&d.length<m)throw new Error("Mesh Color count must match Vertex count");if(p.length>0&&p.length<m)throw new Error("Mesh Alpha count must match Vertex count");var y;if(d.length===0)for(y=0;y<m;++y)d[y]=16777215;if(p.length===0)for(y=0;y<m;++y)p[y]=1;this.vertices=new Float32Array(u),this.uv=new Float32Array(v),this.colors=new Uint32Array(d),this.alphas=new Float32Array(p),this.tintFill=!1,this.setTexture(x,g),this.setPosition(a,o),this.setSizeToFrame(),this.initPipeline()},setAlpha:r});c.exports=n},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){return s.width<=0||s.height<=0||f.width<=0||f.height<=0?!1:!(s.right<f.x||s.bottom<f.y||s.x>f.right||s.y>f.bottom)};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(6),f={},h={};h.register=function(i,r,n,e,l){f[i]={plugin:r,mapping:n,settingsKey:e,configKey:l}},h.getPlugin=function(i){return f[i]},h.install=function(i){var r=i.scene.sys,n=r.settings.input,e=r.game.config;for(var l in f){var a=f[l].plugin,o=f[l].mapping,u=f[l].settingsKey,v=f[l].configKey;s(n,u,e[v])&&(i[o]=new a(i))}},h.remove=function(i){f.hasOwnProperty(i)&&delete f[i]},c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ANY_KEY_DOWN:t(1217),ANY_KEY_UP:t(1218),COMBO_MATCH:t(1219),DOWN:t(1220),KEY_DOWN:t(1221),KEY_UP:t(1222),UP:t(1223)}},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){return s.url?s.url.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/)?s.url:f+s.url:!1};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i,r,n){return s===void 0&&(s=""),f===void 0&&(f=!0),h===void 0&&(h=""),i===void 0&&(i=""),r===void 0&&(r=0),n===void 0&&(n=!1),{responseType:s,async:f,user:h,password:i,timeout:r,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:n}};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(217),h=t(75),i=new s({Extends:h,Mixins:[f.Acceleration,f.Angular,f.Bounce,f.Debug,f.Drag,f.Enable,f.Friction,f.Gravity,f.Immovable,f.Mass,f.Size,f.Velocity],initialize:function(n,e,l,a,o){h.call(this,n,e,l,a,o),this.body=null}});c.exports=i},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CalculateFacesAt:t(220),CalculateFacesWithin:t(51),Copy:t(1313),CreateFromTiles:t(1314),CullTiles:t(1315),Fill:t(1316),FilterTiles:t(1317),FindByIndex:t(1318),FindTile:t(1319),ForEachTile:t(1320),GetTileAt:t(142),GetTileAtWorldXY:t(1321),GetTilesWithin:t(24),GetTilesWithinShape:t(1322),GetTilesWithinWorldXY:t(1323),HasTileAt:t(476),HasTileAtWorldXY:t(1324),IsInLayerBounds:t(101),PutTileAt:t(221),PutTileAtWorldXY:t(1325),PutTilesAt:t(1326),Randomize:t(1327),RemoveTileAt:t(477),RemoveTileAtWorldXY:t(1328),RenderDebug:t(1329),ReplaceByIndex:t(475),SetCollision:t(1330),SetCollisionBetween:t(1331),SetCollisionByExclusion:t(1332),SetCollisionByProperty:t(1333),SetCollisionFromCollisionGroup:t(1334),SetTileIndexCallback:t(1335),SetTileLocationCallback:t(1336),Shuffle:t(1337),SwapByIndex:t(1338),TileToWorldX:t(143),TileToWorldXY:t(1339),TileToWorldY:t(144),WeightedRandomize:t(1340),WorldToTileX:t(63),WorldToTileXY:t(1341),WorldToTileY:t(64)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(101),f=function(h,i,r,n){if(r===void 0&&(r=!1),s(h,i,n)){var e=n.data[i][h]||null;return e===null?null:e.index===-1?r?e:null:e}else return null};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){var i=h.baseTileWidth,r=h.tilemapLayer,n=0;return r&&(f===void 0&&(f=r.scene.cameras.main),n=r.x+f.scrollX*(1-r.scrollFactorX),i*=r.scaleX),n+s*i};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){var i=h.baseTileHeight,r=h.tilemapLayer,n=0;return r&&(f===void 0&&(f=r.scene.cameras.main),n=r.y+f.scrollY*(1-r.scrollFactorY),i*=r.scaleY),n+s*i};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){var i;if(s.hasOwnProperty(f)){var r=typeof s[f];r==="function"?i=function(n,e,l,a,o,u){return s[f](n,e,l,a,o,u)}:i=function(){return s[f]}}else typeof h=="function"?i=h:i=function(){return h};return i};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(230),f=t(15),h=t(88),i=t(69),r=t(145),n=t(498),e=t(228),l=t(6),a=t(229),o=t(231),u=t(233),v=function(d,p,x){x===void 0&&(x=s);for(var g=x.targets?x.targets:e(p),m=n(p),y=r(p,"delay",x.delay),T=r(p,"duration",x.duration),S=l(p,"easeParams",x.easeParams),C=i(l(p,"ease",x.ease),S),P=r(p,"hold",x.hold),A=r(p,"repeat",x.repeat),M=r(p,"repeatDelay",x.repeatDelay),O=h(p,"yoyo",x.yoyo),I=h(p,"flipX",x.flipX),B=h(p,"flipY",x.flipY),G=[],z=0;z<m.length;z++)for(var N=m[z].key,L=m[z].value,R=0;R<g.length;R++){var F=a(N,L),Y=u(g[R],R,N,F.getEnd,F.getStart,F.getActive,i(l(L,"ease",C),S),r(L,"delay",y),r(L,"duration",T),h(L,"yoyo",O),r(L,"hold",P),r(L,"repeat",A),r(L,"repeatDelay",M),h(L,"flipX",I),h(L,"flipY",B));G.push(Y)}var D=new o(d,G,g);D.offset=f(p,"offset",null),D.completeDelay=f(p,"completeDelay",0),D.loop=Math.round(f(p,"loop",0)),D.loopDelay=Math.round(f(p,"loopDelay",0)),D.paused=h(p,"paused",!1),D.useFrames=h(p,"useFrames",!1);for(var X=l(p,"callbackScope",D),U=[D,null],V=o.TYPES,w=0;w<V.length;w++){var W=V[w],H=l(p,W,!1);if(H){var K=l(p,W+"Scope",X),J=l(p,W+"Params",[]);D.setCallback(W,H,U.concat(J),K)}}return D};c.exports=v},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(9),h=new s({initialize:function(r){this.name="WebGLPipeline",this.game=r.game,this.view=r.game.canvas,this.resolution=1,this.width=0,this.height=0,this.gl=r.gl,this.vertexCount=0,this.vertexCapacity=r.vertexCapacity,this.renderer=r.renderer,this.vertexData=r.vertices?r.vertices:new ArrayBuffer(r.vertexCapacity*r.vertexSize),this.vertexBuffer=this.renderer.createVertexBuffer(r.vertices?r.vertices:this.vertexData.byteLength,this.gl.STREAM_DRAW),this.program=this.renderer.createProgram(r.vertShader,r.fragShader),this.attributes=r.attributes,this.vertexSize=r.vertexSize,this.topology=r.topology,this.bytes=new Uint8Array(this.vertexData),this.vertexComponentCount=f.getComponentCount(r.attributes,this.gl),this.flushLocked=!1,this.active=!1},boot:function(){},addAttribute:function(i,r,n,e,l){return this.attributes.push({name:i,size:r,type:this.renderer.glFormats[n],normalized:e,offset:l}),this.vertexComponentCount=f.getComponentCount(this.attributes,this.gl),this},shouldFlush:function(){return this.vertexCount>=this.vertexCapacity},resize:function(i,r,n){return this.width=i*n,this.height=r*n,this.resolution=n,this},bind:function(){var i=this.gl,r=this.vertexBuffer,n=this.attributes,e=this.program,l=this.renderer,a=this.vertexSize;l.setProgram(e),l.setVertexBuffer(r);for(var o=0;o<n.length;++o){var u=n[o],v=i.getAttribLocation(e,u.name);v>=0?(i.enableVertexAttribArray(v),i.vertexAttribPointer(v,u.size,u.type,u.normalized,a,u.offset)):v!==-1&&i.disableVertexAttribArray(v)}return this},onBind:function(){return this},onPreRender:function(){return this},onRender:function(){return this},onPostRender:function(){return this},flush:function(){if(this.flushLocked)return this;this.flushLocked=!0;var i=this.gl,r=this.vertexCount,n=this.topology,e=this.vertexSize;if(r===0){this.flushLocked=!1;return}return i.bufferSubData(i.ARRAY_BUFFER,0,this.bytes.subarray(0,r*e)),i.drawArrays(n,0,r),this.vertexCount=0,this.flushLocked=!1,this},destroy:function(){var i=this.gl;return i.deleteProgram(this.program),i.deleteBuffer(this.vertexBuffer),delete this.program,delete this.vertexBuffer,delete this.gl,this},setFloat1:function(i,r){return this.renderer.setFloat1(this.program,i,r),this},setFloat2:function(i,r,n){return this.renderer.setFloat2(this.program,i,r,n),this},setFloat3:function(i,r,n,e){return this.renderer.setFloat3(this.program,i,r,n,e),this},setFloat4:function(i,r,n,e,l){return this.renderer.setFloat4(this.program,i,r,n,e,l),this},setFloat1v:function(i,r){return this.renderer.setFloat1v(this.program,i,r),this},setFloat2v:function(i,r){return this.renderer.setFloat2v(this.program,i,r),this},setFloat3v:function(i,r){return this.renderer.setFloat3v(this.program,i,r),this},setFloat4v:function(i,r){return this.renderer.setFloat4v(this.program,i,r),this},setInt1:function(i,r){return this.renderer.setInt1(this.program,i,r),this},setInt2:function(i,r,n){return this.renderer.setInt2(this.program,i,r,n),this},setInt3:function(i,r,n,e){return this.renderer.setInt3(this.program,i,r,n,e),this},setInt4:function(i,r,n,e,l){return this.renderer.setInt4(this.program,i,r,n,e,l),this},setMatrix2:function(i,r,n){return this.renderer.setMatrix2(this.program,i,r,n),this},setMatrix3:function(i,r,n){return this.renderer.setMatrix3(this.program,i,r,n),this},setMatrix4:function(i,r,n){return this.renderer.setMatrix4(this.program,i,r,n),this}});c.exports=h},function(c,E,t){var s={};c.exports=s;var f=t(240),h=t(42),i=t(100),r=t(62);(function(){s.create=function(n){return h.extend({id:h.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{}},n)},s.setModified=function(n,e,l,a){if(f.trigger(n,"compositeModified",n),n.isModified=e,l&&n.parent&&s.setModified(n.parent,e,l,a),a)for(var o=0;o<n.composites.length;o++){var u=n.composites[o];s.setModified(u,e,l,a)}},s.add=function(n,e){var l=[].concat(e);f.trigger(n,"beforeAdd",{object:e});for(var a=0;a<l.length;a++){var o=l[a];switch(o.type){case"body":if(o.parent!==o){h.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}s.addBody(n,o);break;case"constraint":s.addConstraint(n,o);break;case"composite":s.addComposite(n,o);break;case"mouseConstraint":s.addConstraint(n,o.constraint);break}}return f.trigger(n,"afterAdd",{object:e}),n},s.remove=function(n,e,l){var a=[].concat(e);f.trigger(n,"beforeRemove",{object:e});for(var o=0;o<a.length;o++){var u=a[o];switch(u.type){case"body":s.removeBody(n,u,l);break;case"constraint":s.removeConstraint(n,u,l);break;case"composite":s.removeComposite(n,u,l);break;case"mouseConstraint":s.removeConstraint(n,u.constraint);break}}return f.trigger(n,"afterRemove",{object:e}),n},s.addComposite=function(n,e){return n.composites.push(e),e.parent=n,s.setModified(n,!0,!0,!1),n},s.removeComposite=function(n,e,l){var a=n.composites.indexOf(e);if(a!==-1&&(s.removeCompositeAt(n,a),s.setModified(n,!0,!0,!1)),l)for(var o=0;o<n.composites.length;o++)s.removeComposite(n.composites[o],e,!0);return n},s.removeCompositeAt=function(n,e){return n.composites.splice(e,1),s.setModified(n,!0,!0,!1),n},s.addBody=function(n,e){return n.bodies.push(e),s.setModified(n,!0,!0,!1),n},s.removeBody=function(n,e,l){var a=n.bodies.indexOf(e);if(a!==-1&&(s.removeBodyAt(n,a),s.setModified(n,!0,!0,!1)),l)for(var o=0;o<n.composites.length;o++)s.removeBody(n.composites[o],e,!0);return n},s.removeBodyAt=function(n,e){return n.bodies.splice(e,1),s.setModified(n,!0,!0,!1),n},s.addConstraint=function(n,e){return n.constraints.push(e),s.setModified(n,!0,!0,!1),n},s.removeConstraint=function(n,e,l){var a=n.constraints.indexOf(e);if(a!==-1&&s.removeConstraintAt(n,a),l)for(var o=0;o<n.composites.length;o++)s.removeConstraint(n.composites[o],e,!0);return n},s.removeConstraintAt=function(n,e){return n.constraints.splice(e,1),s.setModified(n,!0,!0,!1),n},s.clear=function(n,e,l){if(l)for(var a=0;a<n.composites.length;a++)s.clear(n.composites[a],e,!0);return e?n.bodies=n.bodies.filter(function(o){return o.isStatic}):n.bodies.length=0,n.constraints.length=0,n.composites.length=0,s.setModified(n,!0,!0,!1),n},s.allBodies=function(n){for(var e=[].concat(n.bodies),l=0;l<n.composites.length;l++)e=e.concat(s.allBodies(n.composites[l]));return e},s.allConstraints=function(n){for(var e=[].concat(n.constraints),l=0;l<n.composites.length;l++)e=e.concat(s.allConstraints(n.composites[l]));return e},s.allComposites=function(n){for(var e=[].concat(n.composites),l=0;l<n.composites.length;l++)e=e.concat(s.allComposites(n.composites[l]));return e},s.get=function(n,e,l){var a,o;switch(l){case"body":a=s.allBodies(n);break;case"constraint":a=s.allConstraints(n);break;case"composite":a=s.allComposites(n).concat(n);break}return a?(o=a.filter(function(u){return u.id.toString()===e.toString()}),o.length===0?null:o[0]):null},s.move=function(n,e,l){return s.remove(n,e),s.add(l,e),n},s.rebase=function(n){for(var e=s.allBodies(n).concat(s.allConstraints(n)).concat(s.allComposites(n)),l=0;l<e.length;l++)e[l].id=h.nextId();return s.setModified(n,!0,!0,!1),n},s.translate=function(n,e,l){for(var a=l?s.allBodies(n):n.bodies,o=0;o<a.length;o++)r.translate(a[o],e);return s.setModified(n,!0,!0,!1),n},s.rotate=function(n,e,l,a){for(var o=Math.cos(e),u=Math.sin(e),v=a?s.allBodies(n):n.bodies,d=0;d<v.length;d++){var p=v[d],x=p.position.x-l.x,g=p.position.y-l.y;r.setPosition(p,{x:l.x+(x*o-g*u),y:l.y+(x*u+g*o)}),r.rotate(p,e)}return s.setModified(n,!0,!0,!1),n},s.scale=function(n,e,l,a,o){for(var u=o?s.allBodies(n):n.bodies,v=0;v<u.length;v++){var d=u[v],p=d.position.x-a.x,x=d.position.y-a.y;r.setPosition(d,{x:a.x+p*e,y:a.y+x*l}),r.scale(d,e,l)}return s.setModified(n,!0,!0,!1),n},s.bounds=function(n){for(var e=s.allBodies(n),l=[],a=0;a<e.length;a+=1){var o=e[a];l.push(o.bounds.min,o.bounds.max)}return i.create(l)}})()},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(4),f=function(h,i,r){return r===void 0&&(r=new s),r.x=h.x+h.radius*Math.cos(i),r.y=h.y+h.radius*Math.sin(i),r};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(4),f=function(h,i){i===void 0&&(i=new s);var r=2*Math.PI*Math.random(),n=Math.random()+Math.random(),e=n>1?2-n:n,l=e*Math.cos(r),a=e*Math.sin(r);return i.x=h.x+l*h.radius,i.y=h.y+a*h.radius,i};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(19),f=t(0),h=t(10),i=t(111),r=t(270),n=t(271),e=t(6),l=new f({Extends:h,initialize:function(o,u,v){h.call(this),this.manager=o,this.key=u,this.type="frame",this.frames=this.getFrames(o.textureManager,e(v,"frames",[]),e(v,"defaultTextureKey",null)),this.frameRate=e(v,"frameRate",null),this.duration=e(v,"duration",null),this.duration===null&&this.frameRate===null?(this.frameRate=24,this.duration=this.frameRate/this.frames.length*1e3):this.duration&&this.frameRate===null?this.frameRate=this.frames.length/(this.duration/1e3):this.duration=this.frames.length/this.frameRate*1e3,this.msPerFrame=1e3/this.frameRate,this.skipMissedFrames=e(v,"skipMissedFrames",!0),this.delay=e(v,"delay",0),this.repeat=e(v,"repeat",0),this.repeatDelay=e(v,"repeatDelay",0),this.yoyo=e(v,"yoyo",!1),this.showOnStart=e(v,"showOnStart",!1),this.hideOnComplete=e(v,"hideOnComplete",!1),this.paused=!1,this.manager.on(i.PAUSE_ALL,this.pause,this),this.manager.on(i.RESUME_ALL,this.resume,this)},addFrame:function(a){return this.addFrameAt(this.frames.length,a)},addFrameAt:function(a,o){var u=this.getFrames(this.manager.textureManager,o);if(u.length>0){if(a===0)this.frames=u.concat(this.frames);else if(a===this.frames.length)this.frames=this.frames.concat(u);else{var v=this.frames.slice(0,a),d=this.frames.slice(a);this.frames=v.concat(u,d)}this.updateFrameSequence()}return this},checkFrame:function(a){return a>=0&&a<this.frames.length},completeAnimation:function(a){this.hideOnComplete&&(a.parent.visible=!1),a.stop()},getFirstTick:function(a,o){o===void 0&&(o=!0),a.accumulator=0,a.nextTick=a.msPerFrame+a.currentFrame.duration,o&&(a.nextTick+=a._delay)},getFrameAt:function(a){return this.frames[a]},getFrames:function(a,o,u){var v=[],d,p,x=1,g,m;if(typeof o=="string"){m=o;var y=a.get(m),T=y.getFrameNames();o=[],T.forEach(function(O,I){o.push({key:m,frame:I})})}if(!Array.isArray(o)||o.length===0)return v;for(g=0;g<o.length;g++){var S=o[g],C=e(S,"key",u);if(C){var P=e(S,"frame",0),A=a.getFrame(C,P);p=new n(C,P,x,A),p.duration=e(S,"duration",0),p.isFirst=!d,d&&(d.nextFrame=p,p.prevFrame=d),v.push(p),d=p,x++}}if(v.length>0){p.isLast=!0,p.nextFrame=v[0],v[0].prevFrame=p;var M=1/(v.length-1);for(g=0;g<v.length;g++)v[g].progress=g*M}return v},getNextTick:function(a){a.accumulator-=a.nextTick,a.nextTick=a.msPerFrame+a.currentFrame.duration},load:function(a,o){o>=this.frames.length&&(o=0),a.currentAnim!==this&&(a.currentAnim=this,a.frameRate=this.frameRate,a.duration=this.duration,a.msPerFrame=this.msPerFrame,a.skipMissedFrames=this.skipMissedFrames,a._delay=this.delay,a._repeat=this.repeat,a._repeatDelay=this.repeatDelay,a._yoyo=this.yoyo);var u=this.frames[o];o===0&&!a.forward&&(u=this.getLastFrame()),a.updateFrame(u)},getFrameByProgress:function(a){return a=s(a,0,1),r(a,this.frames,"progress")},nextFrame:function(a){var o=a.currentFrame;o.isLast?a._yoyo?this.handleYoyoFrame(a,!1):a.repeatCounter>0?a._reverse&&a.forward?a.forward=!1:this.repeatAnimation(a):this.completeAnimation(a):this.updateAndGetNextTick(a,o.nextFrame)},handleYoyoFrame:function(a,o){if(o||(o=!1),a._reverse===!o&&a.repeatCounter>0){(!a._repeatDelay||a.pendingRepeat)&&(a.forward=o),this.repeatAnimation(a);return}if(a._reverse!==o&&a.repeatCounter===0){this.completeAnimation(a);return}a.forward=o;var u=o?a.currentFrame.nextFrame:a.currentFrame.prevFrame;this.updateAndGetNextTick(a,u)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(a){var o=a.currentFrame;o.isFirst?a._yoyo?this.handleYoyoFrame(a,!0):a.repeatCounter>0?a._reverse&&!a.forward?(a.currentFrame=this.getLastFrame(),this.repeatAnimation(a)):(a.forward=!0,this.repeatAnimation(a)):this.completeAnimation(a):this.updateAndGetNextTick(a,o.prevFrame)},updateAndGetNextTick:function(a,o){a.updateFrame(o),this.getNextTick(a)},removeFrame:function(a){var o=this.frames.indexOf(a);return o!==-1&&this.removeFrameAt(o),this},removeFrameAt:function(a){return this.frames.splice(a,1),this.updateFrameSequence(),this},repeatAnimation:function(a){if(a._pendingStop===2)return this.completeAnimation(a);if(a._repeatDelay>0&&a.pendingRepeat===!1)a.pendingRepeat=!0,a.accumulator-=a.nextTick,a.nextTick+=a._repeatDelay;else if(a.repeatCounter--,a.updateFrame(a.currentFrame[a.forward?"nextFrame":"prevFrame"]),a.isPlaying){this.getNextTick(a),a.pendingRepeat=!1;var o=a.currentFrame,u=a.parent;this.emit(i.ANIMATION_REPEAT,this,o),u.emit(i.SPRITE_ANIMATION_KEY_REPEAT+this.key,this,o,a.repeatCounter,u),u.emit(i.SPRITE_ANIMATION_REPEAT,this,o,a.repeatCounter,u)}},setFrame:function(a){a.forward?this.nextFrame(a):this.previousFrame(a)},toJSON:function(){var a={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showOnStart:this.showOnStart,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(o){a.frames.push(o.toJSON())}),a},updateFrameSequence:function(){for(var a=this.frames.length,o=1/(a-1),u,v=0;v<a;v++)u=this.frames[v],u.index=v+1,u.isFirst=!1,u.isLast=!1,u.progress=v*o,v===0?(u.isFirst=!0,a===1?(u.isLast=!0,u.nextFrame=u,u.prevFrame=u):(u.isLast=!1,u.prevFrame=this.frames[a-1],u.nextFrame=this.frames[v+1])):v===a-1&&a>1?(u.isLast=!0,u.prevFrame=this.frames[a-2],u.nextFrame=this.frames[0]):a>1&&(u.prevFrame=this.frames[v-1],u.nextFrame=this.frames[v+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.removeAllListeners(),this.manager.off(i.PAUSE_ALL,this.pause,this),this.manager.off(i.RESUME_ALL,this.resume,this),this.manager.remove(this.key);for(var a=0;a<this.frames.length;a++)this.frames[a].destroy();this.frames=[],this.manager=null}});c.exports=l},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(112),f=t(4),h=function(i,r,n){if(n===void 0&&(n=new f),r<=0||r>=1)return n.x=i.x,n.y=i.y,n;var e=s(i)*r;return r>.5?(e-=i.width+i.height,e<=i.width?(n.x=i.right-e,n.y=i.bottom):(n.x=i.x,n.y=i.bottom-(e-i.width))):e<=i.width?(n.x=i.x+e,n.y=i.y):(n.x=i.right,n.y=i.y+(e-i.width)),n};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(57),f=t(4),h=function(i,r,n,e){e===void 0&&(e=[]),!r&&n>0&&(r=s(i)/n);for(var l=i.x1,a=i.y1,o=i.x2,u=i.y2,v=0;v<r;v++){var d=v/r,p=l+(o-l)*d,x=a+(u-a)*d;e.push(new f(p,x))}return e};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(4),f=function(h,i){i===void 0&&(i=new s);var r=Math.random();return i.x=h.x1+r*(h.x2-h.x1),i.y=h.y1+r*(h.y2-h.y1),i};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(4),f=function(h,i){return i===void 0&&(i=new s),i.x=h.x+Math.random()*h.width,i.y=h.y+Math.random()*h.height,i};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={defaultPipeline:null,pipeline:null,initPipeline:function(s){s===void 0&&(s="TextureTintPipeline");var f=this.scene.sys.game.renderer;return f&&f.gl&&f.hasPipeline(s)?(this.defaultPipeline=f.getPipeline(s),this.pipeline=this.defaultPipeline,!0):!1},setPipeline:function(s){var f=this.scene.sys.game.renderer;return f&&f.gl&&f.hasPipeline(s)&&(this.pipeline=f.getPipeline(s)),this},resetPipeline:function(){return this.pipeline=this.defaultPipeline,this.pipeline!==null},getPipelineName:function(){return this.pipeline.name}};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(4),f=function(h,i){i===void 0&&(i=new s);var r=Math.random()*Math.PI*2,n=Math.sqrt(Math.random());return i.x=h.x+n*Math.cos(r)*h.width/2,i.y=h.y+n*Math.sin(r)*h.height/2,i};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(4),f=function(h,i){i===void 0&&(i=new s);var r=h.x2-h.x1,n=h.y2-h.y1,e=h.x3-h.x1,l=h.y3-h.y1,a=Math.random(),o=Math.random();return a+o>=1&&(a=1-a,o=1-o),i.x=h.x1+(r*a+e*o),i.y=h.y1+(n*a+l*o),i};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i,r){var n=i+Math.atan2(s.y-h,s.x-f);return s.x=f+r*Math.cos(n),s.y=h+r*Math.sin(n),s};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){return s=Math.max(0,Math.min(1,(s-f)/(h-f))),s*s*s*(s*(s*6-15)+10)};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){return s<=f?0:s>=h?1:(s=(s-f)/(h-f),s*s*(3-2*s))};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=new s({initialize:function(i){if(this.entries={},this.size=0,Array.isArray(i))for(var r=0;r<i.length;r++)this.set(i[r][0],i[r][1])},set:function(h,i){return this.has(h)||this.size++,this.entries[h]=i,this},get:function(h){if(this.has(h))return this.entries[h]},getArray:function(){var h=[],i=this.entries;for(var r in i)h.push(i[r]);return h},has:function(h){return this.entries.hasOwnProperty(h)},delete:function(h){return this.has(h)&&(delete this.entries[h],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(h){delete this.entries[h]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var h=[],i=this.entries;for(var r in i)h.push(i[r]);return h},dump:function(){var h=this.entries;console.group("Map");for(var i in h)console.log(i,h[i]);console.groupEnd()},each:function(h){var i=this.entries;for(var r in i)if(h(r,i[r])===!1)break;return this},contains:function(h){var i=this.entries;for(var r in i)if(i[r]===h)return!0;return!1},merge:function(h,i){i===void 0&&(i=!1);var r=this.entries,n=h.entries;for(var e in n)r.hasOwnProperty(e)&&i?r[e]=n[e]:this.set(e,n[e]);return this}});c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i){f===void 0&&(f=0),h===void 0&&(h=" "),i===void 0&&(i=3),s=s.toString();var r=0;if(f+1>=s.length)switch(i){case 1:s=new Array(f+1-s.length).join(h)+s;break;case 3:var n=Math.ceil((r=f-s.length)/2),e=r-n;s=new Array(e+1).join(h)+s+new Array(n+1).join(h);break;default:s=s+new Array(f+1-s.length).join(h);break}return s};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(294),f=t(297),h=t(299),i=t(300),r=function(n){var e=typeof n;switch(e){case"string":return n.substr(0,3).toLowerCase()==="rgb"?i(n):s(n);case"number":return f(n);case"object":return h(n)}};c.exports=r},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){return s<<16|f<<8|h};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(165),f=function(h,i,r,n){i===void 0&&(i=1),r===void 0&&(r=1);var e=Math.floor(h*6),l=h*6-e,a=Math.floor(r*(1-i)*255),o=Math.floor(r*(1-l*i)*255),u=Math.floor(r*(1-(1-l)*i)*255);r=Math.floor(r*=255);var v=r,d=r,p=r,x=e%6;return x===0?(d=u,p=a):x===1?(v=o,p=a):x===2?(v=a,p=u):x===3?(v=a,d=o):x===4?(v=u,d=a):x===5&&(d=a,p=o),n?n.setTo?n.setTo(v,d,p,n.alpha,!1):(n.r=v,n.g=d,n.b=p,n.color=s(v,d,p),n):{r:v,g:d,b:p,color:s(v,d,p)}};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t="",s=function(){var f=function(n){for(var e=["i","webkitI","msI","mozI","oI"],l=0;l<e.length;l++){var a=e[l]+"mageSmoothingEnabled";if(a in n)return a}return null},h=function(n){return t===""&&(t=f(n)),t&&(n[t]=!0),n},i=function(n){return t===""&&(t=f(n)),t&&(n[t]=!1),n},r=function(n){return t!==null?n[t]:null};return{disable:i,enable:h,getPrefix:f,isEnabled:r}};c.exports=s()},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){return s.x=f-s.width/2,s.y=h-s.height/2,s};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(117),f=t(118),h=t(26),i={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function r(){var e=new ArrayBuffer(4),l=new Uint8Array(e),a=new Uint32Array(e);return l[0]=161,l[1]=178,l[2]=195,l[3]=212,a[0]===3569595041?!0:a[0]===2712847316?!1:null}function n(){i.canvas=!!window.CanvasRenderingContext2D;try{i.localStorage=!!localStorage.getItem}catch{i.localStorage=!1}i.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,i.fileSystem=!!window.requestFileSystem;var e=!1,l=function(){if(window.WebGLRenderingContext)try{var a=h.createWebGL(this),o=a.getContext("webgl")||a.getContext("experimental-webgl"),u=h.create2D(this),v=u.getContext("2d"),d=v.createImageData(1,1);return e=d.data instanceof Uint8ClampedArray,h.remove(a),h.remove(u),!!o}catch{return!1}return!1};return i.webGL=l(),i.worker=!!window.Worker,i.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,i.getUserMedia=i.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,f.firefox&&f.firefoxVersion<21&&(i.getUserMedia=!1),!s.iOS&&(f.ie||f.firefox||f.chrome)&&(i.canvasBitBltShift=!0),(f.safari||f.mobileSafari)&&(i.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(i.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(i.littleEndian=r()),i.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&i.littleEndian!==null&&e,i}c.exports=n()},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(13),f=t(18),h={Angle:t(734),Distance:t(743),Easing:t(748),Fuzzy:t(749),Interpolation:t(752),Pow2:t(757),Snap:t(759),RandomDataGenerator:t(761),Average:t(762),Bernstein:t(324),Between:t(172),CatmullRom:t(171),CeilTo:t(763),Clamp:t(19),DegToRad:t(39),Difference:t(764),Factorial:t(325),FloatBetween:t(119),FloorTo:t(765),FromPercent:t(87),GetSpeed:t(766),IsEven:t(767),IsEvenStrict:t(768),Linear:t(116),MaxAdd:t(769),MinSub:t(770),Percent:t(771),RadToDeg:t(173),RandomXY:t(772),RandomXYZ:t(773),RandomXYZW:t(774),Rotate:t(331),RotateAround:t(276),RotateAroundDistance:t(159),RotateTo:t(775),RoundAwayFromZero:t(332),RoundTo:t(776),SinCosTableGenerator:t(777),SmootherStep:t(160),SmoothStep:t(161),ToXY:t(778),TransformXY:t(333),Within:t(779),Wrap:t(58),Vector2:t(3),Vector3:t(174),Vector4:t(334),Matrix3:t(335),Matrix4:t(336),Quaternion:t(337),RotateVec3:t(780)};h=f(!1,h,s),c.exports=h},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i,r){var n=(i-f)*.5,e=(r-h)*.5,l=s*s,a=s*l;return(2*h-2*i+n+e)*a+(-3*h+3*i-2*n-e)*l+n*s+h};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){return Math.floor(Math.random()*(f-s+1)+s)};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(13),f=function(h){return h*s.RAD_TO_DEG};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=new s({initialize:function(i,r,n){this.x=0,this.y=0,this.z=0,typeof i=="object"?(this.x=i.x||0,this.y=i.y||0,this.z=i.z||0):(this.x=i||0,this.y=r||0,this.z=n||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},clone:function(){return new f(this.x,this.y,this.z)},crossVectors:function(h,i){var r=h.x,n=h.y,e=h.z,l=i.x,a=i.y,o=i.z;return this.x=n*o-e*a,this.y=e*l-r*o,this.z=r*a-n*l,this},equals:function(h){return this.x===h.x&&this.y===h.y&&this.z===h.z},copy:function(h){return this.x=h.x,this.y=h.y,this.z=h.z||0,this},set:function(h,i,r){return typeof h=="object"?(this.x=h.x||0,this.y=h.y||0,this.z=h.z||0):(this.x=h||0,this.y=i||0,this.z=r||0),this},add:function(h){return this.x+=h.x,this.y+=h.y,this.z+=h.z||0,this},subtract:function(h){return this.x-=h.x,this.y-=h.y,this.z-=h.z||0,this},multiply:function(h){return this.x*=h.x,this.y*=h.y,this.z*=h.z||1,this},scale:function(h){return isFinite(h)?(this.x*=h,this.y*=h,this.z*=h):(this.x=0,this.y=0,this.z=0),this},divide:function(h){return this.x/=h.x,this.y/=h.y,this.z/=h.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(h){var i=h.x-this.x,r=h.y-this.y,n=h.z-this.z||0;return Math.sqrt(i*i+r*r+n*n)},distanceSq:function(h){var i=h.x-this.x,r=h.y-this.y,n=h.z-this.z||0;return i*i+r*r+n*n},length:function(){var h=this.x,i=this.y,r=this.z;return Math.sqrt(h*h+i*i+r*r)},lengthSq:function(){var h=this.x,i=this.y,r=this.z;return h*h+i*i+r*r},normalize:function(){var h=this.x,i=this.y,r=this.z,n=h*h+i*i+r*r;return n>0&&(n=1/Math.sqrt(n),this.x=h*n,this.y=i*n,this.z=r*n),this},dot:function(h){return this.x*h.x+this.y*h.y+this.z*h.z},cross:function(h){var i=this.x,r=this.y,n=this.z,e=h.x,l=h.y,a=h.z;return this.x=r*a-n*l,this.y=n*e-i*a,this.z=i*l-r*e,this},lerp:function(h,i){i===void 0&&(i=0);var r=this.x,n=this.y,e=this.z;return this.x=r+i*(h.x-r),this.y=n+i*(h.y-n),this.z=e+i*(h.z-e),this},transformMat3:function(h){var i=this.x,r=this.y,n=this.z,e=h.val;return this.x=i*e[0]+r*e[3]+n*e[6],this.y=i*e[1]+r*e[4]+n*e[7],this.z=i*e[2]+r*e[5]+n*e[8],this},transformMat4:function(h){var i=this.x,r=this.y,n=this.z,e=h.val;return this.x=e[0]*i+e[4]*r+e[8]*n+e[12],this.y=e[1]*i+e[5]*r+e[9]*n+e[13],this.z=e[2]*i+e[6]*r+e[10]*n+e[14],this},transformCoordinates:function(h){var i=this.x,r=this.y,n=this.z,e=h.val,l=i*e[0]+r*e[4]+n*e[8]+e[12],a=i*e[1]+r*e[5]+n*e[9]+e[13],o=i*e[2]+r*e[6]+n*e[10]+e[14],u=i*e[3]+r*e[7]+n*e[11]+e[15];return this.x=l/u,this.y=a/u,this.z=o/u,this},transformQuat:function(h){var i=this.x,r=this.y,n=this.z,e=h.x,l=h.y,a=h.z,o=h.w,u=o*i+l*n-a*r,v=o*r+a*i-e*n,d=o*n+e*r-l*i,p=-e*i-l*r-a*n;return this.x=u*o+p*-e+v*-a-d*-l,this.y=v*o+p*-l+d*-e-u*-a,this.z=d*o+p*-a+u*-l-v*-e,this},project:function(h){var i=this.x,r=this.y,n=this.z,e=h.val,l=e[0],a=e[1],o=e[2],u=e[3],v=e[4],d=e[5],p=e[6],x=e[7],g=e[8],m=e[9],y=e[10],T=e[11],S=e[12],C=e[13],P=e[14],A=e[15],M=1/(i*u+r*x+n*T+A);return this.x=(i*l+r*v+n*g+S)*M,this.y=(i*a+r*d+n*m+C)*M,this.z=(i*o+r*p+n*y+P)*M,this},unproject:function(h,i){var r=h.x,n=h.y,e=h.z,l=h.w,a=this.x-r,o=l-this.y-1-n,u=this.z;return this.x=2*a/e-1,this.y=2*o/l-1,this.z=2*u-1,this.project(i)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});f.ZERO=new f,f.RIGHT=new f(1,0,0),f.LEFT=new f(-1,0,0),f.UP=new f(0,-1,0),f.DOWN=new f(0,1,0),f.FORWARD=new f(0,0,1),f.BACK=new f(0,0,-1),f.ONE=new f(1,1,1),c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s={Global:["game","anims","cache","plugins","registry","scale","sound","textures"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};c.exports=s},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(11),f=t(13),h=function(i,r){if(r===void 0&&(r=new s),i.length===0)return r;for(var n=Number.MAX_VALUE,e=Number.MAX_VALUE,l=f.MIN_SAFE_INTEGER,a=f.MIN_SAFE_INTEGER,o,u,v,d=0;d<i.length;d++)o=i[d],Array.isArray(o)?(u=o[0],v=o[1]):(u=o.x,v=o.y),n=Math.min(n,u),e=Math.min(e,v),l=Math.max(l,u),a=Math.max(a,v);return r.x=n,r.y=e,r.width=l-n,r.height=a-e,r};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s={CENTER:t(359),ORIENTATION:t(360),SCALE_MODE:t(361),ZOOM:t(362)};c.exports=s},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){s.parentNode&&s.parentNode.removeChild(s)};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(125),h=t(175),i=t(22),r=t(880),n=t(881),e=t(1),l=t(375),a=new s({initialize:function(u,v){this.scene=u,this.game,this.renderer,this.config=v,this.settings=l.create(v),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=e},init:function(o){this.settings.status=f.INIT,this.sceneUpdate=e,this.game=o,this.renderer=o.renderer,this.canvas=o.canvas,this.context=o.context;var u=o.plugins;this.plugins=u,u.addToScene(this,h.Global,[h.CoreScene,n(this),r(this)]),this.events.emit(i.BOOT,this),this.settings.isBooted=!0},install:function(o){Array.isArray(o)||(o=[o]),this.plugins.installLocal(this,o)},step:function(o,u){this.events.emit(i.PRE_UPDATE,o,u),this.events.emit(i.UPDATE,o,u),this.sceneUpdate.call(this.scene,o,u),this.events.emit(i.POST_UPDATE,o,u)},render:function(o){var u=this.displayList;u.depthSort(),this.cameras.render(o,u),this.events.emit(i.RENDER,o)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(o){return this.settings.active&&(this.settings.status=f.PAUSED,this.settings.active=!1,this.events.emit(i.PAUSE,this,o)),this},resume:function(o){return this.settings.active||(this.settings.status=f.RUNNING,this.settings.active=!0,this.events.emit(i.RESUME,this,o)),this},sleep:function(o){return this.settings.status=f.SLEEPING,this.settings.active=!1,this.settings.visible=!1,this.events.emit(i.SLEEP,this,o),this},wake:function(o){var u=this.settings;return u.status=f.RUNNING,u.active=!0,u.visible=!0,this.events.emit(i.WAKE,this,o),u.isTransition&&this.events.emit(i.TRANSITION_WAKE,u.transitionFrom,u.transitionDuration),this},getData:function(){return this.settings.data},isSleeping:function(){return this.settings.status===f.SLEEPING},isActive:function(){return this.settings.status===f.RUNNING},isPaused:function(){return this.settings.status===f.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(o){return this.settings.visible=o,this},setActive:function(o,u){return o?this.resume(u):this.pause(u)},start:function(o){o&&(this.settings.data=o),this.settings.status=f.START,this.settings.active=!0,this.settings.visible=!0,this.events.emit(i.START,this),this.events.emit(i.READY,this,o)},shutdown:function(o){this.events.off(i.TRANSITION_INIT),this.events.off(i.TRANSITION_START),this.events.off(i.TRANSITION_COMPLETE),this.events.off(i.TRANSITION_OUT),this.settings.status=f.SHUTDOWN,this.settings.active=!1,this.settings.visible=!1,this.events.emit(i.SHUTDOWN,this,o)},destroy:function(){this.settings.status=f.DESTROYED,this.settings.active=!1,this.settings.visible=!1,this.events.emit(i.DESTROY,this),this.events.removeAllListeners();for(var o=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],u=0;u<o.length;u++)this[o[u]]=null}});c.exports=a},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return s&&s[0].toUpperCase()+s.slice(1)};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(94),h=t(378),i="Texture.frame missing: ",r=new s({initialize:function(e,l,a,o,u){Array.isArray(a)||(a=[a]),this.manager=e,this.key=l,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var v=0;v<a.length;v++)this.source.push(new h(this,a[v],o,u))},add:function(n,e,l,a,o,u){if(this.has(n))return null;var v=new f(this,n,e,l,a,o,u);return this.frames[n]=v,this.firstFrame==="__BASE"&&(this.firstFrame=n),this.frameTotal++,v},remove:function(n){if(this.has(n)){var e=this.get(n);return e.destroy(),delete this.frames[n],!0}return!1},has:function(n){return this.frames[n]},get:function(n){n||(n=this.firstFrame);var e=this.frames[n];return e||(console.warn(i+n),e=this.frames[this.firstFrame]),e},getTextureSourceIndex:function(n){for(var e=0;e<this.source.length;e++)if(this.source[e]===n)return e;return-1},getFramesFromTextureSource:function(n,e){e===void 0&&(e=!1);var l=[];for(var a in this.frames)if(!(a==="__BASE"&&!e)){var o=this.frames[a];o.sourceIndex===n&&l.push(o)}return l},getFrameNames:function(n){n===void 0&&(n=!1);var e=Object.keys(this.frames);if(!n){var l=e.indexOf("__BASE");l!==-1&&e.splice(l,1)}return e},getSourceImage:function(n){(n==null||this.frameTotal===1)&&(n="__BASE");var e=this.frames[n];return e?e.source.image:(console.warn(i+n),this.frames.__BASE.source.image)},getDataSourceImage:function(n){(n==null||this.frameTotal===1)&&(n="__BASE");var e=this.frames[n],l;return e?l=e.sourceIndex:(console.warn(i+n),l=this.frames.__BASE.sourceIndex),this.dataSource[l].image},setDataSource:function(n){Array.isArray(n)||(n=[n]);for(var e=0;e<n.length;e++){var l=this.source[e];this.dataSource.push(new h(this,n[e],l.width,l.height))}},setFilter:function(n){var e;for(e=0;e<this.source.length;e++)this.source[e].setFilter(n);for(e=0;e<this.dataSource.length;e++)this.dataSource[e].setFilter(n)},destroy:function(){var n;for(n=0;n<this.source.length;n++)this.source[n].destroy();for(n=0;n<this.dataSource.length;n++)this.dataSource[n].destroy();for(var e in this.frames){var l=this.frames[e];l.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Matrix:t(916),Add:t(923),AddAt:t(924),BringToTop:t(925),CountAllMatching:t(926),Each:t(927),EachInRange:t(928),FindClosestInSorted:t(270),GetAll:t(382),GetFirst:t(383),GetRandom:t(185),MoveDown:t(929),MoveTo:t(930),MoveUp:t(931),NumberArray:t(932),NumberArrayStep:t(933),QuickSelect:t(391),Range:t(392),Remove:t(123),RemoveAt:t(934),RemoveBetween:t(935),RemoveRandomElement:t(936),Replace:t(937),RotateLeft:t(286),RotateRight:t(287),SafeRange:t(68),SendToBack:t(938),SetAll:t(939),Shuffle:t(114),SpliceOne:t(80),StableSort:t(131),Swap:t(940)}},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){if(!Array.isArray(s)||s.length<2||!Array.isArray(s[0]))return!1;for(var f=s[0].length,h=1;h<s.length;h++)if(s[h].length!==f)return!1;return!0};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){f===void 0&&(f=0),h===void 0&&(h=s.length);var i=f+Math.floor(Math.random()*h);return s[i]===void 0?null:s[i]};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(10),h=t(942),i=new s({Extends:f,initialize:function(){f.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0},add:function(r){return this._pending.push(r),this._toProcess++,r},remove:function(r){return this._destroy.push(r),this._toProcess++,r},removeAll:function(){for(var r=this._active,n=this._destroy,e=r.length;e--;)n.push(r[e]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var r=this._destroy,n=this._active,e,l;for(e=0;e<r.length;e++){l=r[e];var a=n.indexOf(l);a!==-1&&(n.splice(a,1),this.emit(h.REMOVE,l))}for(r.length=0,r=this._pending,e=0;e<r.length;e++)l=r[e],this._active.push(l),this.emit(h.ADD,l);return r.length=0,this._toProcess=0,this._active},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});c.exports=i},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(f,h){return parseInt(f.getAttribute(h),10)}var s=function(f,h,i,r){h===void 0&&(h=0),i===void 0&&(i=0);var n={},e=f.getElementsByTagName("info")[0],l=f.getElementsByTagName("common")[0];n.font=e.getAttribute("face"),n.size=t(e,"size"),n.lineHeight=t(l,"lineHeight")+i,n.chars={};var a=f.getElementsByTagName("char"),o=r!==void 0&&r.trimmed;if(o)var u=r.height,v=r.width;for(var d=0;d<a.length;d++){var p=a[d],x=t(p,"id"),g=t(p,"x"),m=t(p,"y"),y=t(p,"width"),T=t(p,"height");o&&(g<v&&(v=g),m<u&&(u=m)),n.chars[x]={x:g,y:m,width:y,height:T,centerX:Math.floor(y/2),centerY:Math.floor(T/2),xOffset:t(p,"xoffset"),yOffset:t(p,"yoffset"),xAdvance:t(p,"xadvance")+h,data:{},kerning:{}}}if(o&&u!==0&&v!==0)for(var S in n.chars){var C=n.chars[S];C.x-=r.x,C.y-=r.y}var P=f.getElementsByTagName("kerning");for(d=0;d<P.length;d++){var A=P[d],M=t(A,"first"),O=t(A,"second"),I=t(A,"amount");n.chars[O].kerning[M]=I}return n};c.exports=s},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(950),f=t(953),h=t(0),i=t(12),r=t(94),n=t(14),e=t(129),l=new h({Extends:n,Mixins:[i.Alpha,i.BlendMode,i.Depth,i.Mask,i.Pipeline,i.ScrollFactor,i.Size,i.Texture,i.Transform,i.Visible,s],initialize:function(o,u,v,d,p){n.call(this,o,"Blitter"),this.setTexture(d,p),this.setPosition(u,v),this.initPipeline(),this.children=new e,this.renderList=[],this.dirty=!1},create:function(a,o,u,v,d){v===void 0&&(v=!0),d===void 0&&(d=this.children.length),u===void 0?u=this.frame:u instanceof r||(u=this.texture.get(u));var p=new f(this,a,o,u,v);return this.children.addAt(p,d,!1),this.dirty=!0,p},createFromCallback:function(a,o,u,v){for(var d=this.createMultiple(o,u,v),p=0;p<d.length;p++){var x=d[p];a.call(this,x,p)}return d},createMultiple:function(a,o,u){o===void 0&&(o=this.frame.name),u===void 0&&(u=!0),Array.isArray(o)||(o=[o]);var v=[],d=this;return o.forEach(function(p){for(var x=0;x<a;x++)v.push(d.create(0,0,p,u))}),v},childCanRender:function(a){return a.visible&&a.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});c.exports=l},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(183),f=t(52),h=t(0),i=t(12),r=t(90),n=t(14),e=t(11),l=t(954),a=t(394),o=t(3),u=new h({Extends:n,Mixins:[i.AlphaSingle,i.BlendMode,i.ComputedSize,i.Depth,i.Mask,i.Transform,i.Visible,l],initialize:function(d,p,x,g){n.call(this,d,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new i.TransformMatrix,this.tempTransformMatrix=new i.TransformMatrix,this._displayList=d.sys.displayList,this._sortKey="",this._sysEvents=d.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.setPosition(p,x),this.clearAlpha(),this.setBlendMode(f.SKIP_CHECK),g&&this.add(g)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(v){return v===void 0&&(v=!0),this.exclusive=v,this},getBounds:function(v){if(v===void 0&&(v=new e),v.setTo(this.x,this.y,0,0),this.parentContainer){var d=this.parentContainer.getBoundsTransformMatrix(),p=d.transformPoint(this.x,this.y);v.setTo(p.x,p.y,0,0)}if(this.list.length>0){var x=this.list,g=new e,m=!1;v.setEmpty();for(var y=0;y<x.length;y++){var T=x[y];T.getBounds&&(T.getBounds(g),m?a(g,v,v):(v.setTo(g.x,g.y,g.width,g.height),m=!0))}}return v},addHandler:function(v){v.once(r.DESTROY,this.remove,this),this.exclusive&&(this._displayList.remove(v),v.parentContainer&&v.parentContainer.remove(v),v.parentContainer=this)},removeHandler:function(v){v.off(r.DESTROY,this.remove),this.exclusive&&(v.parentContainer=null)},pointToContainer:function(v,d){d===void 0&&(d=new o),this.parentContainer?this.parentContainer.pointToContainer(v,d):d=new o(v.x,v.y);var p=this.tempTransformMatrix;return p.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),p.invert(),p.transformPoint(v.x,v.y,d),d},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(v){return s.Add(this.list,v,this.maxSize,this.addHandler,this),this},addAt:function(v,d){return s.AddAt(this.list,v,d,this.maxSize,this.addHandler,this),this},getAt:function(v){return this.list[v]},getIndex:function(v){return this.list.indexOf(v)},sort:function(v,d){return v?(d===void 0&&(d=function(p,x){return p[v]-x[v]}),s.StableSort.inplace(this.list,d),this):this},getByName:function(v){return s.GetFirst(this.list,"name",v)},getRandom:function(v,d){return s.GetRandom(this.list,v,d)},getFirst:function(v,d,p,x){return s.GetFirst(this.list,v,d,p,x)},getAll:function(v,d,p,x){return s.GetAll(this.list,v,d,p,x)},count:function(v,d,p,x){return s.CountAllMatching(this.list,v,d,p,x)},swap:function(v,d){return s.Swap(this.list,v,d),this},moveTo:function(v,d){return s.MoveTo(this.list,v,d),this},remove:function(v,d){var p=s.Remove(this.list,v,this.removeHandler,this);if(d&&p){Array.isArray(p)||(p=[p]);for(var x=0;x<p.length;x++)p[x].destroy()}return this},removeAt:function(v,d){var p=s.RemoveAt(this.list,v,this.removeHandler,this);return d&&p&&p.destroy(),this},removeBetween:function(v,d,p){var x=s.RemoveBetween(this.list,v,d,this.removeHandler,this);if(p)for(var g=0;g<x.length;g++)x[g].destroy();return this},removeAll:function(v){var d=s.RemoveBetween(this.list,0,this.list.length,this.removeHandler,this);if(v)for(var p=0;p<d.length;p++)d[p].destroy();return this},bringToTop:function(v){return s.BringToTop(this.list,v),this},sendToBack:function(v){return s.SendToBack(this.list,v),this},moveUp:function(v){return s.MoveUp(this.list,v),this},moveDown:function(v){return s.MoveDown(this.list,v),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return s.Shuffle(this.list),this},replace:function(v,d,p){var x=s.Replace(this.list,v,d);return x&&(this.addHandler(d),this.removeHandler(v),p&&v.destroy()),this},exists:function(v){return this.list.indexOf(v)>-1},setAll:function(v,d,p,x){return s.SetAll(this.list,v,d,p,x),this},each:function(v,d){var p=[null],x,g=this.list.slice(),m=g.length;for(x=2;x<arguments.length;x++)p.push(arguments[x]);for(x=0;x<m;x++)p[0]=g[x],v.apply(d,p);return this},iterate:function(v,d){var p=[null],x;for(x=2;x<arguments.length;x++)p.push(arguments[x]);for(x=0;x<this.list.length;x++)p[0]=this.list[x],v.apply(d,p);return this},setScrollFactor:function(v,d,p){return d===void 0&&(d=v),p===void 0&&(p=!1),this.scrollFactorX=v,this.scrollFactorY=d,p&&(s.SetAll(this.list,"scrollFactorX",v),s.SetAll(this.list,"scrollFactorY",d)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[],this._displayList=null}});c.exports=u},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(132),f=t(0),h=t(959),i=new f({Extends:s,Mixins:[h],initialize:function(n,e,l,a,o,u,v){s.call(this,n,e,l,a,o,u,v),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(r,n){return this.cropWidth=r,this.cropHeight=n,this},setDisplayCallback:function(r){return this.displayCallback=r,this},setScrollX:function(r){return this.scrollX=r,this},setScrollY:function(r){return this.scrollY=r,this}});c.exports=i},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(91),f=t(0),h=t(192),i=t(269),r=t(272),n=t(273),e=t(277),l=t(156),a=t(282),o=t(283),u=t(280),v=t(29),d=t(95),p=t(14),x=t(2),g=t(6),m=t(13),y=t(965),T=new f({Extends:p,Mixins:[i,r,n,e,l,a,o,u,y],initialize:function(C,P){var A=g(P,"x",0),M=g(P,"y",0);p.call(this,C,"Graphics"),this.setPosition(A,M),this.initPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this._tempMatrix1=new v,this._tempMatrix2=new v,this._tempMatrix3=new v,this.setDefaultStyles(P)},setDefaultStyles:function(S){return g(S,"lineStyle",null)&&(this.defaultStrokeWidth=g(S,"lineStyle.width",1),this.defaultStrokeColor=g(S,"lineStyle.color",16777215),this.defaultStrokeAlpha=g(S,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),g(S,"fillStyle",null)&&(this.defaultFillColor=g(S,"fillStyle.color",16777215),this.defaultFillAlpha=g(S,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(S,C,P){return P===void 0&&(P=1),this.commandBuffer.push(h.LINE_STYLE,S,C,P),this._lineWidth=S,this},fillStyle:function(S,C){return C===void 0&&(C=1),this.commandBuffer.push(h.FILL_STYLE,S,C),this},fillGradientStyle:function(S,C,P,A,M){return M===void 0&&(M=1),this.commandBuffer.push(h.GRADIENT_FILL_STYLE,M,S,C,P,A),this},lineGradientStyle:function(S,C,P,A,M,O){return O===void 0&&(O=1),this.commandBuffer.push(h.GRADIENT_LINE_STYLE,S,O,C,P,A,M),this},setTexture:function(S,C,P){if(P===void 0&&(P=0),S===void 0)this.commandBuffer.push(h.CLEAR_TEXTURE);else{var A=this.scene.sys.textures.getFrame(S,C);A&&(P===2&&(P=3),this.commandBuffer.push(h.SET_TEXTURE,A,P))}return this},beginPath:function(){return this.commandBuffer.push(h.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(h.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(h.FILL_PATH),this},fill:function(){return this.commandBuffer.push(h.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(h.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(h.STROKE_PATH),this},fillCircleShape:function(S){return this.fillCircle(S.x,S.y,S.radius)},strokeCircleShape:function(S){return this.strokeCircle(S.x,S.y,S.radius)},fillCircle:function(S,C,P){return this.beginPath(),this.arc(S,C,P,0,m.PI2),this.fillPath(),this},strokeCircle:function(S,C,P){return this.beginPath(),this.arc(S,C,P,0,m.PI2),this.strokePath(),this},fillRectShape:function(S){return this.fillRect(S.x,S.y,S.width,S.height)},strokeRectShape:function(S){return this.strokeRect(S.x,S.y,S.width,S.height)},fillRect:function(S,C,P,A){return this.commandBuffer.push(h.FILL_RECT,S,C,P,A),this},strokeRect:function(S,C,P,A){var M=this._lineWidth/2,O=S-M,I=S+M;return this.beginPath(),this.moveTo(S,C),this.lineTo(S,C+A),this.strokePath(),this.beginPath(),this.moveTo(S+P,C),this.lineTo(S+P,C+A),this.strokePath(),this.beginPath(),this.moveTo(O,C),this.lineTo(I+P,C),this.strokePath(),this.beginPath(),this.moveTo(O,C+A),this.lineTo(I+P,C+A),this.strokePath(),this},fillRoundedRect:function(S,C,P,A,M){M===void 0&&(M=20);var O=M,I=M,B=M,G=M;return typeof M!="number"&&(O=x(M,"tl",20),I=x(M,"tr",20),B=x(M,"bl",20),G=x(M,"br",20)),this.beginPath(),this.moveTo(S+O,C),this.lineTo(S+P-I,C),this.arc(S+P-I,C+I,I,-m.TAU,0),this.lineTo(S+P,C+A-G),this.arc(S+P-G,C+A-G,G,0,m.TAU),this.lineTo(S+B,C+A),this.arc(S+B,C+A-B,B,m.TAU,Math.PI),this.lineTo(S,C+O),this.arc(S+O,C+O,O,-Math.PI,-m.TAU),this.fillPath(),this},strokeRoundedRect:function(S,C,P,A,M){M===void 0&&(M=20);var O=M,I=M,B=M,G=M;return typeof M!="number"&&(O=x(M,"tl",20),I=x(M,"tr",20),B=x(M,"bl",20),G=x(M,"br",20)),this.beginPath(),this.moveTo(S+O,C),this.lineTo(S+P-I,C),this.arc(S+P-I,C+I,I,-m.TAU,0),this.lineTo(S+P,C+A-G),this.arc(S+P-G,C+A-G,G,0,m.TAU),this.lineTo(S+B,C+A),this.arc(S+B,C+A-B,B,m.TAU,Math.PI),this.lineTo(S,C+O),this.arc(S+O,C+O,O,-Math.PI,-m.TAU),this.strokePath(),this},fillPointShape:function(S,C){return this.fillPoint(S.x,S.y,C)},fillPoint:function(S,C,P){return!P||P<1?P=1:(S-=P/2,C-=P/2),this.commandBuffer.push(h.FILL_RECT,S,C,P,P),this},fillTriangleShape:function(S){return this.fillTriangle(S.x1,S.y1,S.x2,S.y2,S.x3,S.y3)},strokeTriangleShape:function(S){return this.strokeTriangle(S.x1,S.y1,S.x2,S.y2,S.x3,S.y3)},fillTriangle:function(S,C,P,A,M,O){return this.commandBuffer.push(h.FILL_TRIANGLE,S,C,P,A,M,O),this},strokeTriangle:function(S,C,P,A,M,O){return this.commandBuffer.push(h.STROKE_TRIANGLE,S,C,P,A,M,O),this},strokeLineShape:function(S){return this.lineBetween(S.x1,S.y1,S.x2,S.y2)},lineBetween:function(S,C,P,A){return this.beginPath(),this.moveTo(S,C),this.lineTo(P,A),this.strokePath(),this},lineTo:function(S,C){return this.commandBuffer.push(h.LINE_TO,S,C),this},moveTo:function(S,C){return this.commandBuffer.push(h.MOVE_TO,S,C),this},strokePoints:function(S,C,P,A){C===void 0&&(C=!1),P===void 0&&(P=!1),A===void 0&&(A=S.length),this.beginPath(),this.moveTo(S[0].x,S[0].y);for(var M=1;M<A;M++)this.lineTo(S[M].x,S[M].y);return C&&this.lineTo(S[0].x,S[0].y),P&&this.closePath(),this.strokePath(),this},fillPoints:function(S,C,P,A){C===void 0&&(C=!1),P===void 0&&(P=!1),A===void 0&&(A=S.length),this.beginPath(),this.moveTo(S[0].x,S[0].y);for(var M=1;M<A;M++)this.lineTo(S[M].x,S[M].y);return C&&this.lineTo(S[0].x,S[0].y),P&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(S,C){C===void 0&&(C=32);var P=S.getPoints(C);return this.strokePoints(P,!0)},strokeEllipse:function(S,C,P,A,M){M===void 0&&(M=32);var O=new d(S,C,P,A),I=O.getPoints(M);return this.strokePoints(I,!0)},fillEllipseShape:function(S,C){C===void 0&&(C=32);var P=S.getPoints(C);return this.fillPoints(P,!0)},fillEllipse:function(S,C,P,A,M){M===void 0&&(M=32);var O=new d(S,C,P,A),I=O.getPoints(M);return this.fillPoints(I,!0)},arc:function(S,C,P,A,M,O,I){return O===void 0&&(O=!1),I===void 0&&(I=0),this.commandBuffer.push(h.ARC,S,C,P,A,M,O,I),this},slice:function(S,C,P,A,M,O,I){return O===void 0&&(O=!1),I===void 0&&(I=0),this.commandBuffer.push(h.BEGIN_PATH),this.commandBuffer.push(h.MOVE_TO,S,C),this.commandBuffer.push(h.ARC,S,C,P,A,M,O,I),this.commandBuffer.push(h.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(h.SAVE),this},restore:function(){return this.commandBuffer.push(h.RESTORE),this},translateCanvas:function(S,C){return this.commandBuffer.push(h.TRANSLATE,S,C),this},scaleCanvas:function(S,C){return this.commandBuffer.push(h.SCALE,S,C),this},rotateCanvas:function(S){return this.commandBuffer.push(h.ROTATE,S),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(S,C,P){var A=this.scene.sys,M=A.game.renderer;C===void 0&&(C=A.scale.width),P===void 0&&(P=A.scale.height),T.TargetCamera.setScene(this.scene),T.TargetCamera.setViewport(0,0,C,P),T.TargetCamera.scrollX=this.x,T.TargetCamera.scrollY=this.y;var O,I;if(typeof S=="string")if(A.textures.exists(S)){O=A.textures.get(S);var B=O.getSourceImage();B instanceof HTMLCanvasElement&&(I=B.getContext("2d"))}else O=A.textures.createCanvas(S,C,P),I=O.getSourceImage().getContext("2d");else S instanceof HTMLCanvasElement&&(I=S.getContext("2d"));return I&&(this.renderCanvas(M,this,0,T.TargetCamera,null,I,!1),O&&O.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});T.TargetCamera=new s,c.exports=T},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,SET_TEXTURE:19,CLEAR_TEXTURE:20,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(4),f=function(h,i,r){r===void 0&&(r=new s);var n=h.width/2,e=h.height/2;return r.x=h.x+n*Math.cos(i),r.y=h.y+e*Math.sin(i),r};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(12),h=t(14),i=t(402),r=t(129),n=t(404),e=t(975),l=new s({Extends:h,Mixins:[f.Depth,f.Mask,f.Pipeline,f.Transform,f.Visible,e],initialize:function(o,u,v,d){if(h.call(this,o,"ParticleEmitterManager"),this.blendMode=-1,this.timeScale=1,this.texture=null,this.frame=null,this.frameNames=[],v!==null&&(typeof v=="object"||Array.isArray(v))&&(d=v,v=null),this.setTexture(u,v),this.initPipeline(),this.emitters=new r(this),this.wells=new r(this),d){Array.isArray(d)||(d=[d]);for(var p=0;p<d.length;p++)this.createEmitter(d[p])}},setTexture:function(a,o){return this.texture=this.scene.sys.textures.get(a),this.setFrame(o)},setFrame:function(a){this.frame=this.texture.get(a);var o=this.texture.getFramesFromTextureSource(this.frame.sourceIndex),u=[];return o.forEach(function(v){u.push(v.name)}),this.frameNames=u,this.defaultFrame=this.frame,this},setEmitterFrames:function(a,o){Array.isArray(a)||(a=[a]);var u=o.frames;u.length=0;for(var v=0;v<a.length;v++){var d=a[v];this.frameNames.indexOf(d)!==-1&&u.push(this.texture.get(d))}return u.length>0?o.defaultFrame=u[0]:o.defaultFrame=this.defaultFrame,this},addEmitter:function(a){return this.emitters.add(a)},createEmitter:function(a){return this.addEmitter(new n(this,a))},removeEmitter:function(a){return this.emitters.remove(a,!0)},addGravityWell:function(a){return this.wells.add(a)},createGravityWell:function(a){return this.addGravityWell(new i(a))},emitParticle:function(a,o,u){for(var v=this.emitters.list,d=0;d<v.length;d++){var p=v[d];p.active&&p.emitParticle(a,o,u)}return this},emitParticleAt:function(a,o,u){return this.emitParticle(u,a,o)},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},getProcessors:function(){return this.wells.getAll("active",!0)},preUpdate:function(a,o){o*=this.timeScale;for(var u=this.emitters.list,v=0;v<u.length;v++){var d=u[v];d.active&&d.preUpdate(a,o)}},setAlpha:function(){},setScrollFactor:function(){},setBlendMode:function(){}});c.exports=l},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(52),f=t(91),h=t(26),i=t(0),r=t(12),n=t(33),e=t(94),l=t(14),a=t(1),o=t(979),u=t(9),v=t(196),d=new i({Extends:l,Mixins:[r.Alpha,r.BlendMode,r.ComputedSize,r.Crop,r.Depth,r.Flip,r.GetBounds,r.Mask,r.Origin,r.Pipeline,r.ScrollFactor,r.Tint,r.Transform,r.Visible,o],initialize:function(x,g,m,y,T,S,C){g===void 0&&(g=0),m===void 0&&(m=0),y===void 0&&(y=32),T===void 0&&(T=32),l.call(this,x,"RenderTexture"),this.renderer=x.sys.game.renderer,this.textureManager=x.sys.textures,this.globalTint=16777215,this.globalAlpha=1,this.canvas=null,this.framebuffer=null,this.dirty=!1,this._crop=this.resetCropObject(),this.texture=null,this.frame=null,this._saved=!1,S===void 0?(this.canvas=h.create2D(this,y,T),this.texture=x.sys.textures.addCanvas(v(),this.canvas),this.frame=this.texture.get()):(this.texture=x.sys.textures.get(S),this.frame=this.texture.get(C),this.canvas=this.frame.source.image,this._saved=!0,this.dirty=!0,this.width=this.frame.cutWidth,this.height=this.frame.cutHeight),this.context=this.canvas.getContext("2d"),this._eraseMode=!1,this.camera=new f(0,0,y,T),this.gl=null,this.glTexture=null;var P=this.renderer;if(!P)this.drawGameObject=a;else if(P.type===n.WEBGL){var A=P.gl;this.gl=A,this.glTexture=this.frame.source.glTexture,this.drawGameObject=this.batchGameObjectWebGL,this.framebuffer=P.createFramebuffer(y,T,this.glTexture,!1)}else P.type===n.CANVAS&&(this.drawGameObject=this.batchGameObjectCanvas);this.camera.setScene(x),this.setPosition(g,m),S===void 0&&this.setSize(y,T),this.setOrigin(0,0),this.initPipeline()},setSize:function(p,x){return this.resize(p,x)},resize:function(p,x){if(x===void 0&&(x=p),p!==this.width||x!==this.height){if(this.frame.name==="__BASE"){if(this.canvas.width=p,this.canvas.height=x,this.texture.width=p,this.texture.height=x,this.gl){var g=this.gl;this.renderer.deleteTexture(this.frame.source.glTexture),this.renderer.deleteFramebuffer(this.framebuffer);var m=this.renderer.createTexture2D(0,g.NEAREST,g.NEAREST,g.CLAMP_TO_EDGE,g.CLAMP_TO_EDGE,g.RGBA,null,p,x,!1);this.framebuffer=this.renderer.createFramebuffer(p,x,m,!1),this.frame.source.isRenderTexture=!0,this.frame.glTexture=m,this.glTexture=m}this.frame.source.width=p,this.frame.source.height=x,this.camera.setSize(p,x),this.frame.setSize(p,x),this.width=p,this.height=x}}else{var y=this.texture.getSourceImage();this.frame.cutX+p>y.width&&(p=y.width-this.frame.cutX),this.frame.cutY+x>y.height&&(x=y.height-this.frame.cutY),this.frame.setSize(p,x,this.frame.cutX,this.frame.cutY)}this.updateDisplayOrigin();var T=this.input;return T&&!T.customHitArea&&(T.hitArea.width=p,T.hitArea.height=x),this},setGlobalTint:function(p){return this.globalTint=p,this},setGlobalAlpha:function(p){return this.globalAlpha=p,this},saveTexture:function(p){return this.textureManager.renameTexture(this.texture.key,p),this._saved=!0,this.texture},fill:function(p,x,g,m,y,T){x===void 0&&(x=1),g===void 0&&(g=0),m===void 0&&(m=0),y===void 0&&(y=this.frame.cutWidth),T===void 0&&(T=this.frame.cutHeight);var S=(p>>16|0)&255,C=(p>>8|0)&255,P=(p|0)&255,A=this.gl,M=this.frame;if(this.camera.preRender(1,1),A){var O=this.camera._cx,I=this.camera._cy,B=this.camera._cw,G=this.camera._ch;this.renderer.setFramebuffer(this.framebuffer,!1),this.renderer.pushScissor(O,I,B,G,G);var z=this.pipeline;z.projOrtho(0,this.texture.width,0,this.texture.height,-1e3,1e3),z.drawFillRect(g,m,y,T,u.getTintFromFloats(S/255,C/255,P/255,1),x),this.renderer.setFramebuffer(null,!1),this.renderer.popScissor(),z.projOrtho(0,z.width,z.height,0,-1e3,1e3)}else this.renderer.setContext(this.context),this.context.fillStyle="rgba("+S+","+C+","+P+","+x+")",this.context.fillRect(g+M.cutX,m+M.cutY,y,T),this.renderer.setContext();return this.dirty=!0,this},clear:function(){if(this.dirty){var p=this.gl;if(p){var x=this.renderer;x.setFramebuffer(this.framebuffer,!0),(this.frame.cutWidth!==this.canvas.width||this.frame.cutHeight!==this.canvas.height)&&p.scissor(this.frame.cutX,this.frame.cutY,this.frame.cutWidth,this.frame.cutHeight),p.clearColor(0,0,0,0),p.clear(p.COLOR_BUFFER_BIT),x.setFramebuffer(null,!0)}else{var g=this.context;g.save(),g.setTransform(1,0,0,1,0,0),g.clearRect(this.frame.cutX,this.frame.cutY,this.frame.cutWidth,this.frame.cutHeight),g.restore()}this.dirty=!1}return this},erase:function(p,x,g){this._eraseMode=!0;var m=this.renderer.currentBlendMode;return this.renderer.setBlendMode(s.ERASE),this.draw(p,x,g,1,16777215),this.renderer.setBlendMode(m),this._eraseMode=!1,this},draw:function(p,x,g,m,y){m===void 0&&(m=this.globalAlpha),y===void 0?y=(this.globalTint>>16)+(this.globalTint&65280)+((this.globalTint&255)<<16):y=(y>>16)+(y&65280)+((y&255)<<16),Array.isArray(p)||(p=[p]);var T=this.gl;if(this.camera.preRender(1,1),T){var S=this.camera._cx,C=this.camera._cy,P=this.camera._cw,A=this.camera._ch;this.renderer.setFramebuffer(this.framebuffer,!1),this.renderer.pushScissor(S,C,P,A,A);var M=this.pipeline;M.projOrtho(0,this.texture.width,0,this.texture.height,-1e3,1e3),this.batchList(p,x,g,m,y),M.flush(),this.renderer.setFramebuffer(null,!1),this.renderer.popScissor(),M.projOrtho(0,M.width,M.height,0,-1e3,1e3)}else this.renderer.setContext(this.context),this.batchList(p,x,g,m,y),this.renderer.setContext();return this.dirty=!0,this},drawFrame:function(p,x,g,m,y,T){g===void 0&&(g=0),m===void 0&&(m=0),y===void 0&&(y=this.globalAlpha),T===void 0?T=(this.globalTint>>16)+(this.globalTint&65280)+((this.globalTint&255)<<16):T=(T>>16)+(T&65280)+((T&255)<<16);var S=this.gl,C=this.textureManager.getFrame(p,x);if(C){if(this.camera.preRender(1,1),S){var P=this.camera._cx,A=this.camera._cy,M=this.camera._cw,O=this.camera._ch;this.renderer.setFramebuffer(this.framebuffer,!1),this.renderer.pushScissor(P,A,M,O,O);var I=this.pipeline;I.projOrtho(0,this.texture.width,0,this.texture.height,-1e3,1e3),I.batchTextureFrame(C,g+this.frame.cutX,m+this.frame.cutY,T,y,this.camera.matrix,null),I.flush(),this.renderer.setFramebuffer(null,!1),this.renderer.popScissor(),I.projOrtho(0,I.width,I.height,0,-1e3,1e3)}else this.batchTextureFrame(C,g+this.frame.cutX,m+this.frame.cutY,y,T);this.dirty=!0}return this},batchList:function(p,x,g,m,y){for(var T=0;T<p.length;T++){var S=p[T];!S||S===this||(S.renderWebGL||S.renderCanvas?this.drawGameObject(S,x,g):S.isParent||S.list?this.batchGroup(S.getChildren(),x,g):typeof S=="string"?this.batchTextureFrameKey(S,null,x,g,m,y):S instanceof e?this.batchTextureFrame(S,x,g,m,y):Array.isArray(S)&&this.batchList(S,x,g,m,y))}},batchGroup:function(p,x,g){x===void 0&&(x=0),g===void 0&&(g=0),x+=this.frame.cutX,g+=this.frame.cutY;for(var m=0;m<p.length;m++){var y=p[m];if(y.willRender()){var T=y.x+x,S=y.y+g;this.drawGameObject(y,T,S)}}},batchGameObjectWebGL:function(p,x,g){x===void 0&&(x=p.x),g===void 0&&(g=p.y);var m=p.x,y=p.y;this._eraseMode||this.renderer.setBlendMode(p.blendMode),p.setPosition(x+this.frame.cutX,g+this.frame.cutY),p.renderWebGL(this.renderer,p,0,this.camera,null),p.setPosition(m,y)},batchGameObjectCanvas:function(p,x,g){x===void 0&&(x=p.x),g===void 0&&(g=p.y);var m=p.x,y=p.y;if(this._eraseMode){var T=p.blendMode;p.blendMode=s.ERASE}p.setPosition(x+this.frame.cutX,g+this.frame.cutY),p.renderCanvas(this.renderer,p,0,this.camera,null),p.setPosition(m,y),this._eraseMode&&(p.blendMode=T)},batchTextureFrameKey:function(p,x,g,m,y,T){var S=this.textureManager.getFrame(p,x);S&&this.batchTextureFrame(S,g,m,y,T)},batchTextureFrame:function(p,x,g,m,y){if(x===void 0&&(x=0),g===void 0&&(g=0),x+=this.frame.cutX,g+=this.frame.cutY,this.gl)this.pipeline.batchTextureFrame(p,x,g,y,m,this.camera.matrix,null);else{var T=this.context,S=p.canvasData,C=p.source.image,P=this.camera.matrix;T.globalAlpha=this.globalAlpha,T.setTransform(P[0],P[1],P[2],P[3],P[4],P[5]),T.drawImage(C,S.x,S.y,S.width,S.height,x,g,S.width,S.height)}},snapshotArea:function(p,x,g,m,y,T,S){return this.gl?this.renderer.snapshotFramebuffer(this.framebuffer,this.width,this.height,y,!1,p,x,g,m,T,S):this.renderer.snapshotCanvas(this.canvas,y,!1,p,x,g,m,T,S),this},snapshot:function(p,x,g){return this.gl?this.renderer.snapshotFramebuffer(this.framebuffer,this.width,this.height,p,!1,0,0,this.width,this.height,x,g):this.renderer.snapshotCanvas(this.canvas,p,!1,0,0,this.width,this.height,x,g),this},snapshotPixel:function(p,x,g){return this.gl?this.renderer.snapshotFramebuffer(this.framebuffer,this.width,this.height,g,!0,p,x):this.renderer.snapshotCanvas(this.canvas,g,!0,p,x),this},preDestroy:function(){this._saved||(h.remove(this.canvas),this.gl&&this.renderer.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.framebuffer=null,this.texture=null,this.glTexture=null)}});c.exports=d},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){var f=Math.random()*16|0,h=s==="x"?f:f&3|8;return h.toString(16)})};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(12),h=t(14),i=t(985),r=t(3),n=new s({Extends:h,Mixins:[f.AlphaSingle,f.BlendMode,f.Depth,f.Flip,f.Mask,f.Pipeline,f.Size,f.Texture,f.Transform,f.Visible,f.ScrollFactor,i],initialize:function(l,a,o,u,v,d,p,x,g){u===void 0&&(u="__DEFAULT"),d===void 0&&(d=2),p===void 0&&(p=!0),h.call(this,l,"Rope"),this.anims=new f.Animation(this),this.points=d,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=u==="__DEFAULT"?2:0,this.dirty=!1,this.horizontal=p,this._flipX=!1,this._flipY=!1,this._perp=new r,this.debugCallback=null,this.debugGraphic=null,this.setTexture(u,v),this.setPosition(a,o),this.setSizeToFrame(),this.initPipeline("TextureTintStripPipeline"),Array.isArray(d)&&this.resizeArrays(d.length),this.setPoints(d,x,g),this.updateVertices()},preUpdate:function(e,l){var a=this.anims.currentFrame;this.anims.update(e,l),this.anims.currentFrame!==a&&(this.updateUVs(),this.updateVertices())},play:function(e,l,a){return this.anims.play(e,l,a),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(e,l,a){return e===void 0&&(e=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(e,l,a))},setVertical:function(e,l,a){return e===void 0&&(e=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(e,l,a)):this},setTintFill:function(e){return e===void 0&&(e=0),this.tintFill=e,this},setAlphas:function(e,l){var a=this.points.length;if(a<1)return this;var o=this.alphas;e===void 0?e=[1]:!Array.isArray(e)&&l===void 0&&(e=[e]);var u,v=0;if(l!==void 0)for(u=0;u<a;u++)v=u*2,o[v]=e,o[v+1]=l;else if(e.length===a)for(u=0;u<a;u++)v=u*2,o[v]=e[u],o[v+1]=e[u];else{var d=e[0];for(u=0;u<a;u++)v=u*2,e.length>v&&(d=e[v]),o[v]=d,e.length>v+1&&(d=e[v+1]),o[v+1]=d}return this},setColors:function(e){var l=this.points.length;if(l<1)return this;var a=this.colors;e===void 0?e=[16777215]:Array.isArray(e)||(e=[e]);var o,u=0;if(e.length===l)for(o=0;o<l;o++)u=o*2,a[u]=e[o],a[u+1]=e[o];else{var v=e[0];for(o=0;o<l;o++)u=o*2,e.length>u&&(v=e[u]),a[u]=v,e.length>u+1&&(v=e[u+1]),a[u+1]=v}return this},setPoints:function(e,l,a){if(e===void 0&&(e=2),typeof e=="number"){var o=e;o<2&&(o=2),e=[];var u,v,d;if(this.horizontal)for(d=-this.frame.halfWidth,v=this.frame.width/(o-1),u=0;u<o;u++)e.push({x:d+u*v,y:0});else for(d=-this.frame.halfHeight,v=this.frame.height/(o-1),u=0;u<o;u++)e.push({x:0,y:d+u*v})}var p=e.length,x=this.points.length;return p<1?(console.warn("Rope: Not enough points given"),this):(p===1&&(e.unshift({x:0,y:0}),p++),x!==p&&this.resizeArrays(p),this.points=e,this.updateUVs(),l!=null&&this.setColors(l),a!=null&&this.setAlphas(a),this)},updateUVs:function(){for(var e=this.uv,l=this.points.length,a=this.frame.u0,o=this.frame.v0,u=this.frame.u1,v=this.frame.v1,d=(u-a)/(l-1),p=(v-o)/(l-1),x=0;x<l;x++){var g=x*4,m,y,T,S;this.horizontal?(this._flipX?(m=u-x*d,T=u-x*d):(m=a+x*d,T=a+x*d),this._flipY?(y=v,S=o):(y=o,S=v)):(this._flipX?(m=a,T=u):(m=u,T=a),this._flipY?(y=v-x*p,S=v-x*p):(y=o+x*p,S=o+x*p)),e[g+0]=m,e[g+1]=y,e[g+2]=T,e[g+3]=S}return this},resizeArrays:function(e){var l=this.colors,a=this.alphas;this.vertices=new Float32Array(e*4),this.uv=new Float32Array(e*4),l=new Uint32Array(e*2),a=new Float32Array(e*2);for(var o=0;o<e*2;o++)l[o]=16777215,a[o]=1;return this.colors=l,this.alphas=a,this.dirty=!0,this},updateVertices:function(){var e=this._perp,l=this.points,a=this.vertices,o=l.length;if(this.dirty=!1,!(o<1)){for(var u,v=l[0],d=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,p=0;p<o;p++){var x=l[p],g=p*4;p<o-1?u=l[p+1]:u=x,e.x=u.y-v.y,e.y=-(u.x-v.x);var m=e.length();e.x/=m,e.y/=m,e.x*=d,e.y*=d,a[g]=x.x+e.x,a[g+1]=x.y+e.y,a[g+2]=x.x-e.x,a[g+3]=x.y-e.y,v=x}return this}},setDebug:function(e,l){return this.debugGraphic=e,!e&&!l?this.debugCallback=null:l?this.debugCallback=l:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(e,l,a){var o=e.debugGraphic,u=a[0],v=a[1],d=a[2],p=a[3];o.lineBetween(u,v,d,p);for(var x=4;x<l;x+=4){var g=a[x+0],m=a[x+1],y=a[x+2],T=a[x+3];o.lineBetween(u,v,g,m),o.lineBetween(d,p,y,T),o.lineBetween(d,p,g,m),o.lineBetween(g,m,y,T),u=g,v=m,d=y,p=T}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(e){return this._flipX=e,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(e){return this._flipY=e,this.updateUVs()}}});c.exports=n},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(122),f=t(26),h=t(0),i=t(12),r=t(20),n=t(14),e=t(988),l=t(6),a=t(178),o=t(989),u=t(992),v=new h({Extends:n,Mixins:[i.Alpha,i.BlendMode,i.ComputedSize,i.Crop,i.Depth,i.Flip,i.GetBounds,i.Mask,i.Origin,i.Pipeline,i.ScrollFactor,i.Tint,i.Transform,i.Visible,o],initialize:function(p,x,g,m,y){x===void 0&&(x=0),g===void 0&&(g=0),n.call(this,p,"Text"),this.renderer=p.sys.game.renderer,this.setPosition(x,g),this.setOrigin(0,0),this.initPipeline(),this.canvas=f.create(this),this.context=this.canvas.getContext("2d"),this.style=new u(this,y),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.dirty=!1,this.style.resolution===0&&(this.style.resolution=p.sys.game.config.resolution),this._crop=this.resetCropObject(),this.texture=p.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(m),y&&y.padding&&this.setPadding(y.padding),y&&y.lineSpacing&&this.setLineSpacing(y.lineSpacing),p.sys.game.events.on(r.CONTEXT_RESTORED,function(){this.dirty=!0},this)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",s(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(d){var p=this.style;if(p.wordWrapCallback){var x=p.wordWrapCallback.call(p.wordWrapCallbackScope,d,this);return Array.isArray(x)&&(x=x.join(`
`)),x}else return p.wordWrapWidth?p.wordWrapUseAdvanced?this.advancedWordWrap(d,this.context,this.style.wordWrapWidth):this.basicWordWrap(d,this.context,this.style.wordWrapWidth):d},advancedWordWrap:function(d,p,x){for(var g="",m=d.replace(/ +/gi," ").split(this.splitRegExp),y=m.length,T=0;T<y;T++){var S=m[T],C="";S=S.replace(/^ *|\s*$/gi,"");var P=p.measureText(S).width;if(P<x){g+=S+`
`;continue}for(var A=x,M=S.split(" "),O=0;O<M.length;O++){var I=M[O],B=I+" ",G=p.measureText(B).width;if(G>A){if(O===0){for(var z=B;z.length&&(z=z.slice(0,-1),G=p.measureText(z).width,!(G<=A)););if(!z.length)throw new Error("This text's wordWrapWidth setting is less than a single character!");var N=I.substr(z.length);M[O]=N,C+=z}var L=M[O].length?O:O+1,R=M.slice(L).join(" ").replace(/[ \n]*$/gi,"");m[T+1]=R+" "+(m[T+1]||""),y=m.length;break}else C+=B,A-=G}g+=C.replace(/[ \n]*$/gi,"")+`
`}return g=g.replace(/[\s|\n]*$/gi,""),g},basicWordWrap:function(d,p,x){for(var g="",m=d.split(this.splitRegExp),y=m.length-1,T=p.measureText(" ").width,S=0;S<=y;S++){for(var C=x,P=m[S].split(" "),A=P.length-1,M=0;M<=A;M++){var O=P[M],I=p.measureText(O).width,B=I+T;B>C&&M>0&&(g+=`
`,C=x),g+=O,M<A?(g+=" ",C-=B):C-=I}S<y&&(g+=`
`)}return g},getWrappedText:function(d){d===void 0&&(d=this._text),this.style.syncFont(this.canvas,this.context);var p=this.runWordWrap(d);return p.split(this.splitRegExp)},setText:function(d){return!d&&d!==0&&(d=""),Array.isArray(d)&&(d=d.join(`
`)),d!==this._text&&(this._text=d.toString(),this.updateText()),this},setStyle:function(d){return this.style.setStyle(d)},setFont:function(d){return this.style.setFont(d)},setFontFamily:function(d){return this.style.setFontFamily(d)},setFontSize:function(d){return this.style.setFontSize(d)},setFontStyle:function(d){return this.style.setFontStyle(d)},setFixedSize:function(d,p){return this.style.setFixedSize(d,p)},setBackgroundColor:function(d){return this.style.setBackgroundColor(d)},setFill:function(d){return this.style.setFill(d)},setColor:function(d){return this.style.setColor(d)},setStroke:function(d,p){return this.style.setStroke(d,p)},setShadow:function(d,p,x,g,m,y){return this.style.setShadow(d,p,x,g,m,y)},setShadowOffset:function(d,p){return this.style.setShadowOffset(d,p)},setShadowColor:function(d){return this.style.setShadowColor(d)},setShadowBlur:function(d){return this.style.setShadowBlur(d)},setShadowStroke:function(d){return this.style.setShadowStroke(d)},setShadowFill:function(d){return this.style.setShadowFill(d)},setWordWrapWidth:function(d,p){return this.style.setWordWrapWidth(d,p)},setWordWrapCallback:function(d,p){return this.style.setWordWrapCallback(d,p)},setAlign:function(d){return this.style.setAlign(d)},setResolution:function(d){return this.style.setResolution(d)},setLineSpacing:function(d){return this.lineSpacing=d,this.updateText()},setPadding:function(d,p,x,g){if(typeof d=="object"){var m=d,y=l(m,"x",null);y!==null?(d=y,x=y):(d=l(m,"left",0),x=l(m,"right",d));var T=l(m,"y",null);T!==null?(p=T,g=T):(p=l(m,"top",0),g=l(m,"bottom",p))}else d===void 0&&(d=0),p===void 0&&(p=d),x===void 0&&(x=d),g===void 0&&(g=p);return this.padding.left=d,this.padding.top=p,this.padding.right=x,this.padding.bottom=g,this.updateText()},setMaxLines:function(d){return this.style.setMaxLines(d)},updateText:function(){var d=this.canvas,p=this.context,x=this.style,g=x.resolution,m=x.metrics;x.syncFont(d,p);var y=this._text;(x.wordWrapWidth||x.wordWrapCallback)&&(y=this.runWordWrap(this._text));var T=y.split(this.splitRegExp),S=e(this,m,T),C=this.padding,P;x.fixedWidth===0?(this.width=S.width+C.left+C.right,P=S.width):(this.width=x.fixedWidth,P=this.width-C.left-C.right,P<S.width&&(P=S.width)),x.fixedHeight===0?this.height=S.height+C.top+C.bottom:this.height=x.fixedHeight;var A=this.width,M=this.height;this.updateDisplayOrigin(),A*=g,M*=g,A=Math.max(A,1),M=Math.max(M,1),d.width!==A||d.height!==M?(d.width=A,d.height=M,this.frame.setSize(A,M),x.syncFont(d,p)):p.clearRect(0,0,A,M),p.save(),p.scale(g,g),x.backgroundColor&&(p.fillStyle=x.backgroundColor,p.fillRect(0,0,A,M)),x.syncStyle(d,p),p.textBaseline="alphabetic",p.translate(C.left,C.top);for(var O,I,B=0;B<S.lines;B++){if(O=x.strokeThickness/2,I=x.strokeThickness/2+B*S.lineHeight+m.ascent,B>0&&(I+=S.lineSpacing*B),x.rtl)O=A-O;else if(x.align==="right")O+=P-S.lineWidths[B];else if(x.align==="center")O+=(P-S.lineWidths[B])/2;else if(x.align==="justify"){var G=.85;if(S.lineWidths[B]/S.width>=G){var z=S.width-S.lineWidths[B],N=p.measureText(" ").width,L=T[B].trim(),R=L.split(" ");z+=(T[B].length-L.length)*N;for(var F=Math.floor(z/N),Y=0;F>0;)R[Y]+=" ",Y=(Y+1)%(R.length-1||1),--F;T[B]=R.join(" ")}}this.autoRound&&(O=Math.round(O),I=Math.round(I)),x.strokeThickness&&(this.style.syncShadow(p,x.shadowStroke),p.strokeText(T[B],O,I)),x.color&&(this.style.syncShadow(p,x.shadowFill),p.fillText(T[B],O,I))}p.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(d,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!0;var D=this.input;return D&&!D.customHitArea&&(D.hitArea.width=this.width,D.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(d){this.setText(d)}},toJSON:function(){var d=i.ToJSON(this),p={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return d.data=p,d},preDestroy:function(){this.style.rtl&&a(this.canvas),f.remove(this.canvas),this.texture.destroy()}});c.exports=v},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(26),f=t(0),h=t(12),i=t(20),r=t(14),n=t(329),e=t(167),l=t(994),a=t(3),o=8,u=new f({Extends:r,Mixins:[h.Alpha,h.BlendMode,h.ComputedSize,h.Crop,h.Depth,h.Flip,h.GetBounds,h.Mask,h.Origin,h.Pipeline,h.ScrollFactor,h.Tint,h.Transform,h.Visible,l],initialize:function(d,p,x,g,m,y,T){var S=d.sys.game.renderer;r.call(this,d,"TileSprite");var C=d.sys.textures.get(y),P=C.get(T);!g||!m?(g=P.width,m=P.height):(g=Math.floor(g),m=Math.floor(m)),this._tilePosition=new a,this._tileScale=new a(1,1),this.dirty=!1,this.renderer=S,this.canvas=s.create(this,g,m),this.context=this.canvas.getContext("2d"),this.displayTexture=C,this.displayFrame=P,this._crop=this.resetCropObject(),this.texture=d.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.potWidth=n(P.width),this.potHeight=n(P.height),this.fillCanvas=s.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d"),this.fillPattern=null,this.setPosition(p,x),this.setSize(g,m),this.setFrame(T),this.setOriginFromFrame(),this.initPipeline(),d.sys.game.events.on(i.CONTEXT_RESTORED,function(A){var M=A.gl;this.dirty=!0,this.fillPattern=null,this.fillPattern=A.createTexture2D(0,M.LINEAR,M.LINEAR,M.REPEAT,M.REPEAT,M.RGBA,this.fillCanvas,this.potWidth,this.potHeight)},this)},setTexture:function(v,d){return this.displayTexture=this.scene.sys.textures.get(v),this.setFrame(d)},setFrame:function(v){var d=this.displayTexture.get(v);return this.potWidth=n(d.width),this.potHeight=n(d.height),this.canvas.width=0,!d.cutWidth||!d.cutHeight?this.renderFlags&=~o:this.renderFlags|=o,this.displayFrame=d,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(v,d){return v!==void 0&&(this.tilePositionX=v),d!==void 0&&(this.tilePositionY=d),this},setTileScale:function(v,d){return v===void 0&&(v=this.tileScaleX),d===void 0&&(d=v),this.tileScaleX=v,this.tileScaleY=d,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var v=this.displayFrame;if(v.source.isRenderTexture||v.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var d=this.fillContext,p=this.fillCanvas,x=this.potWidth,g=this.potHeight;this.renderer.gl||(x=v.cutWidth,g=v.cutHeight),d.clearRect(0,0,x,g),p.width=x,p.height=g,d.drawImage(v.source.image,v.cutX,v.cutY,v.cutWidth,v.cutHeight,0,0,x,g),this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(p,this.fillPattern):this.fillPattern=d.createPattern(p,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var v=this.canvas;if((v.width!==this.width||v.height!==this.height)&&(v.width=this.width,v.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var d=this.context;this.scene.sys.game.config.antialias||e.disable(d);var p=this._tileScale.x,x=this._tileScale.y,g=this._tilePosition.x,m=this._tilePosition.y;d.clearRect(0,0,this.width,this.height),d.save(),d.scale(p,x),d.translate(-g,-m),d.fillStyle=this.fillPattern,d.fillRect(g,m,this.width/p,this.height/x),d.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),s.remove(this.canvas),s.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null,this.texture.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(v){this._tilePosition.x=v,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(v){this._tilePosition.y=v,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(v){this._tileScale.x=v,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(v){this._tileScale.y=v,this.dirty=!0}}});c.exports=u},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(19),h=t(12),i=t(90),r=t(20),n=t(14),e=t(59),l=t(196),a=t(997),o=t(13),u=new s({Extends:n,Mixins:[h.Alpha,h.BlendMode,h.Depth,h.Flip,h.GetBounds,h.Mask,h.Origin,h.Pipeline,h.ScrollFactor,h.Size,h.TextureCrop,h.Tint,h.Transform,h.Visible,a],initialize:function(d,p,x,g){n.call(this,d,"Video"),this.video=null,this.videoTexture=null,this.videoTextureSource=null,this.snapshotTexture=null,this.flipY=!1,this._key=l(),this.touchLocked=!0,this.playWhenUnlocked=!1,this.retryLimit=20,this.retry=0,this.retryInterval=500,this._retryID=null,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={play:this.playHandler.bind(this),error:this.loadErrorHandler.bind(this),end:this.completeHandler.bind(this),time:this.timeUpdateHandler.bind(this),seeking:this.seekingHandler.bind(this),seeked:this.seekedHandler.bind(this)},this._crop=this.resetCropObject(),this.markers={},this._markerIn=-1,this._markerOut=o.MAX_SAFE_INTEGER,this._lastUpdate=0,this._cacheKey="",this._isSeeking=!1,this.removeVideoElementOnDestroy=!1,this.setPosition(p,x),this.initPipeline(),g&&this.changeSource(g,!1);var m=d.sys.game.events;m.on(r.PAUSE,this.globalPause,this),m.on(r.RESUME,this.globalResume,this);var y=d.sys.sound;y&&y.on(e.GLOBAL_MUTE,this.globalMute,this)},play:function(v,d,p){if(this.touchLocked&&this.playWhenUnlocked||this.isPlaying())return this;var x=this.video;if(!x)return console.warn("Video not loaded"),this;v===void 0&&(v=x.loop);var g=this.scene.sys.sound;g&&g.mute&&this.setMute(!0),isNaN(d)||(this._markerIn=d),!isNaN(p)&&p>d&&(this._markerOut=p),x.loop=v;var m=this._callbacks,y=x.play();return y!==void 0?y.then(this.playPromiseSuccessHandler.bind(this)).catch(this.playPromiseErrorHandler.bind(this)):(x.addEventListener("playing",m.play,!0),x.readyState<2&&(this.retry=this.retryLimit,this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval))),x.addEventListener("ended",m.end,!0),x.addEventListener("timeupdate",m.time,!0),x.addEventListener("seeking",m.seeking,!0),x.addEventListener("seeked",m.seeked,!0),this},changeSource:function(v,d,p,x,g){d===void 0&&(d=!0);var m=this.video;m&&this.stop();var y=this.scene.sys.cache.video.get(v);return y?(this.video=y,this._cacheKey=v,this._codePaused=y.paused,this._codeMuted=y.muted,this.videoTexture?(this.scene.sys.textures.remove(this._key),this.videoTexture=this.scene.sys.textures.create(this._key,y,y.videoWidth,y.videoHeight),this.videoTextureSource=this.videoTexture.source[0],this.videoTexture.add("__BASE",0,0,0,y.videoWidth,y.videoHeight),this.setTexture(this.videoTexture),this.setSizeToFrame(),this.updateDisplayOrigin(),this.emit(i.VIDEO_CREATED,this,y.videoWidth,y.videoHeight)):this.updateTexture(),y.currentTime=0,this._lastUpdate=0,d&&this.play(p,x,g)):this.video=null,this},addMarker:function(v,d,p){return!isNaN(d)&&d>=0&&!isNaN(p)&&(this.markers[v]=[d,p]),this},playMarker:function(v,d){var p=this.markers[v];return p&&this.play(d,p[0],p[1]),this},removeMarker:function(v){return delete this.markers[v],this},snapshot:function(v,d){return v===void 0&&(v=this.width),d===void 0&&(d=this.height),this.snapshotArea(0,0,this.width,this.height,v,d)},snapshotArea:function(v,d,p,x,g,m){v===void 0&&(v=0),d===void 0&&(d=0),p===void 0&&(p=this.width),x===void 0&&(x=this.height),g===void 0&&(g=p),m===void 0&&(m=x);var y=this.video,T=this.snapshotTexture;return T?(T.setSize(g,m),y&&T.context.drawImage(y,v,d,p,x,0,0,g,m)):(T=this.scene.sys.textures.createCanvas(l(),g,m),this.snapshotTexture=T,y&&T.context.drawImage(y,v,d,p,x,0,0,g,m)),T.update()},saveSnapshotTexture:function(v){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,v):this.snapshotTexture=this.scene.sys.textures.createCanvas(v,this.width,this.height),this.snapshotTexture},loadURL:function(v,d,p){p===void 0&&(p=!1),this.video&&this.stop(),this.videoTexture&&this.scene.sys.textures.remove(this._key);var x=document.createElement("video");return x.controls=!1,p&&(x.muted=!0,x.defaultMuted=!0,x.setAttribute("autoplay","autoplay")),x.setAttribute("playsinline","playsinline"),x.setAttribute("preload","auto"),x.addEventListener("error",this._callbacks.error,!0),x.src=v,x.load(),this.video=x,this},playPromiseSuccessHandler:function(){this.touchLocked=!1,this.emit(i.VIDEO_PLAY,this),this._markerIn>-1&&(this.video.currentTime=this._markerIn)},playPromiseErrorHandler:function(v){this.scene.sys.input.once("pointerdown",this.unlockHandler,this),this.touchLocked=!0,this.playWhenUnlocked=!0,this.emit(i.VIDEO_ERROR,this,v)},playHandler:function(){this.touchLocked=!1,this.emit(i.VIDEO_PLAY,this),this.video.removeEventListener("playing",this._callbacks.play,!0)},loadErrorHandler:function(v){this.stop(),this.emit(i.VIDEO_ERROR,this,v)},unlockHandler:function(){this.touchLocked=!1,this.playWhenUnlocked=!1,this.emit(i.VIDEO_UNLOCKED,this),this._markerIn>-1&&(this.video.currentTime=this._markerIn),this.video.play(),this.emit(i.VIDEO_PLAY,this)},completeHandler:function(){this.emit(i.VIDEO_COMPLETE,this)},timeUpdateHandler:function(){this.video&&this.video.currentTime<this._lastUpdate&&(this.emit(i.VIDEO_LOOP,this),this._lastUpdate=0)},preUpdate:function(){var v=this.video;if(v){var d=v.currentTime;d!==this._lastUpdate&&(this._lastUpdate=d,this.updateTexture(),d>=this._markerOut&&(v.loop?(v.currentTime=this._markerIn,this.updateTexture(),this._lastUpdate=d,this.emit(i.VIDEO_LOOP,this)):(this.emit(i.VIDEO_COMPLETE,this),this.stop())))}},checkVideoProgress:function(){this.video.readyState>=2?this.updateTexture():(this.retry--,this.retry>0?this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval):this.emit(i.VIDEO_TIMEOUT,this))},updateTexture:function(){var v=this.video,d=v.videoWidth,p=v.videoHeight;if(!this.videoTexture)this.videoTexture=this.scene.sys.textures.create(this._key,v,d,p),this.videoTextureSource=this.videoTexture.source[0],this.videoTexture.add("__BASE",0,0,0,d,p),this.setTexture(this.videoTexture),this.setSizeToFrame(),this.updateDisplayOrigin(),this.emit(i.VIDEO_CREATED,this,d,p);else{var x=this.videoTextureSource;x.source!==v&&(x.source=v,x.width=d,x.height=p),x.update()}},getVideoKey:function(){return this._cacheKey},seekTo:function(v){var d=this.video;if(d){var p=d.duration;if(p!==1/0&&!isNaN(p)){var x=p*v;this.setCurrentTime(x)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(v){var d=this.video;if(d){if(typeof v=="string"){var p=v[0],x=parseFloat(v.substr(1));p==="+"?v=d.currentTime+x:p==="-"&&(v=d.currentTime-x)}d.currentTime=v,this._lastUpdate=v}return this},isSeeking:function(){return this._isSeeking},seekingHandler:function(){this._isSeeking=!0,this.emit(i.VIDEO_SEEKING,this)},seekedHandler:function(){this._isSeeking=!1,this.emit(i.VIDEO_SEEKED,this);var v=this.video;v&&this.updateTexture()},getProgress:function(){var v=this.video;if(v){var d=v.currentTime,p=v.duration;if(p!==1/0&&!isNaN(p))return d/p}return 0},getDuration:function(){return this.video?this.video.duration:0},setMute:function(v){v===void 0&&(v=!0),this._codeMuted=v;var d=this.video;return d&&(d.muted=this._systemMuted?!0:v),this},isMuted:function(){return this._codeMuted},globalMute:function(v,d){this._systemMuted=d;var p=this.video;p&&(p.muted=this._codeMuted?!0:d)},globalPause:function(){this._systemPaused=!0,this.video&&this.video.pause()},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&this.video.play()},setPaused:function(v){v===void 0&&(v=!0);var d=this.video;return this._codePaused=v,d&&(v?d.paused||d.pause():v||d.paused&&!this._systemPaused&&d.play()),this},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(v){return v===void 0&&(v=1),this.video&&(this.video.volume=f(v,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(v){return this.video&&(this.video.playbackRate=v),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(v){return v===void 0&&(v=!0),this.video&&(this.video.loop=v),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(v,d){return d===void 0&&(d=!1),this.videoTexture&&this.scene.sys.textures.renameTexture(this._key,v),this._key=v,this.flipY=d,this.videoTextureSource&&this.videoTextureSource.setFlipY(d),this.videoTexture},stop:function(){var v=this.video;if(v){var d=this._callbacks;for(var p in d)v.removeEventListener(p,d[p],!0);v.pause()}return this._retryID&&window.clearTimeout(this._retryID),this.emit(i.VIDEO_STOP,this),this},removeVideoElement:function(){var v=this.video;if(v){for(v.parentNode&&v.parentNode.removeChild(v);v.hasChildNodes();)v.removeChild(v.firstChild);v.removeAttribute("autoplay"),v.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(),this.removeVideoElementOnDestroy&&this.removeVideoElement();var v=this.scene.sys.game.events;v.off(r.PAUSE,this.globalPause,this),v.off(r.RESUME,this.globalResume,this);var d=this.scene.sys.sound;d&&d.off(e.GLOBAL_MUTE,this.globalMute,this),this._retryID&&window.clearTimeout(this._retryID)}});c.exports=u},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(202),h=t(419),i=t(47),r=new s({initialize:function(e){this.type=i.POLYGON,this.area=0,this.points=[],e&&this.setTo(e)},contains:function(n,e){return f(this,n,e)},setTo:function(n){if(this.area=0,this.points=[],typeof n=="string"&&(n=n.split(" ")),!Array.isArray(n))return this;for(var e,l=Number.MAX_VALUE,a=0;a<n.length;a++)e={x:0,y:0},typeof n[a]=="number"||typeof n[a]=="string"?(e.x=parseFloat(n[a]),e.y=parseFloat(n[a+1]),a++):Array.isArray(n[a])?(e.x=n[a][0],e.y=n[a][1]):(e.x=n[a].x,e.y=n[a].y),this.points.push(e),e.y<l&&(l=e.y);return this.calculateArea(l),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var n=0,e,l,a=0;a<this.points.length-1;a++)e=this.points[a],l=this.points[a+1],n+=(l.x-e.x)*(e.y+l.y);return e=this.points[0],l=this.points[this.points.length-1],n+=(e.x-l.x)*(l.y+e.y),this.area=-n*.5,this.area},getPoints:function(n,e,l){return h(this,n,e,l)}});c.exports=r},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){for(var i=!1,r=-1,n=s.points.length-1;++r<s.points.length;n=r){var e=s.points[r].x,l=s.points[r].y,a=s.points[n].x,o=s.points[n].y;(l<=h&&h<o||o<=h&&h<l)&&f<(a-e)*(h-l)/(o-l)+e&&(i=!i)}return i};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(134),h=new s({Extends:f,initialize:function(r,n,e,l,a){var o=[0,0,0,0,0,0,0,0,0,0,0,0],u=[0,0,0,1,1,1,0,0,1,1,1,0],v=[16777215,16777215,16777215,16777215,16777215,16777215],d=[1,1,1,1,1,1];f.call(this,r,n,e,o,u,v,d,l,a),this.resetPosition()},setFrame:function(i){return this.frame=this.texture.get(i),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=-9:this.renderFlags|=8,i=this.frame,this.uv[0]=i.u0,this.uv[1]=i.v0,this.uv[2]=i.u0,this.uv[3]=i.v1,this.uv[4]=i.u1,this.uv[5]=i.v1,this.uv[6]=i.u0,this.uv[7]=i.v0,this.uv[8]=i.u1,this.uv[9]=i.v1,this.uv[10]=i.u1,this.uv[11]=i.v0,this},topLeftX:{get:function(){return this.x+this.vertices[0]},set:function(i){this.vertices[0]=i-this.x,this.vertices[6]=i-this.x}},topLeftY:{get:function(){return this.y+this.vertices[1]},set:function(i){this.vertices[1]=i-this.y,this.vertices[7]=i-this.y}},topRightX:{get:function(){return this.x+this.vertices[10]},set:function(i){this.vertices[10]=i-this.x}},topRightY:{get:function(){return this.y+this.vertices[11]},set:function(i){this.vertices[11]=i-this.y}},bottomLeftX:{get:function(){return this.x+this.vertices[2]},set:function(i){this.vertices[2]=i-this.x}},bottomLeftY:{get:function(){return this.y+this.vertices[3]},set:function(i){this.vertices[3]=i-this.y}},bottomRightX:{get:function(){return this.x+this.vertices[4]},set:function(i){this.vertices[4]=i-this.x,this.vertices[8]=i-this.x}},bottomRightY:{get:function(){return this.y+this.vertices[5]},set:function(i){this.vertices[5]=i-this.y,this.vertices[9]=i-this.y}},topLeftAlpha:{get:function(){return this.alphas[0]},set:function(i){this.alphas[0]=i,this.alphas[3]=i}},topRightAlpha:{get:function(){return this.alphas[5]},set:function(i){this.alphas[5]=i}},bottomLeftAlpha:{get:function(){return this.alphas[1]},set:function(i){this.alphas[1]=i}},bottomRightAlpha:{get:function(){return this.alphas[2]},set:function(i){this.alphas[2]=i,this.alphas[4]=i}},topLeftColor:{get:function(){return this.colors[0]},set:function(i){this.colors[0]=i,this.colors[3]=i}},topRightColor:{get:function(){return this.colors[5]},set:function(i){this.colors[5]=i}},bottomLeftColor:{get:function(){return this.colors[1]},set:function(i){this.colors[1]=i}},bottomRightColor:{get:function(){return this.colors[2]},set:function(i){this.colors[2]=i,this.colors[4]=i}},setTopLeft:function(i,r){return this.topLeftX=i,this.topLeftY=r,this},setTopRight:function(i,r){return this.topRightX=i,this.topRightY=r,this},setBottomLeft:function(i,r){return this.bottomLeftX=i,this.bottomLeftY=r,this},setBottomRight:function(i,r){return this.bottomRightX=i,this.bottomRightY=r,this},resetPosition:function(){var i=this.x,r=this.y,n=Math.floor(this.width/2),e=Math.floor(this.height/2);return this.setTopLeft(i-n,r-e),this.setTopRight(i+n,r-e),this.setBottomLeft(i-n,r+e),this.setBottomRight(i+n,r+e),this},resetAlpha:function(){var i=this.alphas;return i[0]=1,i[1]=1,i[2]=1,i[3]=1,i[4]=1,i[5]=1,this},resetColors:function(){var i=this.colors;return i[0]=16777215,i[1]=16777215,i[2]=16777215,i[3]=16777215,i[4]=16777215,i[5]=16777215,this},reset:function(){return this.resetPosition(),this.resetAlpha(),this.resetColors()}});c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(12),h=t(14),i=t(2),r=t(18),n=t(427),e=t(1080),l=t(29),a=new s({Extends:h,Mixins:[f.ComputedSize,f.Depth,f.GetBounds,f.Mask,f.Origin,f.ScrollFactor,f.Transform,f.Visible,e],initialize:function(u,v,d,p,x,g,m,y){d===void 0&&(d=0),p===void 0&&(p=0),x===void 0&&(x=128),g===void 0&&(g=128),h.call(this,u,"Shader"),this.blendMode=-1,this.shader;var T=u.sys.renderer;this.renderer=T,this.gl=T.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=T.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new l,this._tempMatrix2=new l,this._tempMatrix3=new l,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=T.width,this._rendererHeight=T.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(d,p),this.setSize(x,g),this.setOrigin(.5,.5),this.setShader(v,m,y)},willRender:function(o){return this.renderToTexture?!0:!(h.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&o.id)},setRenderToTexture:function(o,u){if(u===void 0&&(u=!1),!this.renderToTexture){var v=this.width,d=this.height,p=this.renderer;this.glTexture=p.createTextureFromSource(null,v,d,0),this.glTexture.flipY=u,this.framebuffer=p.createFramebuffer(v,d,this.glTexture,!1),this._rendererWidth=v,this._rendererHeight=d,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),o&&(this.texture=this.scene.sys.textures.addGLTexture(o,this.glTexture,v,d))}if(this.shader){var x=p.currentPipeline;p.clearPipeline(),this.load(),this.flush(),p.rebindPipeline(x)}return this},setShader:function(o,u,v){if(u===void 0&&(u=[]),typeof o=="string"){var d=this.scene.sys.cache.shader;if(!d.has(o))return console.warn("Shader missing: "+o),this;this.shader=d.get(o)}else this.shader=o;var p=this.gl,x=this.renderer;this.program&&p.deleteProgram(this.program);var g=x.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);x.setMatrix4(g,"uViewMatrix",!1,this.viewMatrix),x.setMatrix4(g,"uProjectionMatrix",!1,this.projectionMatrix),x.setFloat2(g,"uResolution",this.width,this.height),this.program=g;var m=new Date,y={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[m.getFullYear(),m.getMonth(),m.getDate(),m.getHours()*60*60+m.getMinutes()*60+m.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=r(!0,{},this.shader.uniforms,y):this.uniforms=y;for(var T=0;T<4;T++)u[T]&&this.setSampler2D("iChannel"+T,u[T],T,v);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(o){return this.pointer=o,this},projOrtho:function(o,u,v,d){var p=-1e3,x=1e3,g=1/(o-u),m=1/(v-d),y=1/(p-x),T=this.projectionMatrix;T[0]=-2*g,T[5]=-2*m,T[10]=2*y,T[12]=(o+u)*g,T[13]=(d+v)*m,T[14]=(x+p)*y;var S=this.program;this.renderer.setMatrix4(S,"uProjectionMatrix",!1,this.projectionMatrix),this._rendererWidth=u,this._rendererHeight=v},initUniforms:function(){var o=this.gl,u=this.renderer.glFuncMap,v=this.program;this._textureCount=0;for(var d in this.uniforms){var p=this.uniforms[d],x=p.type,g=u[x];p.uniformLocation=o.getUniformLocation(v,d),x!=="sampler2D"&&(p.glMatrix=g.matrix,p.glValueLength=g.length,p.glFunc=g.func)}},setSampler2DBuffer:function(o,u,v,d,p,x){p===void 0&&(p=0),x===void 0&&(x={});var g=this.uniforms[o];return g.value=u,x.width=v,x.height=d,g.textureData=x,this._textureCount=p,this.initSampler2D(g),this},setSampler2D:function(o,u,v,d){v===void 0&&(v=0);var p=this.scene.sys.textures;if(p.exists(u)){var x=p.getFrame(u),g=this.uniforms[o],m=x.source;g.textureKey=u,g.source=m.image,g.value=x.glTexture,m.isGLTexture&&(d||(d={}),d.width=m.width,d.height=m.height),d&&(g.textureData=d),this._textureCount=v,this.initSampler2D(g)}return this},setUniform:function(o,u){return n(this.uniforms,o,u),this},getUniform:function(o){return i(this.uniforms,o,null)},setChannel0:function(o,u){return this.setSampler2D("iChannel0",o,0,u)},setChannel1:function(o,u){return this.setSampler2D("iChannel1",o,1,u)},setChannel2:function(o,u){return this.setSampler2D("iChannel2",o,2,u)},setChannel3:function(o,u){return this.setSampler2D("iChannel3",o,3,u)},initSampler2D:function(o){if(o.value){var u=this.gl;u.activeTexture(u.TEXTURE0+this._textureCount),u.bindTexture(u.TEXTURE_2D,o.value);var v=o.textureData;if(v){var d=u[i(v,"magFilter","linear").toUpperCase()],p=u[i(v,"minFilter","linear").toUpperCase()],x=u[i(v,"wrapS","repeat").toUpperCase()],g=u[i(v,"wrapT","repeat").toUpperCase()],m=u[i(v,"format","rgba").toUpperCase()];if(v.repeat&&(x=u.REPEAT,g=u.REPEAT),u.pixelStorei(u.UNPACK_FLIP_Y_WEBGL,!!v.flipY),v.width){var y=i(v,"width",512),T=i(v,"height",2),S=i(v,"border",0);u.texImage2D(u.TEXTURE_2D,0,m,y,T,S,m,u.UNSIGNED_BYTE,null)}else u.texImage2D(u.TEXTURE_2D,0,m,u.RGBA,u.UNSIGNED_BYTE,o.source);u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,d),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,p),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,x),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,g)}this.renderer.setProgram(this.program),u.uniform1i(o.uniformLocation,this._textureCount),this._textureCount++}},syncUniforms:function(){var o=this.gl,u=this.uniforms,v,d,p,x,g,m=0;for(var y in u)v=u[y],p=v.glFunc,d=v.glValueLength,x=v.uniformLocation,g=v.value,g!==null&&(d===1?v.glMatrix?p.call(o,x,v.transpose,g):p.call(o,x,g):d===2?p.call(o,x,g.x,g.y):d===3?p.call(o,x,g.x,g.y,g.z):d===4?p.call(o,x,g.x,g.y,g.z,g.w):v.type==="sampler2D"&&(o.activeTexture(o["TEXTURE"+m]),o.bindTexture(o.TEXTURE_2D,g),o.uniform1i(x,m),m++))},load:function(o){var u=this.gl,v=this.width,d=this.height,p=this.renderer,x=this.program,g=this.viewMatrix;if(!this.renderToTexture){var m=-this._displayOriginX,y=-this._displayOriginY;g[0]=o[0],g[1]=o[1],g[4]=o[2],g[5]=o[3],g[8]=o[4],g[9]=o[5],g[12]=g[0]*m+g[4]*y,g[13]=g[1]*m+g[5]*y}u.useProgram(x),u.uniformMatrix4fv(u.getUniformLocation(x,"uViewMatrix"),!1,g),u.uniform2f(u.getUniformLocation(x,"uResolution"),this.width,this.height);var T=this.uniforms,S=T.resolution;S.value.x=v,S.value.y=d,T.time.value=p.game.loop.getDuration();var C=this.pointer;if(C){var P=T.mouse,A=C.x/v,M=1-C.y/d;P.value.x=A.toFixed(2),P.value.y=M.toFixed(2)}this.syncUniforms()},flush:function(){var o=this.width,u=this.height,v=this.program,d=this.gl,p=this.vertexBuffer,x=this.renderer,g=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(x.setFramebuffer(this.framebuffer),d.clearColor(0,0,0,0),d.clear(d.COLOR_BUFFER_BIT)),d.bindBuffer(d.ARRAY_BUFFER,p);var m=d.getAttribLocation(v,"inPosition");m!==-1&&(d.enableVertexAttribArray(m),d.vertexAttribPointer(m,2,d.FLOAT,!1,g,0));var y=this.vertexViewF32;y[3]=u,y[4]=o,y[5]=u,y[8]=o,y[9]=u,y[10]=o;var T=6;d.bufferSubData(d.ARRAY_BUFFER,0,this.bytes.subarray(0,T*g)),d.drawArrays(d.TRIANGLES,0,T),this.renderToTexture&&x.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},preDestroy:function(){var o=this.gl;o.deleteProgram(this.program),o.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(this.renderer.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null)}});c.exports=a},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(53),f=function(h,i){return s(h.x,h.y,i.x,i.y)<=h.radius+i.radius};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){var h=f.width/2,i=f.height/2,r=Math.abs(s.x-f.x-h),n=Math.abs(s.y-f.y-i),e=h+s.radius,l=i+s.radius;if(r>e||n>l)return!1;if(r<=h||n<=i)return!0;var a=r-h,o=n-i,u=a*a,v=o*o,d=s.radius*s.radius;return u+v<=d};c.exports=t},function(c,E,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(4),f=t(208),h=function(i,r,n){if(n===void 0&&(n=[]),f(i,r)){var e=i.x1,l=i.y1,a=i.x2,o=i.y2,u=r.x,v=r.y,d=r.radius,p=a-e,x=o-l,g=e-u,m=l-v,y=p*p+x*x,T=2*(p*g+x*m),S=g*g+m*m-d*d,C=T*T-4*y*S,P,A;if(C===0){var M=-T/(2*y);P=e+M*p,A=l+M*x,M>=0&&M<=1&&n.push(new s(P,A))}else if(C>0){var O=(-T-Math.sqrt(C))/(2*y);P=e+O*p,A=l+O*x,O>=0&&O<=1&&n.push(new s(P,A));var I=(-T+Math.sqrt(C))/(2*y);P=e+I*p,A=l+I*x,I>=0&&I<=1&&n.push(new s(P,A))}}return n};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(55),f=t(4),h=new f,i=function(r,n,e){if(e===void 0&&(e=h),s(n,r.x1,r.y1))return e.x=r.x1,e.y=r.y1,!0;if(s(n,r.x2,r.y2))return e.x=r.x2,e.y=r.y2,!0;var l=r.x2-r.x1,a=r.y2-r.y1,o=n.x-r.x1,u=n.y-r.y1,v=l*l+a*a,d=l,p=a;if(v>0){var x=(o*l+u*a)/v;d*=x,p*=x}e.x=r.x1+d,e.y=r.y1+p;var g=d*d+p*p;return g<=v&&d*l+p*a>=0&&s(n,e.x,e.y)};c.exports=i},function(c,E,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(4),f=t(84),h=t(432),i=function(r,n,e){if(e===void 0&&(e=[]),h(r,n))for(var l=n.getLineA(),a=n.getLineB(),o=n.getLineC(),u=n.getLineD(),v=[new s,new s,new s,new s],d=[f(l,r,v[0]),f(a,r,v[1]),f(o,r,v[2]),f(u,r,v[3])],p=0;p<4;p++)d[p]&&e.push(v[p]);return e};c.exports=i},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i){h===void 0&&(h=!1),i===void 0&&(i=[]);for(var r=s.x3-s.x1,n=s.y3-s.y1,e=s.x2-s.x1,l=s.y2-s.y1,a=r*r+n*n,o=r*e+n*l,u=e*e+l*l,v=a*u-o*o,d=v===0?0:1/v,p,x,g,m,y,T,S=s.x1,C=s.y1,P=0;P<f.length&&(g=f[P].x-S,m=f[P].y-C,y=r*g+n*m,T=e*g+l*m,p=(u*y-o*T)*d,x=(a*T-o*y)*d,!(p>=0&&x>=0&&p+x<1&&(i.push({x:f[P].x,y:f[P].y}),h)));P++);return i};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i){var r=Math.cos(i),n=Math.sin(i),e=s.x1-f,l=s.y1-h;return s.x1=e*r-l*n+f,s.y1=e*n+l*r+h,e=s.x2-f,l=s.y2-h,s.x2=e*r-l*n+f,s.y2=e*n+l*r+h,s};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return s.height===0?NaN:s.width/s.height};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i){var r=Math.cos(i),n=Math.sin(i),e=s.x1-f,l=s.y1-h;return s.x1=e*r-l*n+f,s.y1=e*n+l*r+h,e=s.x2-f,l=s.y2-h,s.x2=e*r-l*n+f,s.y2=e*n+l*r+h,e=s.x3-f,l=s.y3-h,s.x3=e*r-l*n+f,s.y3=e*n+l*r+h,s};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BUTTON_DOWN:t(1203),BUTTON_UP:t(1204),CONNECTED:t(1205),DISCONNECTED:t(1206),GAMEPAD_BUTTON_DOWN:t(1207),GAMEPAD_BUTTON_UP:t(1208)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(18),f=t(139),h=function(i,r){var n=i===void 0?f():s({},i);if(r)for(var e in r)r[e]!==void 0&&(n[e]=r[e]);return n};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(17),h=t(21),i=t(8),r=t(2),n=t(7),e=t(364),l=new s({Extends:h,initialize:function(o,u,v,d){var p="xml";if(n(u)){var x=u;u=r(x,"key"),v=r(x,"url"),d=r(x,"xhrSettings"),p=r(x,"extension",p)}var g={type:"xml",cache:o.cacheManager.xml,extension:p,responseType:"text",key:u,url:v,xhrSettings:d};h.call(this,o,g)},onProcess:function(){this.state=f.FILE_PROCESSING,this.data=e(this.xhrLoader.responseText),this.data?this.onProcessComplete():(console.warn("Invalid XMLFile: "+this.key),this.onProcessError())}});i.register("xml",function(a,o,u){if(Array.isArray(a))for(var v=0;v<a.length;v++)this.addFile(new l(this,a[v]));else this.addFile(new l(this,a,o,u));return this}),c.exports=l},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Acceleration:t(1263),Angular:t(1264),Bounce:t(1265),Debug:t(1266),Drag:t(1267),Enable:t(1268),Friction:t(1269),Gravity:t(1270),Immovable:t(1271),Mass:t(1272),Size:t(1273),Velocity:t(1274)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={COLLIDE:t(1276),OVERLAP:t(1277),PAUSE:t(1278),RESUME:t(1279),TILE_COLLIDE:t(1280),TILE_OVERLAP:t(1281),WORLD_BOUNDS:t(1282),WORLD_STEP:t(1283)}},function(c,E,t){var s={};c.exports=s;var f=t(86),h=t(99),i=t(239),r=t(100),n=t(513),e=t(42);(function(){s._warming=.4,s._torqueDampen=1,s._minLength=1e-6,s.create=function(l){var a=l;a.bodyA&&!a.pointA&&(a.pointA={x:0,y:0}),a.bodyB&&!a.pointB&&(a.pointB={x:0,y:0});var o=a.bodyA?h.add(a.bodyA.position,a.pointA):a.pointA,u=a.bodyB?h.add(a.bodyB.position,a.pointB):a.pointB,v=h.magnitude(h.sub(o,u));a.length=typeof a.length<"u"?a.length:v,a.id=a.id||e.nextId(),a.label=a.label||"Constraint",a.type="constraint",a.stiffness=a.stiffness||(a.length>0?1:.7),a.damping=a.damping||0,a.angularStiffness=a.angularStiffness||0,a.angleA=a.bodyA?a.bodyA.angle:a.angleA,a.angleB=a.bodyB?a.bodyB.angle:a.angleB,a.plugin={};var d={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return a.length===0&&a.stiffness>.1?(d.type="pin",d.anchors=!1):a.stiffness<.9&&(d.type="spring"),a.render=e.extend(d,a.render),a},s.preSolveAll=function(l){for(var a=0;a<l.length;a+=1){var o=l[a],u=o.constraintImpulse;o.isStatic||u.x===0&&u.y===0&&u.angle===0||(o.position.x+=u.x,o.position.y+=u.y,o.angle+=u.angle)}},s.solveAll=function(l,a){for(var o=0;o<l.length;o+=1){var u=l[o],v=!u.bodyA||u.bodyA&&u.bodyA.isStatic,d=!u.bodyB||u.bodyB&&u.bodyB.isStatic;(v||d)&&s.solve(l[o],a)}for(o=0;o<l.length;o+=1)u=l[o],v=!u.bodyA||u.bodyA&&u.bodyA.isStatic,d=!u.bodyB||u.bodyB&&u.bodyB.isStatic,!v&&!d&&s.solve(l[o],a)},s.solve=function(l,a){var o=l.bodyA,u=l.bodyB,v=l.pointA,d=l.pointB;if(!(!o&&!u)){o&&!o.isStatic&&(h.rotate(v,o.angle-l.angleA,v),l.angleA=o.angle),u&&!u.isStatic&&(h.rotate(d,u.angle-l.angleB,d),l.angleB=u.angle);var p=v,x=d;if(o&&(p=h.add(o.position,v)),u&&(x=h.add(u.position,d)),!(!p||!x)){var g=h.sub(p,x),m=h.magnitude(g);m<s._minLength&&(m=s._minLength);var y=(m-l.length)/m,T=l.stiffness<1?l.stiffness*a:l.stiffness,S=h.mult(g,y*T),C=(o?o.inverseMass:0)+(u?u.inverseMass:0),P=(o?o.inverseInertia:0)+(u?u.inverseInertia:0),A=C+P,M,O,I,B,G;if(l.damping){var z=h.create();I=h.div(g,m),G=h.sub(u&&h.sub(u.position,u.positionPrev)||z,o&&h.sub(o.position,o.positionPrev)||z),B=h.dot(I,G)}o&&!o.isStatic&&(O=o.inverseMass/C,o.constraintImpulse.x-=S.x*O,o.constraintImpulse.y-=S.y*O,o.position.x-=S.x*O,o.position.y-=S.y*O,l.damping&&(o.positionPrev.x-=l.damping*I.x*B*O,o.positionPrev.y-=l.damping*I.y*B*O),M=h.cross(v,S)/A*s._torqueDampen*o.inverseInertia*(1-l.angularStiffness),o.constraintImpulse.angle-=M,o.angle-=M),u&&!u.isStatic&&(O=u.inverseMass/C,u.constraintImpulse.x+=S.x*O,u.constraintImpulse.y+=S.y*O,u.position.x+=S.x*O,u.position.y+=S.y*O,l.damping&&(u.positionPrev.x+=l.damping*I.x*B*O,u.positionPrev.y+=l.damping*I.y*B*O),M=h.cross(d,S)/A*s._torqueDampen*u.inverseInertia*(1-l.angularStiffness),u.constraintImpulse.angle+=M,u.angle+=M)}}},s.postSolveAll=function(l){for(var a=0;a<l.length;a++){var o=l[a],u=o.constraintImpulse;if(!(o.isStatic||u.x===0&&u.y===0&&u.angle===0)){i.set(o,!1);for(var v=0;v<o.parts.length;v++){var d=o.parts[v];f.translate(d.vertices,u),v>0&&(d.position.x+=u.x,d.position.y+=u.y),u.angle!==0&&(f.rotate(d.vertices,u.angle,o.position),n.rotate(d.axes,u.angle),v>0&&h.rotateAbout(d.position,u.angle,o.position,d.position)),r.update(d.bounds,d.vertices,o.velocity)}u.angle*=s._warming,u.x*=s._warming,u.y*=s._warming}}},s.pointAWorld=function(l){return{x:(l.bodyA?l.bodyA.position.x:0)+l.pointA.x,y:(l.bodyA?l.bodyA.position.y:0)+l.pointA.y}},s.pointBWorld=function(l){return{x:(l.bodyB?l.bodyB.position.x:0)+l.pointB.x,y:(l.bodyB?l.bodyB.position.y:0)+l.pointB.y}}})()},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(142),f=function(h,i,r){var n=s(h,i,!0,r),e=s(h,i-1,!0,r),l=s(h,i+1,!0,r),a=s(h-1,i,!0,r),o=s(h+1,i,!0,r),u=n&&n.collides;return u&&(n.faceTop=!0,n.faceBottom=!0,n.faceLeft=!0,n.faceRight=!0),e&&e.collides&&(u&&(n.faceTop=!1),e.faceBottom=!u),l&&l.collides&&(u&&(n.faceBottom=!1),l.faceTop=!u),a&&a.collides&&(u&&(n.faceLeft=!1),a.faceRight=!u),o&&o.collides&&(u&&(n.faceRight=!1),o.faceLeft=!u),n&&!n.collides&&n.resetFaces(),n};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(74),f=t(101),h=t(220),i=t(73),r=function(n,e,l,a,o){if(!f(e,l,o))return null;a===void 0&&(a=!0);var u=o.data[l][e],v=u&&u.collides;if(n instanceof s)o.data[l][e]===null&&(o.data[l][e]=new s(o,n.index,e,l,n.width,n.height)),o.data[l][e].copy(n);else{var d=n;o.data[l][e]===null?o.data[l][e]=new s(o,d,e,l,o.tileWidth,o.tileHeight):o.data[l][e].index=d}var p=o.data[l][e],x=o.collideIndexes.indexOf(p.index)!==-1;return i(p,x),a&&v!==p.collides&&h(e,l,o),p};c.exports=r},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){var i=h.collideIndexes.indexOf(s);f&&i===-1?h.collideIndexes.push(s):!f&&i!==-1&&h.collideIndexes.splice(i,1)};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(32),f=t(102),h=t(103),i=t(74),r=function(n,e,l,a,o){for(var u=new f({tileWidth:l,tileHeight:a}),v=new h({name:n,tileWidth:l,tileHeight:a,format:s.ARRAY_2D,layers:[u]}),d=[],p=e.length,x=0,g=0;g<e.length;g++){d[g]=[];for(var m=e[g],y=0;y<m.length;y++){var T=parseInt(m[y],10);isNaN(T)||T===-1?d[g][y]=o?null:new i(u,-1,y,g,l,a):d[g][y]=new i(u,T,y,g,l,a)}x===0&&(x=m.length)}return v.width=u.width=x,v.height=u.height=p,v.widthInPixels=u.widthInPixels=x*l,v.heightInPixels=u.heightInPixels=p*a,u.data=d,v};c.exports=r},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=2147483648,s=1073741824,f=536870912,h=function(i){var r=!!(i&t),n=!!(i&s),e=!!(i&f);i=i&~(t|s|f);var l=0,a=!1;return r&&n&&e?(l=Math.PI/2,a=!0):r&&n&&!e?(l=Math.PI,a=!1):r&&!n&&e?(l=Math.PI/2,a=!1):r&&!n&&!e?(l=0,a=!0):!r&&n&&e?(l=3*Math.PI/2,a=!1):!r&&n&&!e?(l=Math.PI,a=!0):!r&&!n&&e?(l=3*Math.PI/2,a=!0):!r&&!n&&!e&&(l=0,a=!1),{gid:i,flippedHorizontal:r,flippedVertical:n,flippedAntiDiagonal:e,rotation:l,flipped:a}};c.exports=h},function(c,E,t){/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(2),f=function(h,i,r){if(!i)return{i:0,layers:h.layers,name:"",opacity:1,visible:!0,x:0,y:0};var n=i.x+s(i,"startx",0)*h.tilewidth+s(i,"offsetx",0),e=i.y+s(i,"starty",0)*h.tileheight+s(i,"offsety",0);return{i:0,layers:i.layers,name:r.name+i.name+"/",opacity:r.opacity*i.opacity,visible:r.visible&&i.visible,x:r.x+n,y:r.y+e}};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(486),f=t(224),h=function(n){return{x:n.x,y:n.y}},i=["id","name","type","rotation","properties","visible","x","y","width","height"],r=function(n,e,l){e===void 0&&(e=0),l===void 0&&(l=0);var a=s(n,i);if(a.x+=e,a.y+=l,n.gid){var o=f(n.gid);a.gid=o.gid,a.flippedHorizontal=o.flippedHorizontal,a.flippedVertical=o.flippedVertical,a.flippedAntiDiagonal=o.flippedAntiDiagonal}else n.polyline?a.polyline=n.polyline.map(h):n.polygon?a.polygon=n.polygon.map(h):n.ellipse?a.ellipse=n.ellipse:n.text?a.text=n.text:n.point?a.point=!0:a.rectangle=!0;return a};c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(32),f=t(103),h=t(478),i=t(494),r=function(n,e,l,a,o,u,v,d){l===void 0&&(l=32),a===void 0&&(a=32),o===void 0&&(o=10),u===void 0&&(u=10),d===void 0&&(d=!1);var p=null;if(Array.isArray(v)){var x=e!==void 0?e:"map";p=h(x,s.ARRAY_2D,v,l,a,d)}else if(e!==void 0){var g=n.cache.tilemap.get(e);g?p=h(e,g.format,g.data,l,a,d):console.warn("No map data found for key "+e)}return p===null&&(p=new f({tileWidth:l,tileHeight:a,width:o,height:u})),new i(n,p)};c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(6),f=function(h){var i=s(h,"targets",null);return i===null||(typeof i=="function"&&(i=i.call()),Array.isArray(i)||(i=[i])),i};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(r){return!!r.getActive&&typeof r.getActive=="function"}function s(r){return!!r.getStart&&typeof r.getStart=="function"}function f(r){return!!r.getEnd&&typeof r.getEnd=="function"}function h(r){return s(r)||f(r)||t(r)}var i=function(r,n){var e,l=function(T,S,C){return C},a=function(T,S,C){return C},o=null,u=typeof n;if(u==="number")l=function(){return n};else if(u==="string"){var v=n[0],d=parseFloat(n.substr(2));switch(v){case"+":l=function(T,S,C){return C+d};break;case"-":l=function(T,S,C){return C-d};break;case"*":l=function(T,S,C){return C*d};break;case"/":l=function(T,S,C){return C/d};break;default:l=function(){return parseFloat(n)}}}else if(u==="function")l=n;else if(u==="object")if(h(n))t(n)&&(o=n.getActive),f(n)&&(l=n.getEnd),s(n)&&(a=n.getStart);else if(n.hasOwnProperty("value"))e=i(r,n.value);else{var p=n.hasOwnProperty("to"),x=n.hasOwnProperty("from"),g=n.hasOwnProperty("start");if(p&&(x||g)){if(e=i(r,n.to),g){var m=i(r,n.start);e.getActive=m.getEnd}if(x){var y=i(r,n.from);e.getStart=y.getEnd}}}return e||(e={getActive:o,getEnd:l,getStart:a}),e};c.exports=i},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(10),h=t(232),i=t(16),r=t(5),n=t(89),e=t(13),l=new s({Extends:f,initialize:function(o,u,v){f.call(this),this.parent=o,this.parentIsTimeline=o.hasOwnProperty("isTimeline"),this.data=u,this.totalData=u.length,this.targets=v,this.totalTargets=v.length,this.useFrames=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.startDelay=0,this.hasStarted=!1,this.isSeeking=!1,this.completeDelay=0,this.countdown=0,this.offset=0,this.calculatedOffset=0,this.state=n.PENDING_ADD,this._pausedState=n.INIT,this.paused=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.callbacks={onActive:null,onComplete:null,onLoop:null,onRepeat:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope},getValue:function(a){return a===void 0&&(a=0),this.data[a].current},setTimeScale:function(a){return this.timeScale=a,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return this.state===n.ACTIVE},isPaused:function(){return this.state===n.PAUSED},hasTarget:function(a){return this.targets.indexOf(a)!==-1},updateTo:function(a,o,u){u===void 0&&(u=!1);for(var v=0;v<this.totalData;v++){var d=this.data[v];d.key===a&&(d.end=o,u&&(d.start=d.current))}return this},restart:function(){return this.elapsed=0,this.progress=0,this.totalElapsed=0,this.totalProgress=0,this.state===n.ACTIVE?this.seek(0):this.state===n.REMOVED?(this.seek(0),this.parent.makeActive(this),this):this.state===n.PENDING_ADD?this:this.play()},calcDuration:function(){for(var a=0,o=e.MAX_SAFE_INTEGER,u=this.data,v=0;v<this.totalData;v++){var d=u[v];d.t1=d.duration+d.hold,d.yoyo&&(d.t1+=d.duration),d.t2=d.t1+d.repeatDelay,d.totalDuration=d.delay+d.t1,d.repeat===-1?d.totalDuration+=d.t2*999999999999:d.repeat>0&&(d.totalDuration+=d.t2*d.repeat),d.totalDuration>a&&(a=d.totalDuration),d.delay<o&&(o=d.delay)}this.duration=Math.max(a,.001),this.loopCounter=this.loop===-1?999999999999:this.loop,this.loopCounter>0?this.totalDuration=this.duration+this.completeDelay+(this.duration+this.loopDelay)*this.loopCounter:this.totalDuration=this.duration+this.completeDelay,this.startDelay=o},init:function(){if(this.paused&&!this.parentIsTimeline)return this.state=n.PENDING_ADD,this._pausedState=n.INIT,!1;for(var a=this.data,o=this.totalTargets,u=0;u<this.totalData;u++){var v=a[u],d=v.target,p=v.gen,x=v.key,g=v.index;v.delay=p.delay(d,x,0,g,o,this),v.duration=Math.max(p.duration(d,x,0,g,o,this),.001),v.hold=p.hold(d,x,0,g,o,this),v.repeat=p.repeat(d,x,0,g,o,this),v.repeatDelay=p.repeatDelay(d,x,0,g,o,this)}return this.calcDuration(),this.progress=0,this.totalProgress=0,this.elapsed=0,this.totalElapsed=0,this.state=n.INIT,!0},makeActive:function(){this.parent.makeActive(this),this.dispatchTweenEvent(h.TWEEN_ACTIVE,this.callbacks.onActive)},nextState:function(){this.loopCounter>0?(this.elapsed=0,this.progress=0,this.loopCounter--,this.resetTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.state=n.LOOP_DELAY):(this.state=n.ACTIVE,this.dispatchTweenEvent(h.TWEEN_LOOP,this.callbacks.onLoop))):this.completeDelay>0?(this.state=n.COMPLETE_DELAY,this.countdown=this.completeDelay):(this.state=n.PENDING_REMOVE,this.dispatchTweenEvent(h.TWEEN_COMPLETE,this.callbacks.onComplete))},pause:function(){return this.state===n.PAUSED?this:(this.paused=!0,this._pausedState=this.state,this.state=n.PAUSED,this)},play:function(a){a===void 0&&(a=!1);var o=this.state;return o===n.INIT&&!this.parentIsTimeline?(this.resetTweenData(!1),this.state=n.ACTIVE,this):o===n.ACTIVE||o===n.PENDING_ADD&&this._pausedState===n.PENDING_ADD?this:!this.parentIsTimeline&&(o===n.PENDING_REMOVE||o===n.REMOVED)?(this.seek(0),this.parent.makeActive(this),this):(this.parentIsTimeline?(this.resetTweenData(a),this.calculatedOffset===0?this.state=n.ACTIVE:(this.countdown=this.calculatedOffset,this.state=n.OFFSET_DELAY)):this.paused?(this.paused=!1,this.makeActive()):(this.resetTweenData(a),this.state=n.ACTIVE,this.makeActive()),this)},resetTweenData:function(a){for(var o=this.data,u=this.totalData,v=this.totalTargets,d=0;d<u;d++){var p=o[d],x=p.target,g=p.key,m=p.index;p.progress=0,p.elapsed=0,p.repeatCounter=p.repeat===-1?999999999999:p.repeat,a?(p.start=p.getStartValue(x,g,p.start,m,v,this),p.end=p.getEndValue(x,g,p.end,m,v,this),p.current=p.start,p.state=n.PLAYING_FORWARD):p.state=n.PENDING_RENDER,p.delay>0&&(p.elapsed=p.delay,p.state=n.DELAY),p.getActiveValue&&(x[g]=p.getActiveValue(p.target,p.key,p.start))}},resume:function(){return this.state===n.PAUSED?(this.paused=!1,this.state=this._pausedState):this.play(),this},seek:function(a,o){if(o===void 0&&(o=16.6),this.totalDuration>=36e5)return console.warn("Tween.seek duration too long"),this;this.state===n.REMOVED&&this.makeActive(),this.elapsed=0,this.progress=0,this.totalElapsed=0,this.totalProgress=0;for(var u=this.data,v=this.totalTargets,d=0;d<this.totalData;d++){var p=u[d],x=p.target,g=p.gen,m=p.key,y=p.index;p.progress=0,p.elapsed=0,p.repeatCounter=p.repeat===-1?999999999999:p.repeat,p.delay=g.delay(x,m,0,y,v,this),p.duration=Math.max(g.duration(x,m,0,y,v,this),.001),p.hold=g.hold(x,m,0,y,v,this),p.repeat=g.repeat(x,m,0,y,v,this),p.repeatDelay=g.repeatDelay(x,m,0,y,v,this),p.current=p.start,p.state=n.PLAYING_FORWARD,this.updateTweenData(this,p,0,y,v),p.delay>0&&(p.elapsed=p.delay,p.state=n.DELAY)}this.calcDuration();var T=!1;this.state===n.PAUSED&&(T=!0,this.state=n.ACTIVE),this.isSeeking=!0;do this.update(0,o);while(this.totalProgress<a);return this.isSeeking=!1,T&&(this.state=n.PAUSED),this},setCallback:function(a,o,u,v){return this.callbacks[a]={func:o,scope:v,params:u},this},complete:function(a){return a===void 0&&(a=0),a?(this.state=n.COMPLETE_DELAY,this.countdown=a):(this.state=n.PENDING_REMOVE,this.dispatchTweenEvent(h.TWEEN_COMPLETE,this.callbacks.onComplete)),this},remove:function(){return this.parent.remove(this),this},stop:function(a){return this.state===n.ACTIVE&&a!==void 0&&this.seek(a),this.state!==n.REMOVED&&((this.state===n.PAUSED||this.state===n.PENDING_ADD)&&(this.parentIsTimeline?(this.parent.manager._destroy.push(this),this.parent.manager._toProcess++):(this.parent._destroy.push(this),this.parent._toProcess++)),this.dispatchTweenEvent(h.TWEEN_STOP,this.callbacks.onStop),this.removeAllListeners(),this.state=n.PENDING_REMOVE),this},update:function(a,o){if(this.state===n.PAUSED)return!1;switch(this.useFrames&&(o=1*this.parent.timeScale),o*=this.timeScale,this.elapsed+=o,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=o,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),this.state){case n.ACTIVE:!this.hasStarted&&!this.isSeeking&&(this.startDelay-=o,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchTweenEvent(h.TWEEN_START,this.callbacks.onStart)));for(var u=!1,v=0;v<this.totalData;v++){var d=this.data[v];this.updateTweenData(this,d,o)&&(u=!0)}u||this.nextState();break;case n.LOOP_DELAY:this.countdown-=o,this.countdown<=0&&(this.state=n.ACTIVE,this.dispatchTweenEvent(h.TWEEN_LOOP,this.callbacks.onLoop));break;case n.OFFSET_DELAY:this.countdown-=o,this.countdown<=0&&(this.state=n.ACTIVE);break;case n.COMPLETE_DELAY:this.countdown-=o,this.countdown<=0&&(this.state=n.PENDING_REMOVE,this.dispatchTweenEvent(h.TWEEN_COMPLETE,this.callbacks.onComplete));break}return this.state===n.PENDING_REMOVE},dispatchTweenDataEvent:function(a,o,u){this.isSeeking||(this.emit(a,this,u.key,u.target,u.current,u.previous),o&&(o.params[1]=u.target,o.func.apply(o.scope,o.params)))},dispatchTweenEvent:function(a,o){this.isSeeking||(this.emit(a,this,this.targets),o&&(o.params[1]=this.targets,o.func.apply(o.scope,o.params)))},setStateFromEnd:function(a,o,u){return o.yoyo?(o.elapsed=u,o.progress=u/o.duration,o.flipX&&o.target.toggleFlipX(),o.flipY&&o.target.toggleFlipY(),this.dispatchTweenDataEvent(h.TWEEN_YOYO,a.callbacks.onYoyo,o),o.start=o.getStartValue(o.target,o.key,o.start,o.index,a.totalTargets,a),n.PLAYING_BACKWARD):o.repeatCounter>0?(o.repeatCounter--,o.elapsed=u,o.progress=u/o.duration,o.flipX&&o.target.toggleFlipX(),o.flipY&&o.target.toggleFlipY(),o.start=o.getStartValue(o.target,o.key,o.start,o.index,a.totalTargets,a),o.end=o.getEndValue(o.target,o.key,o.start,o.index,a.totalTargets,a),o.repeatDelay>0?(o.elapsed=o.repeatDelay-u,o.current=o.start,o.target[o.key]=o.current,n.REPEAT_DELAY):(this.dispatchTweenDataEvent(h.TWEEN_REPEAT,a.callbacks.onRepeat,o),n.PLAYING_FORWARD)):n.COMPLETE},setStateFromStart:function(a,o,u){return o.repeatCounter>0?(o.repeatCounter--,o.elapsed=u,o.progress=u/o.duration,o.flipX&&o.target.toggleFlipX(),o.flipY&&o.target.toggleFlipY(),o.end=o.getEndValue(o.target,o.key,o.start,o.index,a.totalTargets,a),o.repeatDelay>0?(o.elapsed=o.repeatDelay-u,o.current=o.start,o.target[o.key]=o.current,n.REPEAT_DELAY):(this.dispatchTweenDataEvent(h.TWEEN_REPEAT,a.callbacks.onRepeat,o),n.PLAYING_FORWARD)):n.COMPLETE},updateTweenData:function(a,o,u){var v=o.target;switch(o.state){case n.PLAYING_FORWARD:case n.PLAYING_BACKWARD:if(!v){o.state=n.COMPLETE;break}var d=o.elapsed,p=o.duration,x=0;d+=u,d>p&&(x=d-p,d=p);var g=o.state===n.PLAYING_FORWARD,m=d/p;if(o.elapsed=d,o.progress=m,o.previous=o.current,m===1)g?(o.current=o.end,v[o.key]=o.end,o.hold>0?(o.elapsed=o.hold-x,o.state=n.HOLD_DELAY):o.state=this.setStateFromEnd(a,o,x)):(o.current=o.start,v[o.key]=o.start,o.state=this.setStateFromStart(a,o,x));else{var y=g?o.ease(m):o.ease(1-m);o.current=o.start+(o.end-o.start)*y,v[o.key]=o.current}this.dispatchTweenDataEvent(h.TWEEN_UPDATE,a.callbacks.onUpdate,o);break;case n.DELAY:o.elapsed-=u,o.elapsed<=0&&(o.elapsed=Math.abs(o.elapsed),o.state=n.PENDING_RENDER);break;case n.REPEAT_DELAY:o.elapsed-=u,o.elapsed<=0&&(o.elapsed=Math.abs(o.elapsed),o.state=n.PLAYING_FORWARD,this.dispatchTweenDataEvent(h.TWEEN_REPEAT,a.callbacks.onRepeat,o));break;case n.HOLD_DELAY:o.elapsed-=u,o.elapsed<=0&&(o.state=this.setStateFromEnd(a,o,Math.abs(o.elapsed)));break;case n.PENDING_RENDER:v?(o.start=o.getStartValue(v,o.key,v[o.key],o.index,a.totalTargets,a),o.end=o.getEndValue(v,o.key,o.start,o.index,a.totalTargets,a),o.current=o.start,v[o.key]=o.start,o.state=n.PLAYING_FORWARD):o.state=n.COMPLETE;break}return o.state!==n.COMPLETE}});l.TYPES=["onActive","onComplete","onLoop","onRepeat","onStart","onStop","onUpdate","onYoyo"],r.register("tween",function(a){return this.scene.sys.tweens.add(a)}),i.register("tween",function(a){return this.scene.sys.tweens.create(a)}),c.exports=l},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={TIMELINE_COMPLETE:t(1358),TIMELINE_LOOP:t(1359),TIMELINE_PAUSE:t(1360),TIMELINE_RESUME:t(1361),TIMELINE_START:t(1362),TIMELINE_UPDATE:t(1363),TWEEN_ACTIVE:t(1364),TWEEN_COMPLETE:t(1365),TWEEN_LOOP:t(1366),TWEEN_REPEAT:t(1367),TWEEN_START:t(1368),TWEEN_STOP:t(1369),TWEEN_UPDATE:t(1370),TWEEN_YOYO:t(1371)}},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i,r,n,e,l,a,o,u,v,d,p,x){return{target:s,index:f,key:h,getActiveValue:n,getEndValue:i,getStartValue:r,ease:e,duration:0,totalDuration:0,delay:0,yoyo:o,hold:0,repeat:0,repeatDelay:0,flipX:p,flipY:x,progress:0,elapsed:0,repeatCounter:0,start:0,previous:0,current:0,end:0,t1:0,t2:0,gen:{delay:l,duration:a,hold:u,repeat:v,repeatDelay:d},state:0}};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={DEFAULT:0,LINEAR:0,NEAREST:1};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(58),f=function(h){return s(h,-Math.PI,Math.PI)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(58),f=function(h){return s(h,-180,180)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(66),h=t(2),i=t(238),r=t(340),n=t(341),e=t(29),l=t(9),a=t(147),o=new s({Extends:a,Mixins:[i],initialize:function(v){var d=v.renderer.config;a.call(this,{game:v.game,renderer:v.renderer,gl:v.renderer.gl,topology:h(v,"topology",v.renderer.gl.TRIANGLES),vertShader:h(v,"vertShader",n),fragShader:h(v,"fragShader",r),vertexCapacity:h(v,"vertexCapacity",6*d.batchSize),vertexSize:h(v,"vertexSize",Float32Array.BYTES_PER_ELEMENT*5+Uint8Array.BYTES_PER_ELEMENT*4),attributes:[{name:"inPosition",size:2,type:v.renderer.gl.FLOAT,normalized:!1,offset:0},{name:"inTexCoord",size:2,type:v.renderer.gl.FLOAT,normalized:!1,offset:Float32Array.BYTES_PER_ELEMENT*2},{name:"inTintEffect",size:1,type:v.renderer.gl.FLOAT,normalized:!1,offset:Float32Array.BYTES_PER_ELEMENT*4},{name:"inTint",size:4,type:v.renderer.gl.UNSIGNED_BYTE,normalized:!0,offset:Float32Array.BYTES_PER_ELEMENT*5}]}),this.vertexViewF32=new Float32Array(this.vertexData),this.vertexViewU32=new Uint32Array(this.vertexData),this.maxQuads=d.batchSize,this.batches=[],this._tempMatrix1=new e,this._tempMatrix2=new e,this._tempMatrix3=new e,this._tempMatrix4=new e,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.tintEffect=2,this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[],this.mvpInit()},onBind:function(){return a.prototype.onBind.call(this),this.mvpUpdate(),this},resize:function(u,v,d){return a.prototype.resize.call(this,u,v,d),this.projOrtho(0,this.width,this.height,0,-1e3,1e3),this},setTexture2D:function(u,v){return u===void 0&&(u=this.renderer.blankTexture.glTexture),v===void 0&&(v=0),this.requireTextureBatch(u,v)&&this.pushBatch(u,v),this},requireTextureBatch:function(u,v){var d=this.batches,p=d.length;if(p>0){var x=v>0?d[p-1].textures[v-1]:d[p-1].texture;return x!==u}return!0},pushBatch:function(u,v){if(v===0)this.batches.push({first:this.vertexCount,texture:u,textures:[]});else{var d=[];d[v-1]=u,this.batches.push({first:this.vertexCount,texture:null,textures:d})}},flush:function(){if(this.flushLocked)return this;this.flushLocked=!0;var u=this.gl,v=this.vertexCount,d=this.topology,p=this.vertexSize,x=this.renderer,g=this.batches,m=g.length,y=0,T=null,S,C,P;if(m===0||v===0)return this.flushLocked=!1,this;u.bufferSubData(u.ARRAY_BUFFER,0,this.bytes.subarray(0,v*p));for(var A=0;A<m-1;A++){if(T=g[A],S=g[A+1],T.textures.length>0){for(C=0;C<T.textures.length;++C)P=T.textures[C],P&&x.setTexture2D(P,1+C,!1);u.activeTexture(u.TEXTURE0)}y=S.first-T.first,!(T.texture===null||y<=0)&&(x.setTexture2D(T.texture,0,!1),u.drawArrays(d,T.first,y))}if(T=g[m-1],T.textures.length>0){for(C=0;C<T.textures.length;++C)P=T.textures[C],P&&x.setTexture2D(P,1+C,!1);u.activeTexture(u.TEXTURE0)}return y=v-T.first,T.texture&&y>0&&(x.setTexture2D(T.texture,0,!1),u.drawArrays(d,T.first,y)),this.vertexCount=0,g.length=0,this.flushLocked=!1,this},batchSprite:function(u,v,d){this.renderer.setPipeline(this);var p=this._tempMatrix1,x=this._tempMatrix2,g=this._tempMatrix3,m=u.frame,y=m.glTexture,T=m.u0,S=m.v0,C=m.u1,P=m.v1,A=m.x,M=m.y,O=m.cutWidth,I=m.cutHeight,B=m.customPivot,G=u.displayOriginX,z=u.displayOriginY,N=-G+A,L=-z+M;if(u.isCropped){var R=u._crop;(R.flipX!==u.flipX||R.flipY!==u.flipY)&&m.updateCropUVs(R,u.flipX,u.flipY),T=R.u0,S=R.v0,C=R.u1,P=R.v1,O=R.width,I=R.height,A=R.x,M=R.y,N=-G+A,L=-z+M}var F=1,Y=1;u.flipX&&(B||(N+=-m.realWidth+G*2),F=-1),(u.flipY||m.source.isGLTexture&&!y.flipY)&&(B||(L+=-m.realHeight+z*2),Y=-1),x.applyITRS(u.x,u.y,u.rotation,u.scaleX*F,u.scaleY*Y),p.copyFrom(v.matrix),d?(p.multiplyWithOffset(d,-v.scrollX*u.scrollFactorX,-v.scrollY*u.scrollFactorY),x.e=u.x,x.f=u.y,p.multiply(x,g)):(x.e-=v.scrollX*u.scrollFactorX,x.f-=v.scrollY*u.scrollFactorY,p.multiply(x,g));var D=N+O,X=L+I,U=g.getX(N,L),V=g.getY(N,L),w=g.getX(N,X),W=g.getY(N,X),H=g.getX(D,X),K=g.getY(D,X),J=g.getX(D,L),Z=g.getY(D,L),q=l.getTintAppendFloatAlpha(u._tintTL,v.alpha*u._alphaTL),k=l.getTintAppendFloatAlpha(u._tintTR,v.alpha*u._alphaTR),j=l.getTintAppendFloatAlpha(u._tintBL,v.alpha*u._alphaBL),b=l.getTintAppendFloatAlpha(u._tintBR,v.alpha*u._alphaBR);v.roundPixels&&(U=Math.round(U),V=Math.round(V),w=Math.round(w),W=Math.round(W),H=Math.round(H),K=Math.round(K),J=Math.round(J),Z=Math.round(Z)),this.setTexture2D(y,0);var _=u._isTinted&&u.tintFill;this.batchQuad(U,V,w,W,H,K,J,Z,T,S,C,P,q,k,j,b,_,y,0)},batchQuad:function(u,v,d,p,x,g,m,y,T,S,C,P,A,M,O,I,B,G,z){var N=!1;this.vertexCount+6>this.vertexCapacity&&(this.flush(),N=!0,this.setTexture2D(G,z));var L=this.vertexViewF32,R=this.vertexViewU32,F=this.vertexCount*this.vertexComponentCount-1;return L[++F]=u,L[++F]=v,L[++F]=T,L[++F]=S,L[++F]=B,R[++F]=A,L[++F]=d,L[++F]=p,L[++F]=T,L[++F]=P,L[++F]=B,R[++F]=O,L[++F]=x,L[++F]=g,L[++F]=C,L[++F]=P,L[++F]=B,R[++F]=I,L[++F]=u,L[++F]=v,L[++F]=T,L[++F]=S,L[++F]=B,R[++F]=A,L[++F]=x,L[++F]=g,L[++F]=C,L[++F]=P,L[++F]=B,R[++F]=I,L[++F]=m,L[++F]=y,L[++F]=C,L[++F]=S,L[++F]=B,R[++F]=M,this.vertexCount+=6,N},batchTri:function(u,v,d,p,x,g,m,y,T,S,C,P,A,M,O,I){var B=!1;this.vertexCount+3>this.vertexCapacity&&(this.flush(),this.setTexture2D(O,I),B=!0);var G=this.vertexViewF32,z=this.vertexViewU32,N=this.vertexCount*this.vertexComponentCount-1;return G[++N]=u,G[++N]=v,G[++N]=m,G[++N]=y,G[++N]=M,z[++N]=C,G[++N]=d,G[++N]=p,G[++N]=m,G[++N]=S,G[++N]=M,z[++N]=P,G[++N]=x,G[++N]=g,G[++N]=T,G[++N]=S,G[++N]=M,z[++N]=A,this.vertexCount+=3,B},batchTexture:function(u,v,d,p,x,g,m,y,T,S,C,P,A,M,O,I,B,G,z,N,L,R,F,Y,D,X,U,V,w,W,H){this.renderer.setPipeline(this,u);var K=this._tempMatrix1,J=this._tempMatrix2,Z=this._tempMatrix3,q=G/d+U,k=z/p+V,j=(G+N)/d+U,b=(z+L)/p+V,_=m,it=y,Q=-I,et=-B;if(u.isCropped){var $=u._crop;_=$.width,it=$.height,m=$.width,y=$.height,G=$.x,z=$.y;var tt=G,at=z;P&&(tt=N-$.x-$.width),A&&!v.isRenderTexture&&(at=L-$.y-$.height),q=tt/d+U,k=at/p+V,j=(tt+$.width)/d+U,b=(at+$.height)/p+V,Q=-I+G,et=-B+z}A=A^(!H&&v.isRenderTexture?1:0),P&&(_*=-1,Q+=m),A&&(it*=-1,et+=y);var st=Q+_,nt=et+it;J.applyITRS(x,g,C,T,S),K.copyFrom(w.matrix),W?(K.multiplyWithOffset(W,-w.scrollX*M,-w.scrollY*O),J.e=x,J.f=g,K.multiply(J,Z)):(J.e-=w.scrollX*M,J.f-=w.scrollY*O,K.multiply(J,Z));var rt=Z.getX(Q,et),ot=Z.getY(Q,et),ht=Z.getX(Q,nt),lt=Z.getY(Q,nt),ut=Z.getX(st,nt),ft=Z.getY(st,nt),vt=Z.getX(st,et),dt=Z.getY(st,et);w.roundPixels&&(rt=Math.round(rt),ot=Math.round(ot),ht=Math.round(ht),lt=Math.round(lt),ut=Math.round(ut),ft=Math.round(ft),vt=Math.round(vt),dt=Math.round(dt)),this.setTexture2D(v,0),this.batchQuad(rt,ot,ht,lt,ut,ft,vt,dt,q,k,j,b,R,F,Y,D,X,v,0)},batchTextureFrame:function(u,v,d,p,x,g,m){this.renderer.setPipeline(this);var y=this._tempMatrix1.copyFrom(g),T=this._tempMatrix2,S=v+u.width,C=d+u.height;m?y.multiply(m,T):T=y;var P=T.getX(v,d),A=T.getY(v,d),M=T.getX(v,C),O=T.getY(v,C),I=T.getX(S,C),B=T.getY(S,C),G=T.getX(S,d),z=T.getY(S,d);this.setTexture2D(u.glTexture,0),p=l.getTintAppendFloatAlpha(p,x),this.batchQuad(P,A,M,O,I,B,G,z,u.u0,u.v0,u.u1,u.v1,p,p,p,p,0,u.glTexture,0)},drawFillRect:function(u,v,d,p,x,g){var m=u+d,y=v+p;this.setTexture2D();var T=l.getTintAppendFloatAlphaAndSwap(x,g);this.batchQuad(u,v,u,y,m,y,m,v,0,0,1,1,T,T,T,T,2)},batchFillRect:function(u,v,d,p,x,g){this.renderer.setPipeline(this);var m=this._tempMatrix3;g&&g.multiply(x,m);var y=u+d,T=v+p,S=m.getX(u,v),C=m.getY(u,v),P=m.getX(u,T),A=m.getY(u,T),M=m.getX(y,T),O=m.getY(y,T),I=m.getX(y,v),B=m.getY(y,v),G=this.currentFrame,z=G.u0,N=G.v0,L=G.u1,R=G.v1;this.batchQuad(S,C,P,A,M,O,I,B,z,N,L,R,this.fillTint.TL,this.fillTint.TR,this.fillTint.BL,this.fillTint.BR,this.tintEffect)},batchFillTriangle:function(u,v,d,p,x,g,m,y){this.renderer.setPipeline(this);var T=this._tempMatrix3;y&&y.multiply(m,T);var S=T.getX(u,v),C=T.getY(u,v),P=T.getX(d,p),A=T.getY(d,p),M=T.getX(x,g),O=T.getY(x,g),I=this.currentFrame,B=I.u0,G=I.v0,z=I.u1,N=I.v1;this.batchTri(S,C,P,A,M,O,B,G,z,N,this.fillTint.TL,this.fillTint.TR,this.fillTint.BL,this.tintEffect)},batchStrokeTriangle:function(u,v,d,p,x,g,m,y,T){var S=this.tempTriangle;S[0].x=u,S[0].y=v,S[0].width=m,S[1].x=d,S[1].y=p,S[1].width=m,S[2].x=x,S[2].y=g,S[2].width=m,S[3].x=u,S[3].y=v,S[3].width=m,this.batchStrokePath(S,m,!1,y,T)},batchFillPath:function(u,v,d){this.renderer.setPipeline(this);var p=this._tempMatrix3;d&&d.multiply(v,p);for(var x=u.length,g=this.polygonCache,m,y,T=this.fillTint.TL,S=this.fillTint.TR,C=this.fillTint.BL,P=this.tintEffect,A=0;A<x;++A)y=u[A],g.push(y.x,y.y);m=f(g),x=m.length;for(var M=this.currentFrame,O=0;O<x;O+=3){var I=m[O+0]*2,B=m[O+1]*2,G=m[O+2]*2,z=g[I+0],N=g[I+1],L=g[B+0],R=g[B+1],F=g[G+0],Y=g[G+1],D=p.getX(z,N),X=p.getY(z,N),U=p.getX(L,R),V=p.getY(L,R),w=p.getX(F,Y),W=p.getY(F,Y),H=M.u0,K=M.v0,J=M.u1,Z=M.v1;this.batchTri(D,X,U,V,w,W,H,K,J,Z,T,S,C,P)}g.length=0},batchStrokePath:function(u,v,d,p,x){this.renderer.setPipeline(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var g=u.length-1,m=0;m<g;m++){var y=u[m],T=u[m+1];this.batchLine(y.x,y.y,T.x,T.y,y.width/2,T.width/2,v,m,!d&&m===g-1,p,x)}},batchLine:function(u,v,d,p,x,g,m,y,T,S,C){this.renderer.setPipeline(this);var P=this._tempMatrix3;C&&C.multiply(S,P);var A=d-u,M=p-v,O=Math.sqrt(A*A+M*M),I=x*(p-v)/O,B=x*(u-d)/O,G=g*(p-v)/O,z=g*(u-d)/O,N=d-G,L=p-z,R=u-I,F=v-B,Y=d+G,D=p+z,X=u+I,U=v+B,V=P.getX(N,L),w=P.getY(N,L),W=P.getX(R,F),H=P.getY(R,F),K=P.getX(Y,D),J=P.getY(Y,D),Z=P.getX(X,U),q=P.getY(X,U),k=this.strokeTint,j=this.tintEffect,b=k.TL,_=k.TR,it=k.BL,Q=k.BR,et=this.currentFrame,$=et.u0,tt=et.v0,at=et.u1,st=et.v1;if(this.batchQuad(Z,q,W,H,V,w,K,J,$,tt,at,st,b,_,it,Q,j),!(m<=2)){var nt=this.prevQuad,rt=this.firstQuad;y>0&&nt[4]?this.batchQuad(Z,q,W,H,nt[0],nt[1],nt[2],nt[3],$,tt,at,st,b,_,it,Q,j):(rt[0]=Z,rt[1]=q,rt[2]=W,rt[3]=H,rt[4]=1),T&&rt[4]?this.batchQuad(V,w,K,J,rt[0],rt[1],rt[2],rt[3],$,tt,at,st,b,_,it,Q,j):(nt[0]=V,nt[1]=w,nt[2]=K,nt[3]=J,nt[4]=1)}}});c.exports=o},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={modelMatrixDirty:!1,viewMatrixDirty:!1,projectionMatrixDirty:!1,modelMatrix:null,viewMatrix:null,projectionMatrix:null,mvpInit:function(){return this.modelMatrixDirty=!0,this.viewMatrixDirty=!0,this.projectionMatrixDirty=!0,this.modelMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this},mvpUpdate:function(){var s=this.program;return this.modelMatrixDirty&&(this.renderer.setMatrix4(s,"uModelMatrix",!1,this.modelMatrix),this.modelMatrixDirty=!1),this.viewMatrixDirty&&(this.renderer.setMatrix4(s,"uViewMatrix",!1,this.viewMatrix),this.viewMatrixDirty=!1),this.projectionMatrixDirty&&(this.renderer.setMatrix4(s,"uProjectionMatrix",!1,this.projectionMatrix),this.projectionMatrixDirty=!1),this},modelIdentity:function(){var s=this.modelMatrix;return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,this.modelMatrixDirty=!0,this},modelScale:function(s,f,h){var i=this.modelMatrix;return i[0]=i[0]*s,i[1]=i[1]*s,i[2]=i[2]*s,i[3]=i[3]*s,i[4]=i[4]*f,i[5]=i[5]*f,i[6]=i[6]*f,i[7]=i[7]*f,i[8]=i[8]*h,i[9]=i[9]*h,i[10]=i[10]*h,i[11]=i[11]*h,this.modelMatrixDirty=!0,this},modelTranslate:function(s,f,h){var i=this.modelMatrix;return i[12]=i[0]*s+i[4]*f+i[8]*h+i[12],i[13]=i[1]*s+i[5]*f+i[9]*h+i[13],i[14]=i[2]*s+i[6]*f+i[10]*h+i[14],i[15]=i[3]*s+i[7]*f+i[11]*h+i[15],this.modelMatrixDirty=!0,this},modelRotateX:function(s){var f=this.modelMatrix,h=Math.sin(s),i=Math.cos(s),r=f[4],n=f[5],e=f[6],l=f[7],a=f[8],o=f[9],u=f[10],v=f[11];return f[4]=r*i+a*h,f[5]=n*i+o*h,f[6]=e*i+u*h,f[7]=l*i+v*h,f[8]=a*i-r*h,f[9]=o*i-n*h,f[10]=u*i-e*h,f[11]=v*i-l*h,this.modelMatrixDirty=!0,this},modelRotateY:function(s){var f=this.modelMatrix,h=Math.sin(s),i=Math.cos(s),r=f[0],n=f[1],e=f[2],l=f[3],a=f[8],o=f[9],u=f[10],v=f[11];return f[0]=r*i-a*h,f[1]=n*i-o*h,f[2]=e*i-u*h,f[3]=l*i-v*h,f[8]=r*h+a*i,f[9]=n*h+o*i,f[10]=e*h+u*i,f[11]=l*h+v*i,this.modelMatrixDirty=!0,this},modelRotateZ:function(s){var f=this.modelMatrix,h=Math.sin(s),i=Math.cos(s),r=f[0],n=f[1],e=f[2],l=f[3],a=f[4],o=f[5],u=f[6],v=f[7];return f[0]=r*i+a*h,f[1]=n*i+o*h,f[2]=e*i+u*h,f[3]=l*i+v*h,f[4]=a*i-r*h,f[5]=o*i-n*h,f[6]=u*i-e*h,f[7]=v*i-l*h,this.modelMatrixDirty=!0,this},viewIdentity:function(){var s=this.viewMatrix;return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,this.viewMatrixDirty=!0,this},viewScale:function(s,f,h){var i=this.viewMatrix;return i[0]=i[0]*s,i[1]=i[1]*s,i[2]=i[2]*s,i[3]=i[3]*s,i[4]=i[4]*f,i[5]=i[5]*f,i[6]=i[6]*f,i[7]=i[7]*f,i[8]=i[8]*h,i[9]=i[9]*h,i[10]=i[10]*h,i[11]=i[11]*h,this.viewMatrixDirty=!0,this},viewTranslate:function(s,f,h){var i=this.viewMatrix;return i[12]=i[0]*s+i[4]*f+i[8]*h+i[12],i[13]=i[1]*s+i[5]*f+i[9]*h+i[13],i[14]=i[2]*s+i[6]*f+i[10]*h+i[14],i[15]=i[3]*s+i[7]*f+i[11]*h+i[15],this.viewMatrixDirty=!0,this},viewRotateX:function(s){var f=this.viewMatrix,h=Math.sin(s),i=Math.cos(s),r=f[4],n=f[5],e=f[6],l=f[7],a=f[8],o=f[9],u=f[10],v=f[11];return f[4]=r*i+a*h,f[5]=n*i+o*h,f[6]=e*i+u*h,f[7]=l*i+v*h,f[8]=a*i-r*h,f[9]=o*i-n*h,f[10]=u*i-e*h,f[11]=v*i-l*h,this.viewMatrixDirty=!0,this},viewRotateY:function(s){var f=this.viewMatrix,h=Math.sin(s),i=Math.cos(s),r=f[0],n=f[1],e=f[2],l=f[3],a=f[8],o=f[9],u=f[10],v=f[11];return f[0]=r*i-a*h,f[1]=n*i-o*h,f[2]=e*i-u*h,f[3]=l*i-v*h,f[8]=r*h+a*i,f[9]=n*h+o*i,f[10]=e*h+u*i,f[11]=l*h+v*i,this.viewMatrixDirty=!0,this},viewRotateZ:function(s){var f=this.viewMatrix,h=Math.sin(s),i=Math.cos(s),r=f[0],n=f[1],e=f[2],l=f[3],a=f[4],o=f[5],u=f[6],v=f[7];return f[0]=r*i+a*h,f[1]=n*i+o*h,f[2]=e*i+u*h,f[3]=l*i+v*h,f[4]=a*i-r*h,f[5]=o*i-n*h,f[6]=u*i-e*h,f[7]=v*i-l*h,this.viewMatrixDirty=!0,this},viewLoad2D:function(s){var f=this.viewMatrix;return f[0]=s[0],f[1]=s[1],f[2]=0,f[3]=0,f[4]=s[2],f[5]=s[3],f[6]=0,f[7]=0,f[8]=s[4],f[9]=s[5],f[10]=1,f[11]=0,f[12]=0,f[13]=0,f[14]=0,f[15]=1,this.viewMatrixDirty=!0,this},viewLoad:function(s){var f=this.viewMatrix;return f[0]=s[0],f[1]=s[1],f[2]=s[2],f[3]=s[3],f[4]=s[4],f[5]=s[5],f[6]=s[6],f[7]=s[7],f[8]=s[8],f[9]=s[9],f[10]=s[10],f[11]=s[11],f[12]=s[12],f[13]=s[13],f[14]=s[14],f[15]=s[15],this.viewMatrixDirty=!0,this},projIdentity:function(){var s=this.projectionMatrix;return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,this.projectionMatrixDirty=!0,this},projOrtho:function(s,f,h,i,r,n){var e=this.projectionMatrix,l=1/(s-f),a=1/(h-i),o=1/(r-n);return e[0]=-2*l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*o,e[11]=0,e[12]=(s+f)*l,e[13]=(i+h)*a,e[14]=(n+r)*o,e[15]=1,this.projectionMatrixDirty=!0,this},projPersp:function(s,f,h,i){var r=this.projectionMatrix,n=1/Math.tan(s/2),e=1/(h-i);return r[0]=n/f,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=n,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=(i+h)*e,r[11]=-1,r[12]=0,r[13]=0,r[14]=2*i*h*e,r[15]=0,this.projectionMatrixDirty=!0,this}};c.exports=t},function(c,E,t){var s={};c.exports=s;var f=t(240);(function(){s._motionWakeThreshold=.18,s._motionSleepThreshold=.08,s._minBias=.9,s.update=function(h,i){for(var r=i*i*i,n=0;n<h.length;n++){var e=h[n],l=e.speed*e.speed+e.angularSpeed*e.angularSpeed;if(e.force.x!==0||e.force.y!==0){s.set(e,!1);continue}var a=Math.min(e.motion,l),o=Math.max(e.motion,l);e.motion=s._minBias*a+(1-s._minBias)*o,e.sleepThreshold>0&&e.motion<s._motionSleepThreshold*r?(e.sleepCounter+=1,e.sleepCounter>=e.sleepThreshold&&s.set(e,!0)):e.sleepCounter>0&&(e.sleepCounter-=1)}},s.afterCollisions=function(h,i){for(var r=i*i*i,n=0;n<h.length;n++){var e=h[n];if(e.isActive){var l=e.collision,a=l.bodyA.parent,o=l.bodyB.parent;if(!(a.isSleeping&&o.isSleeping||a.isStatic||o.isStatic)&&(a.isSleeping||o.isSleeping)){var u=a.isSleeping&&!a.isStatic?a:o,v=u===a?o:a;!u.isStatic&&v.motion>s._motionWakeThreshold*r&&s.set(u,!1)}}}},s.set=function(h,i){var r=h.isSleeping;i?(h.isSleeping=!0,h.sleepCounter=h.sleepThreshold,h.positionImpulse.x=0,h.positionImpulse.y=0,h.positionPrev.x=h.position.x,h.positionPrev.y=h.position.y,h.anglePrev=h.angle,h.speed=0,h.angularSpeed=0,h.motion=0,r||f.trigger(h,"sleepStart")):(h.isSleeping=!1,h.sleepCounter=0,r&&f.trigger(h,"sleepEnd"))}})()},function(c,E,t){var s={};c.exports=s;var f=t(42);(function(){s.on=function(h,i,r){for(var n=i.split(" "),e,l=0;l<n.length;l++)e=n[l],h.events=h.events||{},h.events[e]=h.events[e]||[],h.events[e].push(r);return r},s.off=function(h,i,r){if(!i){h.events={};return}typeof i=="function"&&(r=i,i=f.keys(h.events).join(" "));for(var n=i.split(" "),e=0;e<n.length;e++){var l=h.events[n[e]],a=[];if(r&&l)for(var o=0;o<l.length;o++)l[o]!==r&&a.push(l[o]);h.events[n[e]]=a}},s.trigger=function(h,i,r){var n,e,l,a,o=h.events;if(o&&f.keys(o).length>0){r||(r={}),n=i.split(" ");for(var u=0;u<n.length;u++)if(e=n[u],l=o[e],l){a=f.clone(r,!1),a.name=e,a.source=h;for(var v=0;v<l.length;v++)l[v].apply(h,[a])}}}})()},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AlignTo:t(527),Angle:t(528),Call:t(529),GetFirst:t(530),GetLast:t(531),GridAlign:t(532),IncAlpha:t(593),IncX:t(594),IncXY:t(595),IncY:t(596),PlaceOnCircle:t(597),PlaceOnEllipse:t(598),PlaceOnLine:t(599),PlaceOnRectangle:t(600),PlaceOnTriangle:t(601),PlayAnimation:t(602),PropertyValueInc:t(38),PropertyValueSet:t(25),RandomCircle:t(603),RandomEllipse:t(604),RandomLine:t(605),RandomRectangle:t(606),RandomTriangle:t(607),Rotate:t(608),RotateAround:t(609),RotateAroundDistance:t(610),ScaleX:t(611),ScaleXY:t(612),ScaleY:t(613),SetAlpha:t(614),SetBlendMode:t(615),SetDepth:t(616),SetHitArea:t(617),SetOrigin:t(618),SetRotation:t(619),SetScale:t(620),SetScaleX:t(621),SetScaleY:t(622),SetScrollFactor:t(623),SetScrollFactorX:t(624),SetScrollFactorY:t(625),SetTint:t(626),SetVisible:t(627),SetX:t(628),SetXY:t(629),SetY:t(630),ShiftPosition:t(631),Shuffle:t(632),SmootherStep:t(633),SmoothStep:t(634),Spread:t(635),ToggleVisible:t(636),WrapInRectangle:t(637)}},function(c,E,t){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(105),f=[];f[s.BOTTOM_CENTER]=t(243),f[s.BOTTOM_LEFT]=t(244),f[s.BOTTOM_RIGHT]=t(245),f[s.LEFT_BOTTOM]=t(246),f[s.LEFT_CENTER]=t(247),f[s.LEFT_TOP]=t(248),f[s.RIGHT_BOTTOM]=t(249),f[s.RIGHT_CENTER]=t(250),f[s.RIGHT_TOP]=t(251),f[s.TOP_CENTER]=t(252),f[s.TOP_LEFT]=t(253),f[s.TOP_RIGHT]=t(254);var h=function(i,r,n,e,l){return f[n](i,r,e,l)};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(34),f=t(76),h=t(77),i=t(43),r=function(n,e,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),h(n,f(e)+l),i(n,s(e)+a),n};c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(34),f=t(35),h=t(44),i=t(43),r=function(n,e,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),h(n,f(e)-l),i(n,s(e)+a),n};c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(34),f=t(36),h=t(45),i=t(43),r=function(n,e,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),h(n,f(e)+l),i(n,s(e)+a),n};c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(34),f=t(35),h=t(46),i=t(45),r=function(n,e,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),i(n,f(e)-l),h(n,s(e)+a),n};c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(78),f=t(35),h=t(79),i=t(45),r=function(n,e,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),i(n,f(e)-l),h(n,s(e)+a),n};c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(35),f=t(37),h=t(45),i=t(43),r=function(n,e,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),h(n,s(e)-l),i(n,f(e)-a),n};c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(34),f=t(36),h=t(46),i=t(44),r=function(n,e,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),i(n,f(e)+l),h(n,s(e)+a),n};c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(78),f=t(36),h=t(79),i=t(44),r=function(n,e,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),i(n,f(e)+l),h(n,s(e)+a),n};c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(36),f=t(37),h=t(44),i=t(43),r=function(n,e,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),h(n,s(e)+l),i(n,f(e)-a),n};c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(76),f=t(37),h=t(46),i=t(77),r=function(n,e,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),i(n,s(e)+l),h(n,f(e)-a),n};c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(35),f=t(37),h=t(46),i=t(44),r=function(n,e,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),i(n,s(e)-l),h(n,f(e)-a),n};c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(36),f=t(37),h=t(46),i=t(45),r=function(n,e,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),i(n,s(e)+l),h(n,f(e)-a),n};c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(105),f=[];f[s.BOTTOM_CENTER]=t(256),f[s.BOTTOM_LEFT]=t(257),f[s.BOTTOM_RIGHT]=t(258),f[s.CENTER]=t(259),f[s.LEFT_CENTER]=t(261),f[s.RIGHT_CENTER]=t(262),f[s.TOP_CENTER]=t(263),f[s.TOP_LEFT]=t(264),f[s.TOP_RIGHT]=t(265),f[s.LEFT_BOTTOM]=f[s.BOTTOM_LEFT],f[s.LEFT_TOP]=f[s.TOP_LEFT],f[s.RIGHT_BOTTOM]=f[s.BOTTOM_RIGHT],f[s.RIGHT_TOP]=f[s.TOP_RIGHT];var h=function(i,r,n,e,l){return f[n](i,r,e,l)};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(34),f=t(76),h=t(46),i=t(77),r=function(n,e,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),i(n,f(e)+l),h(n,s(e)+a),n};c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(34),f=t(35),h=t(46),i=t(44),r=function(n,e,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),i(n,f(e)-l),h(n,s(e)+a),n};c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(34),f=t(36),h=t(46),i=t(45),r=function(n,e,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),i(n,f(e)+l),h(n,s(e)+a),n};c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(260),f=t(76),h=t(78),i=function(r,n,e,l){return e===void 0&&(e=0),l===void 0&&(l=0),s(r,f(n)+e,h(n)+l),r};c.exports=i},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(77),f=t(79),h=function(i,r,n){return s(i,r),f(i,n)};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(78),f=t(35),h=t(79),i=t(44),r=function(n,e,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),i(n,f(e)-l),h(n,s(e)+a),n};c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(78),f=t(36),h=t(79),i=t(45),r=function(n,e,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),i(n,f(e)+l),h(n,s(e)+a),n};c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(76),f=t(37),h=t(77),i=t(43),r=function(n,e,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),h(n,s(e)+l),i(n,f(e)-a),n};c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(35),f=t(37),h=t(44),i=t(43),r=function(n,e,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),h(n,s(e)-l),i(n,f(e)-a),n};c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(36),f=t(37),h=t(45),i=t(43),r=function(n,e,l,a){return l===void 0&&(l=0),a===void 0&&(a=0),h(n,s(e)+l),i(n,f(e)-a),n};c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(149),f=t(87),h=t(13),i=t(4),r=function(n,e,l){l===void 0&&(l=new i);var a=f(e,0,h.PI2);return s(n,a,l)};c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(268),f=t(149),h=t(87),i=t(13),r=function(n,e,l,a){a===void 0&&(a=[]),!e&&l>0&&(e=s(n)/l);for(var o=0;o<e;o++){var u=h(o/e,0,i.PI2);a.push(f(n,u))}return a};c.exports=r},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return 2*(Math.PI*s.radius)};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(19),f=2,h={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(i){return i===void 0&&(i=1),this.alpha=i,this},alpha:{get:function(){return this._alpha},set:function(i){var r=s(i,0,1);this._alpha=r,r===0?this.renderFlags&=~f:this.renderFlags|=f}}};c.exports=h},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){if(f.length){if(f.length===1)return f[0]}else return NaN;var i=1,r,n;if(h){if(s<f[0][h])return f[0];for(;f[i][h]<s;)i++}else for(;f[i]<s;)i++;return i>f.length&&(i=f.length),h?(r=f[i-1][h],n=f[i][h],n-s<=s-r?f[i]:f[i-1]):(r=f[i-1],n=f[i],n-s<=s-r?n:r)};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=new s({initialize:function(i,r,n,e){this.textureKey=i,this.textureFrame=r,this.index=n,this.frame=e,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration}},destroy:function(){this.frame=void 0}});c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(52),f={_blendMode:s.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(h){typeof h=="string"&&(h=s[h]),h|=0,h>=-1&&(this._blendMode=h)}},setBlendMode:function(h){return this.blendMode=h,this}};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={_depth:0,depth:{get:function(){return this._depth},set:function(s){this.scene.sys.queueDepthSort(),this._depth=s}},setDepth:function(s){return s===void 0&&(s=0),this.depth=s,this}};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(152),f=t(112),h=function(i,r,n,e){e===void 0&&(e=[]),!r&&n>0&&(r=f(i)/n);for(var l=0;l<r;l++){var a=l/r;e.push(s(i,a))}return e};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(4),f=function(h,i,r){return r===void 0&&(r=new s),r.x=h.x1+(h.x2-h.x1)*i,r.y=h.y1+(h.y2-h.y1)*i,r};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i){var r=Math.cos(i),n=Math.sin(i),e=s.x-f,l=s.y-h;return s.x=e*r-l*n+f,s.y=e*n+l*r+h,s};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(278),f=t(279),h={mask:null,setMask:function(i){return this.mask=i,this},clearMask:function(i){return i===void 0&&(i=!1),i&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(i){return i===void 0&&(this.texture||this.shader)&&(i=this),new s(this.scene,i)},createGeometryMask:function(i){return i===void 0&&this.type==="Graphics"&&(i=this),new f(this.scene,i)}};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(20),h=new s({initialize:function(r,n){var e=r.sys.game.renderer;if(this.renderer=e,this.bitmapMask=n,this.maskTexture=null,this.mainTexture=null,this.dirty=!0,this.mainFramebuffer=null,this.maskFramebuffer=null,this.prevFramebuffer=null,this.invertAlpha=!1,this.isStencil=!1,e&&e.gl){var l=e.width,a=e.height,o=(l&l-1)===0&&(a&a-1)===0,u=e.gl,v=o?u.REPEAT:u.CLAMP_TO_EDGE,d=u.LINEAR;this.mainTexture=e.createTexture2D(0,d,d,v,v,u.RGBA,null,l,a),this.maskTexture=e.createTexture2D(0,d,d,v,v,u.RGBA,null,l,a),this.mainFramebuffer=e.createFramebuffer(l,a,this.mainTexture,!0),this.maskFramebuffer=e.createFramebuffer(l,a,this.maskTexture,!0),r.sys.game.events.on(f.CONTEXT_RESTORED,function(p){var x=p.width,g=p.height,m=(x&x-1)===0&&(g&g-1)===0,y=p.gl,T=m?y.REPEAT:y.CLAMP_TO_EDGE,S=y.LINEAR;this.mainTexture=p.createTexture2D(0,S,S,T,T,y.RGBA,null,x,g),this.maskTexture=p.createTexture2D(0,S,S,T,T,y.RGBA,null,x,g),this.mainFramebuffer=p.createFramebuffer(x,g,this.mainTexture,!0),this.maskFramebuffer=p.createFramebuffer(x,g,this.maskTexture,!0)},this)}},setBitmap:function(i){this.bitmapMask=i},preRenderWebGL:function(i,r,n){i.pipelines.BitmapMaskPipeline.beginMask(this,r,n)},postRenderWebGL:function(i,r){i.pipelines.BitmapMaskPipeline.endMask(this,r)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null;var i=this.renderer;i&&i.gl&&(i.deleteTexture(this.mainTexture),i.deleteTexture(this.maskTexture),i.deleteFramebuffer(this.mainFramebuffer),i.deleteFramebuffer(this.maskFramebuffer)),this.mainTexture=null,this.maskTexture=null,this.mainFramebuffer=null,this.maskFramebuffer=null,this.prevFramebuffer=null,this.renderer=null}});c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=new s({initialize:function(i,r){this.geometryMask=r,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(h){return this.geometryMask=h,this},setInvertAlpha:function(h){return h===void 0&&(h=!0),this.invertAlpha=h,this},preRenderWebGL:function(h,i,r){var n=h.gl;h.flush(),h.maskStack.length===0&&(n.enable(n.STENCIL_TEST),n.clear(n.STENCIL_BUFFER_BIT),h.maskCount=0),h.currentCameraMask.mask!==this&&(h.currentMask.mask=this),h.maskStack.push({mask:this,camera:r}),this.applyStencil(h,r,!0),h.maskCount++},applyStencil:function(h,i,r){var n=h.gl,e=this.geometryMask,l=h.maskCount;n.colorMask(!1,!1,!1,!1),r?(n.stencilFunc(n.EQUAL,l,255),n.stencilOp(n.KEEP,n.KEEP,n.INCR)):(n.stencilFunc(n.EQUAL,l+1,255),n.stencilOp(n.KEEP,n.KEEP,n.DECR)),e.renderWebGL(h,e,0,i),h.flush(),n.colorMask(!0,!0,!0,!0),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),r?this.invertAlpha?n.stencilFunc(n.NOTEQUAL,l+1,255):n.stencilFunc(n.EQUAL,l+1,255):this.invertAlpha?n.stencilFunc(n.NOTEQUAL,l,255):n.stencilFunc(n.EQUAL,l,255)},postRenderWebGL:function(h){var i=h.gl;if(h.maskStack.pop(),h.maskCount--,h.maskStack.length===0)h.flush(),h.currentMask.mask=null,i.disable(i.STENCIL_TEST);else{h.flush();var r=h.maskStack[h.maskStack.length-1];r.mask.applyStencil(h,r.camera,!1),h.currentCameraMask.mask!==r.mask?(h.currentMask.mask=r.mask,h.currentMask.camera=r.camera):h.currentMask.mask=null}},preRenderCanvas:function(h,i,r){var n=this.geometryMask;h.currentContext.save(),n.renderCanvas(h,n,0,r,null,null,!0),h.currentContext.clip()},postRenderCanvas:function(h){h.currentContext.restore()},destroy:function(){this.geometryMask=null}});c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(s,f){return f===void 0&&(f=s),this.scrollFactorX=s,this.scrollFactorY=f,this}};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){var f={name:s.name,type:s.type,x:s.x,y:s.y,depth:s.depth,scale:{x:s.scaleX,y:s.scaleY},origin:{x:s.originX,y:s.originY},flipX:s.flipX,flipY:s.flipY,rotation:s.rotation,alpha:s.alpha,visible:s.visible,blendMode:s.blendMode,textureKey:"",frameKey:"",data:{}};return s.texture&&(f.textureKey=s.texture.key,f.frameKey=s.frame.name),f};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(13),f=t(29),h=t(235),i=t(236),r=4,n={_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(e){this._scaleX=e,this._scaleY=e,e===0?this.renderFlags&=~r:this.renderFlags|=r}},scaleX:{get:function(){return this._scaleX},set:function(e){this._scaleX=e,e===0?this.renderFlags&=~r:this.renderFlags|=r}},scaleY:{get:function(){return this._scaleY},set:function(e){this._scaleY=e,e===0?this.renderFlags&=~r:this.renderFlags|=r}},angle:{get:function(){return i(this._rotation*s.RAD_TO_DEG)},set:function(e){this.rotation=i(e)*s.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(e){this._rotation=h(e)}},setPosition:function(e,l,a,o){return e===void 0&&(e=0),l===void 0&&(l=e),a===void 0&&(a=0),o===void 0&&(o=0),this.x=e,this.y=l,this.z=a,this.w=o,this},setRandomPosition:function(e,l,a,o){return e===void 0&&(e=0),l===void 0&&(l=0),a===void 0&&(a=this.scene.sys.scale.width),o===void 0&&(o=this.scene.sys.scale.height),this.x=e+Math.random()*a,this.y=l+Math.random()*o,this},setRotation:function(e){return e===void 0&&(e=0),this.rotation=e,this},setAngle:function(e){return e===void 0&&(e=0),this.angle=e,this},setScale:function(e,l){return e===void 0&&(e=1),l===void 0&&(l=e),this.scaleX=e,this.scaleY=l,this},setX:function(e){return e===void 0&&(e=0),this.x=e,this},setY:function(e){return e===void 0&&(e=0),this.y=e,this},setZ:function(e){return e===void 0&&(e=0),this.z=e,this},setW:function(e){return e===void 0&&(e=0),this.w=e,this},getLocalTransformMatrix:function(e){return e===void 0&&(e=new f),e.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(e,l){e===void 0&&(e=new f),l===void 0&&(l=new f);var a=this.parentContainer;if(!a)return this.getLocalTransformMatrix(e);for(e.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);a;)l.applyITRS(a.x,a.y,a._rotation,a._scaleX,a._scaleY),l.multiply(e,e),a=a.parentContainer;return e},getParentRotation:function(){for(var e=0,l=this.parentContainer;l;)e+=l.rotation,l=l.parentContainer;return e}};c.exports=n},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=1,s={_visible:!0,visible:{get:function(){return this._visible},set:function(f){f?(this._visible=!0,this.renderFlags|=t):(this._visible=!1,this.renderFlags&=~t)}},setVisible:function(f){return this.visible=f,this}};c.exports=s},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CHANGE_DATA:t(578),CHANGE_DATA_KEY:t(579),REMOVE_DATA:t(580),SET_DATA:t(581)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(112),f=t(4),h=function(i,r,n,e){if(e===void 0&&(e=[]),!r&&!n)return e;r?n=Math.round(s(i)/r):r=s(i)/n;for(var l=i.x,a=i.y,o=0,u=0;u<n;u++)switch(e.push(new f(l,a)),o){case 0:l+=r,l>=i.right&&(o=1,a+=l-i.right,l=i.right);break;case 1:a+=r,a>=i.bottom&&(o=2,l-=a-i.bottom,a=i.bottom);break;case 2:l-=r,l<=i.left&&(o=3,a-=i.left-l,l=i.left);break;case 3:a-=r,a<=i.top&&(o=0,a=i.top);break}return e};c.exports=h},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){f===void 0&&(f=1);for(var h=null,i=0;i<f;i++)h=s.shift(),s.push(h);return h};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){f===void 0&&(f=1);for(var h=null,i=0;i<f;i++)h=s.pop(),s.unshift(h);return h};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){f===void 0&&(f=1),h===void 0&&(h=[]);var i=Math.round(s.x1),r=Math.round(s.y1),n=Math.round(s.x2),e=Math.round(s.y2),l=Math.abs(n-i),a=Math.abs(e-r),o=i<n?1:-1,u=r<e?1:-1,v=l-a;h.push({x:i,y:r});for(var d=1;!(i===n&&r===e);){var p=v<<1;p>-a&&(v-=a,i+=o),p<l&&(v+=l,r+=u),d%f===0&&h.push({x:i,y:r}),d++}return h};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(151),f=t(0),h=t(162),i=t(10),r=t(111),n=t(20),e=t(6),l=t(163),a=new f({Extends:i,initialize:function(u){i.call(this),this.game=u,this.textureManager=null,this.globalTimeScale=1,this.anims=new h,this.paused=!1,this.name="AnimationManager",u.events.once(n.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(n.DESTROY,this.destroy,this)},add:function(o,u){return this.anims.has(o)?(console.warn("Animation key exists: "+o),this):(u.key=o,this.anims.set(o,u),this.emit(r.ADD_ANIMATION,o,u),this)},exists:function(o){return this.anims.has(o)},create:function(o){var u=o.key,v=!1;return u&&(v=this.get(u),v||(v=new s(this,u,o),this.anims.set(u,v),this.emit(r.ADD_ANIMATION,u,v))),v},fromJSON:function(o,u){u===void 0&&(u=!1),u&&this.anims.clear(),typeof o=="string"&&(o=JSON.parse(o));var v=[];if(o.hasOwnProperty("anims")&&Array.isArray(o.anims)){for(var d=0;d<o.anims.length;d++)v.push(this.create(o.anims[d]));o.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=o.globalTimeScale)}else o.hasOwnProperty("key")&&o.type==="frame"&&v.push(this.create(o));return v},generateFrameNames:function(o,u){var v=e(u,"prefix",""),d=e(u,"start",0),p=e(u,"end",0),x=e(u,"suffix",""),g=e(u,"zeroPad",0),m=e(u,"outputArray",[]),y=e(u,"frames",!1),T=this.textureManager.get(o);if(!T)return m;var S=d<p?1:-1;p+=S;var C,P;if(u)if(Array.isArray(y))for(C=0;C<y.length;C++)P=v+l(y[C],g,"0",1)+x,T.has(P)&&m.push({key:o,frame:P});else for(C=d;C!==p;C+=S)P=v+l(C,g,"0",1)+x,T.has(P)&&m.push({key:o,frame:P});else for(y=T.getFrameNames(),C=0;C<y.length;C++)m.push({key:o,frame:y[C]});return m},generateFrameNumbers:function(o,u){var v=e(u,"start",0),d=e(u,"end",-1),p=e(u,"first",!1),x=e(u,"outputArray",[]),g=e(u,"frames",!1),m=this.textureManager.get(o);if(!m)return x;p&&m.has(p)&&x.push({key:o,frame:p});var y;if(Array.isArray(g))for(y=0;y<g.length;y++)m.has(g[y])&&x.push({key:o,frame:g[y]});else{d===-1&&(d=m.frameTotal);var T=v<d?1:-1;for(d+=T,y=v;y!==d;y+=T)m.has(y)&&x.push({key:o,frame:y})}return x},get:function(o){return this.anims.get(o)},load:function(o,u,v){var d=this.get(u);return d?d.load(o,v):console.warn("Missing animation: "+u),o},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(r.PAUSE_ALL)),this},play:function(o,u){Array.isArray(u)||(u=[u]);var v=this.get(o);if(!v)return this;for(var d=0;d<u.length;d++)u[d].anims.play(o);return this},remove:function(o){var u=this.get(o);return u&&(this.emit(r.REMOVE_ANIMATION,o,u),this.anims.delete(o)),u},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(r.RESUME_ALL)),this},staggerPlay:function(o,u,v){v===void 0&&(v=0),Array.isArray(u)||(u=[u]);var d=this.get(o);if(!d)return this;for(var p=0;p<u.length;p++)u[p].anims.delayedPlay(v*p,o);return this},toJSON:function(o){var u={anims:[],globalTimeScale:this.globalTimeScale};return o!==void 0&&o!==""?u.anims.push(this.anims.get(o).toJSON()):this.anims.each(function(v,d){u.anims.push(d.toJSON())}),u},destroy:function(){this.anims.clear(),this.textureManager=null,this.game=null}});c.exports=a},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(162),h=t(10),i=t(291),r=new s({initialize:function(){this.entries=new f,this.events=new h},add:function(n,e){return this.entries.set(n,e),this.events.emit(i.ADD,this,n,e),this},has:function(n){return this.entries.has(n)},exists:function(n){return this.entries.has(n)},get:function(n){return this.entries.get(n)},remove:function(n){var e=this.get(n);return e&&(this.entries.delete(n),this.events.emit(i.REMOVE,this,n,e.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ADD:t(640),REMOVE:t(641)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(290),f=t(0),h=t(20),i=new f({initialize:function(n){this.game=n,this.binary=new s,this.bitmapFont=new s,this.json=new s,this.physics=new s,this.shader=new s,this.audio=new s,this.video=new s,this.text=new s,this.html=new s,this.obj=new s,this.tilemap=new s,this.xml=new s,this.custom={},this.game.events.once(h.DESTROY,this.destroy,this)},addCustom:function(r){return this.custom.hasOwnProperty(r)||(this.custom[r]=new s),this.custom[r]},destroy:function(){for(var r=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],n=0;n<r.length;n++)this[r[n]].destroy(),this[r[n]]=null;for(var e in this.custom)this.custom[e].destroy();this.custom=null,this.game=null}});c.exports=i},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(91),f=t(26),h=t(168),i=t(19),r=t(0),n=t(12),e=t(301),l=t(116),a=t(11),o=t(3),u=new r({Extends:s,Mixins:[n.Flip,n.Tint],initialize:function(d,p,x,g){s.call(this,d,p,x,g),this.inputEnabled=!0,this.fadeEffect=new e.Fade(this),this.flashEffect=new e.Flash(this),this.shakeEffect=new e.Shake(this),this.panEffect=new e.Pan(this),this.rotateToEffect=new e.RotateTo(this),this.zoomEffect=new e.Zoom(this),this.lerp=new o(1,1),this.followOffset=new o,this.deadzone=null,this._follow=null,this.renderToTexture=!1,this.renderToGame=!0,this.canvas=null,this.context=null,this.glTexture=null,this.framebuffer=null,this.pipeline=null},setRenderToTexture:function(v,d){d===void 0&&(d=!0);var p=this.scene.sys.game.renderer;return p.gl?(this.glTexture=p.createTextureFromSource(null,this.width,this.height,0),this.framebuffer=p.createFramebuffer(this.width,this.height,this.glTexture,!1)):(this.canvas=f.create2D(this,this.width,this.height),this.context=this.canvas.getContext("2d")),this.renderToTexture=!0,this.renderToGame=d,v&&this.setPipeline(v),this},setPipeline:function(v){if(typeof v=="string"){var d=this.scene.sys.game.renderer;d.gl&&d.hasPipeline(v)&&(this.pipeline=d.getPipeline(v))}else this.pipeline=v;return this},clearRenderToTexture:function(){if(this.scene){var v=this.scene.sys.game.renderer;if(v)return v.gl?(this.framebuffer&&v.deleteFramebuffer(this.framebuffer),this.glTexture&&v.deleteTexture(this.glTexture),this.framebuffer=null,this.glTexture=null,this.pipeline=null):(f.remove(this),this.canvas=null,this.context=null),this.renderToTexture=!1,this}},setDeadzone:function(v,d){if(v===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=v,this.deadzone.height=d):this.deadzone=new a(0,0,v,d),this._follow){var p=this.width/2,x=this.height/2,g=this._follow.x-this.followOffset.x,m=this._follow.y-this.followOffset.y;this.midPoint.set(g,m),this.scrollX=g-p,this.scrollY=m-x}h(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(v,d,p,x,g,m){return this.fadeEffect.start(!1,v,d,p,x,!0,g,m)},fadeOut:function(v,d,p,x,g,m){return this.fadeEffect.start(!0,v,d,p,x,!0,g,m)},fadeFrom:function(v,d,p,x,g,m,y){return this.fadeEffect.start(!1,v,d,p,x,g,m,y)},fade:function(v,d,p,x,g,m,y){return this.fadeEffect.start(!0,v,d,p,x,g,m,y)},flash:function(v,d,p,x,g,m,y){return this.flashEffect.start(v,d,p,x,g,m,y)},shake:function(v,d,p,x,g){return this.shakeEffect.start(v,d,p,x,g)},pan:function(v,d,p,x,g,m,y){return this.panEffect.start(v,d,p,x,g,m,y)},rotateTo:function(v,d,p,x,g,m,y){return this.rotateToEffect.start(v,d,p,x,g,m,y)},zoomTo:function(v,d,p,x,g,m){return this.zoomEffect.start(v,d,p,x,g,m)},preRender:function(v){var d=this.width,p=this.height,x=d*.5,g=p*.5,m=this.zoom*v,y=this.matrix,T=d*this.originX,S=p*this.originY,C=this._follow,P=this.deadzone,A=this.scrollX,M=this.scrollY;if(P&&h(P,this.midPoint.x,this.midPoint.y),C&&!this.panEffect.isRunning){var O=C.x-this.followOffset.x,I=C.y-this.followOffset.y;P?(O<P.x?A=l(A,A-(P.x-O),this.lerp.x):O>P.right&&(A=l(A,A+(O-P.right),this.lerp.x)),I<P.y?M=l(M,M-(P.y-I),this.lerp.y):I>P.bottom&&(M=l(M,M+(I-P.bottom),this.lerp.y))):(A=l(A,O-T,this.lerp.x),M=l(M,I-S,this.lerp.y))}this.useBounds&&(A=this.clampX(A),M=this.clampY(M)),this.roundPixels&&(T=Math.round(T),S=Math.round(S)),this.scrollX=A,this.scrollY=M;var B=A+x,G=M+g;this.midPoint.set(B,G);var z=d/m,N=p/m;this.worldView.setTo(B-z/2,G-N/2,z,N),y.applyITRS(this.x+T,this.y+S,this.rotation,m,m),y.translate(-T,-S),this.shakeEffect.preRender()},setLerp:function(v,d){return v===void 0&&(v=1),d===void 0&&(d=v),this.lerp.set(v,d),this},setFollowOffset:function(v,d){return v===void 0&&(v=0),d===void 0&&(d=0),this.followOffset.set(v,d),this},startFollow:function(v,d,p,x,g,m){d===void 0&&(d=!1),p===void 0&&(p=1),x===void 0&&(x=p),g===void 0&&(g=0),m===void 0&&(m=g),this._follow=v,this.roundPixels=d,p=i(p,0,1),x=i(x,0,1),this.lerp.set(p,x),this.followOffset.set(g,m);var y=this.width/2,T=this.height/2,S=v.x-g,C=v.y-m;return this.midPoint.set(S,C),this.scrollX=S-y,this.scrollY=C-T,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(v,d){this.visible&&(this.rotateToEffect.update(v,d),this.panEffect.update(v,d),this.zoomEffect.update(v,d),this.shakeEffect.update(v,d),this.flashEffect.update(v,d),this.fadeEffect.update(v,d))},destroy:function(){this.clearRenderToTexture(),this.resetFX(),s.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});c.exports=u},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(31),f=function(h){var i=new s;h=h.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(a,o,u,v){return o+o+u+u+v+v});var r=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(h);if(r){var n=parseInt(r[1],16),e=parseInt(r[2],16),l=parseInt(r[3],16);i.setTo(n,e,l)}return i};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i){return i<<24|s<<16|f<<8|h};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i){i===void 0&&(i={h:0,s:0,v:0}),s/=255,f/=255,h/=255;var r=Math.min(s,f,h),n=Math.max(s,f,h),e=n-r,l=0,a=n===0?0:e/n,o=n;return n!==r&&(n===s?l=(f-h)/e+(f<h?6:0):n===f?l=(h-s)/e+2:n===h&&(l=(s-f)/e+4),l/=6),i.hasOwnProperty("_h")?(i._h=l,i._s=a,i._v=o):(i.h=l,i.s=a,i.v=o),i};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(31),f=t(298),h=function(i){var r=f(i);return new s(r.r,r.g,r.b,r.a)};c.exports=h},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return s>16777215?{a:s>>>24,r:s>>16&255,g:s>>8&255,b:s&255}:{a:255,r:s>>16&255,g:s>>8&255,b:s&255}};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(31),f=function(h){return new s(h.r,h.g,h.b,h.a)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(31),f=function(h){var i=new s,r=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(h.toLowerCase());if(r){var n=parseInt(r[1],10),e=parseInt(r[2],10),l=parseInt(r[3],10),a=r[4]!==void 0?parseFloat(r[4]):1;i.setTo(n,e,l,a*255)}return i};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Fade:t(664),Flash:t(665),Pan:t(666),Shake:t(699),RotateTo:t(700),Zoom:t(701)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(667),Out:t(668),InOut:t(669)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(670),Out:t(671),InOut:t(672)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(673),Out:t(674),InOut:t(675)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(676),Out:t(677),InOut:t(678)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(679),Out:t(680),InOut:t(681)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(682),Out:t(683),InOut:t(684)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports=t(685)},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(686),Out:t(687),InOut:t(688)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(689),Out:t(690),InOut:t(691)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(692),Out:t(693),InOut:t(694)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={In:t(695),Out:t(696),InOut:t(697)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports=t(698)},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(33),h=t(315),i=t(2),r=t(6),n=t(7),e=t(170),l=t(1),a=t(175),o=t(164),u=new s({initialize:function(d){d===void 0&&(d={});var p=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],x="#ffffff";this.width=r(d,"width",1024),this.height=r(d,"height",768),this.zoom=r(d,"zoom",1),this.resolution=r(d,"resolution",1),this.parent=r(d,"parent",void 0),this.scaleMode=r(d,"scaleMode",0),this.expandParent=r(d,"expandParent",!0),this.autoRound=r(d,"autoRound",!1),this.autoCenter=r(d,"autoCenter",0),this.resizeInterval=r(d,"resizeInterval",500),this.fullscreenTarget=r(d,"fullscreenTarget",null),this.minWidth=r(d,"minWidth",0),this.maxWidth=r(d,"maxWidth",0),this.minHeight=r(d,"minHeight",0),this.maxHeight=r(d,"maxHeight",0);var g=r(d,"scale",null);g&&(this.width=r(g,"width",this.width),this.height=r(g,"height",this.height),this.zoom=r(g,"zoom",this.zoom),this.resolution=r(g,"resolution",this.resolution),this.parent=r(g,"parent",this.parent),this.scaleMode=r(g,"mode",this.scaleMode),this.expandParent=r(g,"expandParent",this.expandParent),this.autoRound=r(g,"autoRound",this.autoRound),this.autoCenter=r(g,"autoCenter",this.autoCenter),this.resizeInterval=r(g,"resizeInterval",this.resizeInterval),this.fullscreenTarget=r(g,"fullscreenTarget",this.fullscreenTarget),this.minWidth=r(g,"min.width",this.minWidth),this.maxWidth=r(g,"max.width",this.maxWidth),this.minHeight=r(g,"min.height",this.minHeight),this.maxHeight=r(g,"max.height",this.maxHeight)),this.renderType=r(d,"type",f.AUTO),this.canvas=r(d,"canvas",null),this.context=r(d,"context",null),this.canvasStyle=r(d,"canvasStyle",null),this.customEnvironment=r(d,"customEnvironment",!1),this.sceneConfig=r(d,"scene",null),this.seed=r(d,"seed",[(Date.now()*Math.random()).toString()]),e.RND=new e.RandomDataGenerator(this.seed),this.gameTitle=r(d,"title",""),this.gameURL=r(d,"url","https://phaser.io"),this.gameVersion=r(d,"version",""),this.autoFocus=r(d,"autoFocus",!0),this.domCreateContainer=r(d,"dom.createContainer",!1),this.domBehindCanvas=r(d,"dom.behindCanvas",!1),this.inputKeyboard=r(d,"input.keyboard",!0),this.inputKeyboardEventTarget=r(d,"input.keyboard.target",window),this.inputKeyboardCapture=r(d,"input.keyboard.capture",[]),this.inputMouse=r(d,"input.mouse",!0),this.inputMouseEventTarget=r(d,"input.mouse.target",null),this.inputMouseCapture=r(d,"input.mouse.capture",!0),this.inputTouch=r(d,"input.touch",h.input.touch),this.inputTouchEventTarget=r(d,"input.touch.target",null),this.inputTouchCapture=r(d,"input.touch.capture",!0),this.inputActivePointers=r(d,"input.activePointers",1),this.inputSmoothFactor=r(d,"input.smoothFactor",0),this.inputWindowEvents=r(d,"input.windowEvents",!0),this.inputGamepad=r(d,"input.gamepad",!1),this.inputGamepadEventTarget=r(d,"input.gamepad.target",window),this.disableContextMenu=r(d,"disableContextMenu",!1),this.audio=r(d,"audio"),this.hideBanner=r(d,"banner",null)===!1,this.hidePhaser=r(d,"banner.hidePhaser",!1),this.bannerTextColor=r(d,"banner.text",x),this.bannerBackgroundColor=r(d,"banner.background",p),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=r(d,"fps",null);var m=r(d,"render",d);this.antialias=r(m,"antialias",!0),this.antialiasGL=r(m,"antialiasGL",!0),this.mipmapFilter=r(m,"mipmapFilter","LINEAR"),this.desynchronized=r(m,"desynchronized",!1),this.roundPixels=r(m,"roundPixels",!1),this.pixelArt=r(m,"pixelArt",this.zoom!==1),this.pixelArt&&(this.antialias=!1,this.roundPixels=!0),this.transparent=r(m,"transparent",!1),this.clearBeforeRender=r(m,"clearBeforeRender",!0),this.premultipliedAlpha=r(m,"premultipliedAlpha",!0),this.failIfMajorPerformanceCaveat=r(m,"failIfMajorPerformanceCaveat",!1),this.powerPreference=r(m,"powerPreference","default"),this.batchSize=r(m,"batchSize",2e3),this.maxLights=r(m,"maxLights",10);var y=r(d,"backgroundColor",0);this.backgroundColor=o(y),y===0&&this.transparent&&(this.backgroundColor.alpha=0),this.preBoot=r(d,"callbacks.preBoot",l),this.postBoot=r(d,"callbacks.postBoot",l),this.physics=r(d,"physics",{}),this.defaultPhysicsSystem=r(this.physics,"default",!1),this.loaderBaseURL=r(d,"loader.baseURL",""),this.loaderPath=r(d,"loader.path",""),this.loaderMaxParallelDownloads=r(d,"loader.maxParallelDownloads",32),this.loaderCrossOrigin=r(d,"loader.crossOrigin",void 0),this.loaderResponseType=r(d,"loader.responseType",""),this.loaderAsync=r(d,"loader.async",!0),this.loaderUser=r(d,"loader.user",""),this.loaderPassword=r(d,"loader.password",""),this.loaderTimeout=r(d,"loader.timeout",0),this.loaderWithCredentials=r(d,"loader.withCredentials",!1),this.installGlobalPlugins=[],this.installScenePlugins=[];var T=r(d,"plugins",null),S=a.DefaultScene;T&&(Array.isArray(T)?this.defaultPlugins=T:n(T)&&(this.installGlobalPlugins=i(T,"global",[]),this.installScenePlugins=i(T,"scene",[]),Array.isArray(T.default)?S=T.default:Array.isArray(T.defaultMerge)&&(S=S.concat(T.defaultMerge)))),this.defaultPlugins=S;var C="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=r(d,"images.default",C+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=r(d,"images.missing",C+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),window&&(window.FORCE_WEBGL?this.renderType=f.WEBGL:window.FORCE_CANVAS&&(this.renderType=f.CANVAS))}});c.exports=u},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={os:t(117),browser:t(118),features:t(169),input:t(730),audio:t(731),video:t(732),fullscreen:t(733),canvasFeatures:t(316)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(26),f={supportInverseAlpha:!1,supportNewBlendModes:!1};function h(){var n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",e="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",l=new Image;return l.onload=function(){var a=new Image;a.onload=function(){var o=s.create(a,6,1),u=o.getContext("2d");if(u.globalCompositeOperation="multiply",u.drawImage(l,0,0),u.drawImage(a,2,0),!u.getImageData(2,0,1,1))return!1;var v=u.getImageData(2,0,1,1).data;s.remove(a),f.supportNewBlendModes=v[0]===255&&v[1]===0&&v[2]===0},a.src=n+"/wCKxvRF"+e},l.src=n+"AP804Oa6"+e,!1}function i(){var n=s.create(this,2,1),e=n.getContext("2d");e.fillStyle="rgba(10, 20, 30, 0.5)",e.fillRect(0,0,1,1);var l=e.getImageData(0,0,1,1);if(l===null)return!1;e.putImageData(l,1,0);var a=e.getImageData(1,0,1,1);return a.data[0]===l.data[0]&&a.data[1]===l.data[1]&&a.data[2]===l.data[2]&&a.data[3]===l.data[3]}function r(){return document!==void 0&&(f.supportNewBlendModes=h(),f.supportInverseAlpha=i()),f}c.exports=r()},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i){return Math.atan2(i-f,h-s)};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){return Math.atan2(f.y-s.y,f.x-s.x)};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return s=s%(2*Math.PI),s>=0?s:s+2*Math.PI};c.exports=t},function(c,E){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){var h=s.x-f.x,i=s.y-f.y;return Math.sqrt(h*h+i*i)};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i){var r=s-h,n=f-i;return r*r+n*n};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){return h===void 0&&(h=1e-4),s>f-h};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){return h===void 0&&(h=1e-4),s<f+h};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(325),f=function(h,i){return s(h)/s(i)/s(h-i)};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){if(s===0)return 1;for(var f=s;--s;)f*=s;return f};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(r,n){var e=1-r;return e*e*e*n}function s(r,n){var e=1-r;return 3*e*e*r*n}function f(r,n){return 3*(1-r)*r*r*n}function h(r,n){return r*r*r*n}var i=function(r,n,e,l,a){return t(r,n)+s(r,e)+f(r,l)+h(r,a)};c.exports=i},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(i,r){var n=1-i;return n*n*r}function s(i,r){return 2*(1-i)*i*r}function f(i,r){return i*i*r}var h=function(i,r,n,e){return t(i,r)+s(i,n)+f(i,e)};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(161),f=function(h,i,r){return i+(r-i)*s(h,0,1)};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){var f=Math.log(s)/.6931471805599453;return 1<<Math.ceil(f)};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i){return h===void 0&&(h=0),f===0?s:(s-=h,s=f*Math.ceil(s/f),i?(h+s)/f:h+s)};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){var h=s.x,i=s.y;return s.x=h*Math.cos(f)-i*Math.sin(f),s.y=h*Math.sin(f)+i*Math.cos(f),s};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return s>0?Math.ceil(s):Math.floor(s)};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(3),f=function(h,i,r,n,e,l,a,o){o===void 0&&(o=new s);var u=Math.sin(e),v=Math.cos(e),d=v*l,p=u*l,x=-u*a,g=v*a,m=1/(d*g+x*-p);return o.x=g*m*h+-x*m*i+(n*x-r*g)*m,o.y=d*m*i+-p*m*h+(-n*d+r*p)*m,o};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=new s({initialize:function(i,r,n,e){this.x=0,this.y=0,this.z=0,this.w=0,typeof i=="object"?(this.x=i.x||0,this.y=i.y||0,this.z=i.z||0,this.w=i.w||0):(this.x=i||0,this.y=r||0,this.z=n||0,this.w=e||0)},clone:function(){return new f(this.x,this.y,this.z,this.w)},copy:function(h){return this.x=h.x,this.y=h.y,this.z=h.z||0,this.w=h.w||0,this},equals:function(h){return this.x===h.x&&this.y===h.y&&this.z===h.z&&this.w===h.w},set:function(h,i,r,n){return typeof h=="object"?(this.x=h.x||0,this.y=h.y||0,this.z=h.z||0,this.w=h.w||0):(this.x=h||0,this.y=i||0,this.z=r||0,this.w=n||0),this},add:function(h){return this.x+=h.x,this.y+=h.y,this.z+=h.z||0,this.w+=h.w||0,this},subtract:function(h){return this.x-=h.x,this.y-=h.y,this.z-=h.z||0,this.w-=h.w||0,this},scale:function(h){return this.x*=h,this.y*=h,this.z*=h,this.w*=h,this},length:function(){var h=this.x,i=this.y,r=this.z,n=this.w;return Math.sqrt(h*h+i*i+r*r+n*n)},lengthSq:function(){var h=this.x,i=this.y,r=this.z,n=this.w;return h*h+i*i+r*r+n*n},normalize:function(){var h=this.x,i=this.y,r=this.z,n=this.w,e=h*h+i*i+r*r+n*n;return e>0&&(e=1/Math.sqrt(e),this.x=h*e,this.y=i*e,this.z=r*e,this.w=n*e),this},dot:function(h){return this.x*h.x+this.y*h.y+this.z*h.z+this.w*h.w},lerp:function(h,i){i===void 0&&(i=0);var r=this.x,n=this.y,e=this.z,l=this.w;return this.x=r+i*(h.x-r),this.y=n+i*(h.y-n),this.z=e+i*(h.z-e),this.w=l+i*(h.w-l),this},multiply:function(h){return this.x*=h.x,this.y*=h.y,this.z*=h.z||1,this.w*=h.w||1,this},divide:function(h){return this.x/=h.x,this.y/=h.y,this.z/=h.z||1,this.w/=h.w||1,this},distance:function(h){var i=h.x-this.x,r=h.y-this.y,n=h.z-this.z||0,e=h.w-this.w||0;return Math.sqrt(i*i+r*r+n*n+e*e)},distanceSq:function(h){var i=h.x-this.x,r=h.y-this.y,n=h.z-this.z||0,e=h.w-this.w||0;return i*i+r*r+n*n+e*e},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(h){var i=this.x,r=this.y,n=this.z,e=this.w,l=h.val;return this.x=l[0]*i+l[4]*r+l[8]*n+l[12]*e,this.y=l[1]*i+l[5]*r+l[9]*n+l[13]*e,this.z=l[2]*i+l[6]*r+l[10]*n+l[14]*e,this.w=l[3]*i+l[7]*r+l[11]*n+l[15]*e,this},transformQuat:function(h){var i=this.x,r=this.y,n=this.z,e=h.x,l=h.y,a=h.z,o=h.w,u=o*i+l*n-a*r,v=o*r+a*i-e*n,d=o*n+e*r-l*i,p=-e*i-l*r-a*n;return this.x=u*o+p*-e+v*-a-d*-l,this.y=v*o+p*-l+d*-e-u*-a,this.z=d*o+p*-a+u*-l-v*-e,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});f.prototype.sub=f.prototype.subtract,f.prototype.mul=f.prototype.multiply,f.prototype.div=f.prototype.divide,f.prototype.dist=f.prototype.distance,f.prototype.distSq=f.prototype.distanceSq,f.prototype.len=f.prototype.length,f.prototype.lenSq=f.prototype.lengthSq,c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=new s({initialize:function(i){this.val=new Float32Array(9),i?this.copy(i):this.identity()},clone:function(){return new f(this)},set:function(h){return this.copy(h)},copy:function(h){var i=this.val,r=h.val;return i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],i[4]=r[4],i[5]=r[5],i[6]=r[6],i[7]=r[7],i[8]=r[8],this},fromMat4:function(h){var i=h.val,r=this.val;return r[0]=i[0],r[1]=i[1],r[2]=i[2],r[3]=i[4],r[4]=i[5],r[5]=i[6],r[6]=i[8],r[7]=i[9],r[8]=i[10],this},fromArray:function(h){var i=this.val;return i[0]=h[0],i[1]=h[1],i[2]=h[2],i[3]=h[3],i[4]=h[4],i[5]=h[5],i[6]=h[6],i[7]=h[7],i[8]=h[8],this},identity:function(){var h=this.val;return h[0]=1,h[1]=0,h[2]=0,h[3]=0,h[4]=1,h[5]=0,h[6]=0,h[7]=0,h[8]=1,this},transpose:function(){var h=this.val,i=h[1],r=h[2],n=h[5];return h[1]=h[3],h[2]=h[6],h[3]=i,h[5]=h[7],h[6]=r,h[7]=n,this},invert:function(){var h=this.val,i=h[0],r=h[1],n=h[2],e=h[3],l=h[4],a=h[5],o=h[6],u=h[7],v=h[8],d=v*l-a*u,p=-v*e+a*o,x=u*e-l*o,g=i*d+r*p+n*x;return g?(g=1/g,h[0]=d*g,h[1]=(-v*r+n*u)*g,h[2]=(a*r-n*l)*g,h[3]=p*g,h[4]=(v*i-n*o)*g,h[5]=(-a*i+n*e)*g,h[6]=x*g,h[7]=(-u*i+r*o)*g,h[8]=(l*i-r*e)*g,this):null},adjoint:function(){var h=this.val,i=h[0],r=h[1],n=h[2],e=h[3],l=h[4],a=h[5],o=h[6],u=h[7],v=h[8];return h[0]=l*v-a*u,h[1]=n*u-r*v,h[2]=r*a-n*l,h[3]=a*o-e*v,h[4]=i*v-n*o,h[5]=n*e-i*a,h[6]=e*u-l*o,h[7]=r*o-i*u,h[8]=i*l-r*e,this},determinant:function(){var h=this.val,i=h[0],r=h[1],n=h[2],e=h[3],l=h[4],a=h[5],o=h[6],u=h[7],v=h[8];return i*(v*l-a*u)+r*(-v*e+a*o)+n*(u*e-l*o)},multiply:function(h){var i=this.val,r=i[0],n=i[1],e=i[2],l=i[3],a=i[4],o=i[5],u=i[6],v=i[7],d=i[8],p=h.val,x=p[0],g=p[1],m=p[2],y=p[3],T=p[4],S=p[5],C=p[6],P=p[7],A=p[8];return i[0]=x*r+g*l+m*u,i[1]=x*n+g*a+m*v,i[2]=x*e+g*o+m*d,i[3]=y*r+T*l+S*u,i[4]=y*n+T*a+S*v,i[5]=y*e+T*o+S*d,i[6]=C*r+P*l+A*u,i[7]=C*n+P*a+A*v,i[8]=C*e+P*o+A*d,this},translate:function(h){var i=this.val,r=h.x,n=h.y;return i[6]=r*i[0]+n*i[3]+i[6],i[7]=r*i[1]+n*i[4]+i[7],i[8]=r*i[2]+n*i[5]+i[8],this},rotate:function(h){var i=this.val,r=i[0],n=i[1],e=i[2],l=i[3],a=i[4],o=i[5],u=Math.sin(h),v=Math.cos(h);return i[0]=v*r+u*l,i[1]=v*n+u*a,i[2]=v*e+u*o,i[3]=v*l-u*r,i[4]=v*a-u*n,i[5]=v*o-u*e,this},scale:function(h){var i=this.val,r=h.x,n=h.y;return i[0]=r*i[0],i[1]=r*i[1],i[2]=r*i[2],i[3]=n*i[3],i[4]=n*i[4],i[5]=n*i[5],this},fromQuat:function(h){var i=h.x,r=h.y,n=h.z,e=h.w,l=i+i,a=r+r,o=n+n,u=i*l,v=i*a,d=i*o,p=r*a,x=r*o,g=n*o,m=e*l,y=e*a,T=e*o,S=this.val;return S[0]=1-(p+g),S[3]=v+T,S[6]=d-y,S[1]=v-T,S[4]=1-(u+g),S[7]=x+m,S[2]=d+y,S[5]=x-m,S[8]=1-(u+p),this},normalFromMat4:function(h){var i=h.val,r=this.val,n=i[0],e=i[1],l=i[2],a=i[3],o=i[4],u=i[5],v=i[6],d=i[7],p=i[8],x=i[9],g=i[10],m=i[11],y=i[12],T=i[13],S=i[14],C=i[15],P=n*u-e*o,A=n*v-l*o,M=n*d-a*o,O=e*v-l*u,I=e*d-a*u,B=l*d-a*v,G=p*T-x*y,z=p*S-g*y,N=p*C-m*y,L=x*S-g*T,R=x*C-m*T,F=g*C-m*S,Y=P*F-A*R+M*L+O*N-I*z+B*G;return Y?(Y=1/Y,r[0]=(u*F-v*R+d*L)*Y,r[1]=(v*N-o*F-d*z)*Y,r[2]=(o*R-u*N+d*G)*Y,r[3]=(l*R-e*F-a*L)*Y,r[4]=(n*F-l*N+a*z)*Y,r[5]=(e*N-n*R-a*G)*Y,r[6]=(T*B-S*I+C*O)*Y,r[7]=(S*M-y*B-C*A)*Y,r[8]=(y*I-T*M+C*P)*Y,this):null}});c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=1e-6,h=new s({initialize:function(e){this.val=new Float32Array(16),e?this.copy(e):this.identity()},clone:function(){return new h(this)},set:function(n){return this.copy(n)},copy:function(n){var e=this.val,l=n.val;return e[0]=l[0],e[1]=l[1],e[2]=l[2],e[3]=l[3],e[4]=l[4],e[5]=l[5],e[6]=l[6],e[7]=l[7],e[8]=l[8],e[9]=l[9],e[10]=l[10],e[11]=l[11],e[12]=l[12],e[13]=l[13],e[14]=l[14],e[15]=l[15],this},fromArray:function(n){var e=this.val;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this},zero:function(){var n=this.val;return n[0]=0,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=0,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=0,this},xyz:function(n,e,l){this.identity();var a=this.val;return a[12]=n,a[13]=e,a[14]=l,this},scaling:function(n,e,l){this.zero();var a=this.val;return a[0]=n,a[5]=e,a[10]=l,a[15]=1,this},identity:function(){var n=this.val;return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this},transpose:function(){var n=this.val,e=n[1],l=n[2],a=n[3],o=n[6],u=n[7],v=n[11];return n[1]=n[4],n[2]=n[8],n[3]=n[12],n[4]=e,n[6]=n[9],n[7]=n[13],n[8]=l,n[9]=o,n[11]=n[14],n[12]=a,n[13]=u,n[14]=v,this},invert:function(){var n=this.val,e=n[0],l=n[1],a=n[2],o=n[3],u=n[4],v=n[5],d=n[6],p=n[7],x=n[8],g=n[9],m=n[10],y=n[11],T=n[12],S=n[13],C=n[14],P=n[15],A=e*v-l*u,M=e*d-a*u,O=e*p-o*u,I=l*d-a*v,B=l*p-o*v,G=a*p-o*d,z=x*S-g*T,N=x*C-m*T,L=x*P-y*T,R=g*C-m*S,F=g*P-y*S,Y=m*P-y*C,D=A*Y-M*F+O*R+I*L-B*N+G*z;return D?(D=1/D,n[0]=(v*Y-d*F+p*R)*D,n[1]=(a*F-l*Y-o*R)*D,n[2]=(S*G-C*B+P*I)*D,n[3]=(m*B-g*G-y*I)*D,n[4]=(d*L-u*Y-p*N)*D,n[5]=(e*Y-a*L+o*N)*D,n[6]=(C*O-T*G-P*M)*D,n[7]=(x*G-m*O+y*M)*D,n[8]=(u*F-v*L+p*z)*D,n[9]=(l*L-e*F-o*z)*D,n[10]=(T*B-S*O+P*A)*D,n[11]=(g*O-x*B-y*A)*D,n[12]=(v*N-u*R-d*z)*D,n[13]=(e*R-l*N+a*z)*D,n[14]=(S*M-T*I-C*A)*D,n[15]=(x*I-g*M+m*A)*D,this):null},adjoint:function(){var n=this.val,e=n[0],l=n[1],a=n[2],o=n[3],u=n[4],v=n[5],d=n[6],p=n[7],x=n[8],g=n[9],m=n[10],y=n[11],T=n[12],S=n[13],C=n[14],P=n[15];return n[0]=v*(m*P-y*C)-g*(d*P-p*C)+S*(d*y-p*m),n[1]=-(l*(m*P-y*C)-g*(a*P-o*C)+S*(a*y-o*m)),n[2]=l*(d*P-p*C)-v*(a*P-o*C)+S*(a*p-o*d),n[3]=-(l*(d*y-p*m)-v*(a*y-o*m)+g*(a*p-o*d)),n[4]=-(u*(m*P-y*C)-x*(d*P-p*C)+T*(d*y-p*m)),n[5]=e*(m*P-y*C)-x*(a*P-o*C)+T*(a*y-o*m),n[6]=-(e*(d*P-p*C)-u*(a*P-o*C)+T*(a*p-o*d)),n[7]=e*(d*y-p*m)-u*(a*y-o*m)+x*(a*p-o*d),n[8]=u*(g*P-y*S)-x*(v*P-p*S)+T*(v*y-p*g),n[9]=-(e*(g*P-y*S)-x*(l*P-o*S)+T*(l*y-o*g)),n[10]=e*(v*P-p*S)-u*(l*P-o*S)+T*(l*p-o*v),n[11]=-(e*(v*y-p*g)-u*(l*y-o*g)+x*(l*p-o*v)),n[12]=-(u*(g*C-m*S)-x*(v*C-d*S)+T*(v*m-d*g)),n[13]=e*(g*C-m*S)-x*(l*C-a*S)+T*(l*m-a*g),n[14]=-(e*(v*C-d*S)-u*(l*C-a*S)+T*(l*d-a*v)),n[15]=e*(v*m-d*g)-u*(l*m-a*g)+x*(l*d-a*v),this},determinant:function(){var n=this.val,e=n[0],l=n[1],a=n[2],o=n[3],u=n[4],v=n[5],d=n[6],p=n[7],x=n[8],g=n[9],m=n[10],y=n[11],T=n[12],S=n[13],C=n[14],P=n[15],A=e*v-l*u,M=e*d-a*u,O=e*p-o*u,I=l*d-a*v,B=l*p-o*v,G=a*p-o*d,z=x*S-g*T,N=x*C-m*T,L=x*P-y*T,R=g*C-m*S,F=g*P-y*S,Y=m*P-y*C;return A*Y-M*F+O*R+I*L-B*N+G*z},multiply:function(n){var e=this.val,l=e[0],a=e[1],o=e[2],u=e[3],v=e[4],d=e[5],p=e[6],x=e[7],g=e[8],m=e[9],y=e[10],T=e[11],S=e[12],C=e[13],P=e[14],A=e[15],M=n.val,O=M[0],I=M[1],B=M[2],G=M[3];return e[0]=O*l+I*v+B*g+G*S,e[1]=O*a+I*d+B*m+G*C,e[2]=O*o+I*p+B*y+G*P,e[3]=O*u+I*x+B*T+G*A,O=M[4],I=M[5],B=M[6],G=M[7],e[4]=O*l+I*v+B*g+G*S,e[5]=O*a+I*d+B*m+G*C,e[6]=O*o+I*p+B*y+G*P,e[7]=O*u+I*x+B*T+G*A,O=M[8],I=M[9],B=M[10],G=M[11],e[8]=O*l+I*v+B*g+G*S,e[9]=O*a+I*d+B*m+G*C,e[10]=O*o+I*p+B*y+G*P,e[11]=O*u+I*x+B*T+G*A,O=M[12],I=M[13],B=M[14],G=M[15],e[12]=O*l+I*v+B*g+G*S,e[13]=O*a+I*d+B*m+G*C,e[14]=O*o+I*p+B*y+G*P,e[15]=O*u+I*x+B*T+G*A,this},multiplyLocal:function(n){var e=[],l=this.val,a=n.val;return e[0]=l[0]*a[0]+l[1]*a[4]+l[2]*a[8]+l[3]*a[12],e[1]=l[0]*a[1]+l[1]*a[5]+l[2]*a[9]+l[3]*a[13],e[2]=l[0]*a[2]+l[1]*a[6]+l[2]*a[10]+l[3]*a[14],e[3]=l[0]*a[3]+l[1]*a[7]+l[2]*a[11]+l[3]*a[15],e[4]=l[4]*a[0]+l[5]*a[4]+l[6]*a[8]+l[7]*a[12],e[5]=l[4]*a[1]+l[5]*a[5]+l[6]*a[9]+l[7]*a[13],e[6]=l[4]*a[2]+l[5]*a[6]+l[6]*a[10]+l[7]*a[14],e[7]=l[4]*a[3]+l[5]*a[7]+l[6]*a[11]+l[7]*a[15],e[8]=l[8]*a[0]+l[9]*a[4]+l[10]*a[8]+l[11]*a[12],e[9]=l[8]*a[1]+l[9]*a[5]+l[10]*a[9]+l[11]*a[13],e[10]=l[8]*a[2]+l[9]*a[6]+l[10]*a[10]+l[11]*a[14],e[11]=l[8]*a[3]+l[9]*a[7]+l[10]*a[11]+l[11]*a[15],e[12]=l[12]*a[0]+l[13]*a[4]+l[14]*a[8]+l[15]*a[12],e[13]=l[12]*a[1]+l[13]*a[5]+l[14]*a[9]+l[15]*a[13],e[14]=l[12]*a[2]+l[13]*a[6]+l[14]*a[10]+l[15]*a[14],e[15]=l[12]*a[3]+l[13]*a[7]+l[14]*a[11]+l[15]*a[15],this.fromArray(e)},translate:function(n){var e=n.x,l=n.y,a=n.z,o=this.val;return o[12]=o[0]*e+o[4]*l+o[8]*a+o[12],o[13]=o[1]*e+o[5]*l+o[9]*a+o[13],o[14]=o[2]*e+o[6]*l+o[10]*a+o[14],o[15]=o[3]*e+o[7]*l+o[11]*a+o[15],this},translateXYZ:function(n,e,l){var a=this.val;return a[12]=a[0]*n+a[4]*e+a[8]*l+a[12],a[13]=a[1]*n+a[5]*e+a[9]*l+a[13],a[14]=a[2]*n+a[6]*e+a[10]*l+a[14],a[15]=a[3]*n+a[7]*e+a[11]*l+a[15],this},scale:function(n){var e=n.x,l=n.y,a=n.z,o=this.val;return o[0]=o[0]*e,o[1]=o[1]*e,o[2]=o[2]*e,o[3]=o[3]*e,o[4]=o[4]*l,o[5]=o[5]*l,o[6]=o[6]*l,o[7]=o[7]*l,o[8]=o[8]*a,o[9]=o[9]*a,o[10]=o[10]*a,o[11]=o[11]*a,this},scaleXYZ:function(n,e,l){var a=this.val;return a[0]=a[0]*n,a[1]=a[1]*n,a[2]=a[2]*n,a[3]=a[3]*n,a[4]=a[4]*e,a[5]=a[5]*e,a[6]=a[6]*e,a[7]=a[7]*e,a[8]=a[8]*l,a[9]=a[9]*l,a[10]=a[10]*l,a[11]=a[11]*l,this},makeRotationAxis:function(n,e){var l=Math.cos(e),a=Math.sin(e),o=1-l,u=n.x,v=n.y,d=n.z,p=o*u,x=o*v;return this.fromArray([p*u+l,p*v-a*d,p*d+a*v,0,p*v+a*d,x*v+l,x*d-a*u,0,p*d-a*v,x*d+a*u,o*d*d+l,0,0,0,0,1]),this},rotate:function(n,e){var l=this.val,a=e.x,o=e.y,u=e.z,v=Math.sqrt(a*a+o*o+u*u);if(Math.abs(v)<f)return null;v=1/v,a*=v,o*=v,u*=v;var d=Math.sin(n),p=Math.cos(n),x=1-p,g=l[0],m=l[1],y=l[2],T=l[3],S=l[4],C=l[5],P=l[6],A=l[7],M=l[8],O=l[9],I=l[10],B=l[11],G=a*a*x+p,z=o*a*x+u*d,N=u*a*x-o*d,L=a*o*x-u*d,R=o*o*x+p,F=u*o*x+a*d,Y=a*u*x+o*d,D=o*u*x-a*d,X=u*u*x+p;return l[0]=g*G+S*z+M*N,l[1]=m*G+C*z+O*N,l[2]=y*G+P*z+I*N,l[3]=T*G+A*z+B*N,l[4]=g*L+S*R+M*F,l[5]=m*L+C*R+O*F,l[6]=y*L+P*R+I*F,l[7]=T*L+A*R+B*F,l[8]=g*Y+S*D+M*X,l[9]=m*Y+C*D+O*X,l[10]=y*Y+P*D+I*X,l[11]=T*Y+A*D+B*X,this},rotateX:function(n){var e=this.val,l=Math.sin(n),a=Math.cos(n),o=e[4],u=e[5],v=e[6],d=e[7],p=e[8],x=e[9],g=e[10],m=e[11];return e[4]=o*a+p*l,e[5]=u*a+x*l,e[6]=v*a+g*l,e[7]=d*a+m*l,e[8]=p*a-o*l,e[9]=x*a-u*l,e[10]=g*a-v*l,e[11]=m*a-d*l,this},rotateY:function(n){var e=this.val,l=Math.sin(n),a=Math.cos(n),o=e[0],u=e[1],v=e[2],d=e[3],p=e[8],x=e[9],g=e[10],m=e[11];return e[0]=o*a-p*l,e[1]=u*a-x*l,e[2]=v*a-g*l,e[3]=d*a-m*l,e[8]=o*l+p*a,e[9]=u*l+x*a,e[10]=v*l+g*a,e[11]=d*l+m*a,this},rotateZ:function(n){var e=this.val,l=Math.sin(n),a=Math.cos(n),o=e[0],u=e[1],v=e[2],d=e[3],p=e[4],x=e[5],g=e[6],m=e[7];return e[0]=o*a+p*l,e[1]=u*a+x*l,e[2]=v*a+g*l,e[3]=d*a+m*l,e[4]=p*a-o*l,e[5]=x*a-u*l,e[6]=g*a-v*l,e[7]=m*a-d*l,this},fromRotationTranslation:function(n,e){var l=this.val,a=n.x,o=n.y,u=n.z,v=n.w,d=a+a,p=o+o,x=u+u,g=a*d,m=a*p,y=a*x,T=o*p,S=o*x,C=u*x,P=v*d,A=v*p,M=v*x;return l[0]=1-(T+C),l[1]=m+M,l[2]=y-A,l[3]=0,l[4]=m-M,l[5]=1-(g+C),l[6]=S+P,l[7]=0,l[8]=y+A,l[9]=S-P,l[10]=1-(g+T),l[11]=0,l[12]=e.x,l[13]=e.y,l[14]=e.z,l[15]=1,this},fromQuat:function(n){var e=this.val,l=n.x,a=n.y,o=n.z,u=n.w,v=l+l,d=a+a,p=o+o,x=l*v,g=l*d,m=l*p,y=a*d,T=a*p,S=o*p,C=u*v,P=u*d,A=u*p;return e[0]=1-(y+S),e[1]=g+A,e[2]=m-P,e[3]=0,e[4]=g-A,e[5]=1-(x+S),e[6]=T+C,e[7]=0,e[8]=m+P,e[9]=T-C,e[10]=1-(x+y),e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},frustum:function(n,e,l,a,o,u){var v=this.val,d=1/(e-n),p=1/(a-l),x=1/(o-u);return v[0]=o*2*d,v[1]=0,v[2]=0,v[3]=0,v[4]=0,v[5]=o*2*p,v[6]=0,v[7]=0,v[8]=(e+n)*d,v[9]=(a+l)*p,v[10]=(u+o)*x,v[11]=-1,v[12]=0,v[13]=0,v[14]=u*o*2*x,v[15]=0,this},perspective:function(n,e,l,a){var o=this.val,u=1/Math.tan(n/2),v=1/(l-a);return o[0]=u/e,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=u,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=(a+l)*v,o[11]=-1,o[12]=0,o[13]=0,o[14]=2*a*l*v,o[15]=0,this},perspectiveLH:function(n,e,l,a){var o=this.val;return o[0]=2*l/n,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=2*l/e,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=-a/(l-a),o[11]=1,o[12]=0,o[13]=0,o[14]=l*a/(l-a),o[15]=0,this},ortho:function(n,e,l,a,o,u){var v=this.val,d=n-e,p=l-a,x=o-u;return d=d===0?d:1/d,p=p===0?p:1/p,x=x===0?x:1/x,v[0]=-2*d,v[1]=0,v[2]=0,v[3]=0,v[4]=0,v[5]=-2*p,v[6]=0,v[7]=0,v[8]=0,v[9]=0,v[10]=2*x,v[11]=0,v[12]=(n+e)*d,v[13]=(a+l)*p,v[14]=(u+o)*x,v[15]=1,this},lookAt:function(n,e,l){var a=this.val,o=n.x,u=n.y,v=n.z,d=l.x,p=l.y,x=l.z,g=e.x,m=e.y,y=e.z;if(Math.abs(o-g)<f&&Math.abs(u-m)<f&&Math.abs(v-y)<f)return this.identity();var T=o-g,S=u-m,C=v-y,P=1/Math.sqrt(T*T+S*S+C*C);T*=P,S*=P,C*=P;var A=p*C-x*S,M=x*T-d*C,O=d*S-p*T;P=Math.sqrt(A*A+M*M+O*O),P?(P=1/P,A*=P,M*=P,O*=P):(A=0,M=0,O=0);var I=S*O-C*M,B=C*A-T*O,G=T*M-S*A;return P=Math.sqrt(I*I+B*B+G*G),P?(P=1/P,I*=P,B*=P,G*=P):(I=0,B=0,G=0),a[0]=A,a[1]=I,a[2]=T,a[3]=0,a[4]=M,a[5]=B,a[6]=S,a[7]=0,a[8]=O,a[9]=G,a[10]=C,a[11]=0,a[12]=-(A*o+M*u+O*v),a[13]=-(I*o+B*u+G*v),a[14]=-(T*o+S*u+C*v),a[15]=1,this},yawPitchRoll:function(n,e,l){this.zero(),i.zero(),r.zero();var a=this.val,o=i.val,u=r.val,v=Math.sin(l),d=Math.cos(l);return a[10]=1,a[15]=1,a[0]=d,a[1]=v,a[4]=-v,a[5]=d,v=Math.sin(e),d=Math.cos(e),o[0]=1,o[15]=1,o[5]=d,o[10]=d,o[9]=-v,o[6]=v,v=Math.sin(n),d=Math.cos(n),u[5]=1,u[15]=1,u[0]=d,u[2]=-v,u[8]=v,u[10]=d,this.multiplyLocal(i),this.multiplyLocal(r),this},setWorldMatrix:function(n,e,l,a,o){return this.yawPitchRoll(n.y,n.x,n.z),i.scaling(l.x,l.y,l.z),r.xyz(e.x,e.y,e.z),this.multiplyLocal(i),this.multiplyLocal(r),a!==void 0&&this.multiplyLocal(a),o!==void 0&&this.multiplyLocal(o),this}}),i=new h,r=new h;c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(174),h=t(335),i=1e-6,r=new Int8Array([1,2,0]),n=new Float32Array([0,0,0]),e=new f(1,0,0),l=new f(0,1,0),a=new f,o=new h,u=new s({initialize:function(d,p,x,g){typeof d=="object"?(this.x=d.x||0,this.y=d.y||0,this.z=d.z||0,this.w=d.w||0):(this.x=d||0,this.y=p||0,this.z=x||0,this.w=g||0)},copy:function(v){return this.x=v.x,this.y=v.y,this.z=v.z,this.w=v.w,this},set:function(v,d,p,x){return typeof v=="object"?(this.x=v.x||0,this.y=v.y||0,this.z=v.z||0,this.w=v.w||0):(this.x=v||0,this.y=d||0,this.z=p||0,this.w=x||0),this},add:function(v){return this.x+=v.x,this.y+=v.y,this.z+=v.z,this.w+=v.w,this},subtract:function(v){return this.x-=v.x,this.y-=v.y,this.z-=v.z,this.w-=v.w,this},scale:function(v){return this.x*=v,this.y*=v,this.z*=v,this.w*=v,this},length:function(){var v=this.x,d=this.y,p=this.z,x=this.w;return Math.sqrt(v*v+d*d+p*p+x*x)},lengthSq:function(){var v=this.x,d=this.y,p=this.z,x=this.w;return v*v+d*d+p*p+x*x},normalize:function(){var v=this.x,d=this.y,p=this.z,x=this.w,g=v*v+d*d+p*p+x*x;return g>0&&(g=1/Math.sqrt(g),this.x=v*g,this.y=d*g,this.z=p*g,this.w=x*g),this},dot:function(v){return this.x*v.x+this.y*v.y+this.z*v.z+this.w*v.w},lerp:function(v,d){d===void 0&&(d=0);var p=this.x,x=this.y,g=this.z,m=this.w;return this.x=p+d*(v.x-p),this.y=x+d*(v.y-x),this.z=g+d*(v.z-g),this.w=m+d*(v.w-m),this},rotationTo:function(v,d){var p=v.x*d.x+v.y*d.y+v.z*d.z;return p<-.999999?(a.copy(e).cross(v).length()<i&&a.copy(l).cross(v),a.normalize(),this.setAxisAngle(a,Math.PI)):p>.999999?(this.x=0,this.y=0,this.z=0,this.w=1,this):(a.copy(v).cross(d),this.x=a.x,this.y=a.y,this.z=a.z,this.w=1+p,this.normalize())},setAxes:function(v,d,p){var x=o.val;return x[0]=d.x,x[3]=d.y,x[6]=d.z,x[1]=p.x,x[4]=p.y,x[7]=p.z,x[2]=-v.x,x[5]=-v.y,x[8]=-v.z,this.fromMat3(o).normalize()},identity:function(){return this.x=0,this.y=0,this.z=0,this.w=1,this},setAxisAngle:function(v,d){d=d*.5;var p=Math.sin(d);return this.x=p*v.x,this.y=p*v.y,this.z=p*v.z,this.w=Math.cos(d),this},multiply:function(v){var d=this.x,p=this.y,x=this.z,g=this.w,m=v.x,y=v.y,T=v.z,S=v.w;return this.x=d*S+g*m+p*T-x*y,this.y=p*S+g*y+x*m-d*T,this.z=x*S+g*T+d*y-p*m,this.w=g*S-d*m-p*y-x*T,this},slerp:function(v,d){var p=this.x,x=this.y,g=this.z,m=this.w,y=v.x,T=v.y,S=v.z,C=v.w,P=p*y+x*T+g*S+m*C;P<0&&(P=-P,y=-y,T=-T,S=-S,C=-C);var A=1-d,M=d;if(1-P>i){var O=Math.acos(P),I=Math.sin(O);A=Math.sin((1-d)*O)/I,M=Math.sin(d*O)/I}return this.x=A*p+M*y,this.y=A*x+M*T,this.z=A*g+M*S,this.w=A*m+M*C,this},invert:function(){var v=this.x,d=this.y,p=this.z,x=this.w,g=v*v+d*d+p*p+x*x,m=g?1/g:0;return this.x=-v*m,this.y=-d*m,this.z=-p*m,this.w=x*m,this},conjugate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},rotateX:function(v){v*=.5;var d=this.x,p=this.y,x=this.z,g=this.w,m=Math.sin(v),y=Math.cos(v);return this.x=d*y+g*m,this.y=p*y+x*m,this.z=x*y-p*m,this.w=g*y-d*m,this},rotateY:function(v){v*=.5;var d=this.x,p=this.y,x=this.z,g=this.w,m=Math.sin(v),y=Math.cos(v);return this.x=d*y-x*m,this.y=p*y+g*m,this.z=x*y+d*m,this.w=g*y-p*m,this},rotateZ:function(v){v*=.5;var d=this.x,p=this.y,x=this.z,g=this.w,m=Math.sin(v),y=Math.cos(v);return this.x=d*y+p*m,this.y=p*y-d*m,this.z=x*y+g*m,this.w=g*y-x*m,this},calculateW:function(){var v=this.x,d=this.y,p=this.z;return this.w=-Math.sqrt(1-v*v-d*d-p*p),this},fromMat3:function(v){var d=v.val,p=d[0]+d[4]+d[8],x;if(p>0)x=Math.sqrt(p+1),this.w=.5*x,x=.5/x,this.x=(d[7]-d[5])*x,this.y=(d[2]-d[6])*x,this.z=(d[3]-d[1])*x;else{var g=0;d[4]>d[0]&&(g=1),d[8]>d[g*3+g]&&(g=2);var m=r[g],y=r[m];x=Math.sqrt(d[g*3+g]-d[m*3+m]-d[y*3+y]+1),n[g]=.5*x,x=.5/x,n[m]=(d[m*3+g]+d[g*3+m])*x,n[y]=(d[y*3+g]+d[g*3+y])*x,this.x=n[0],this.y=n[1],this.z=n[2],this.w=(d[y*3+m]-d[m*3+y])*x}return this}});c.exports=u},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(339),f=t(26),h=t(33),i=t(169),r=function(n){var e=n.config;if((e.customEnvironment||e.canvas)&&e.renderType===h.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!e.customEnvironment&&!e.canvas&&e.renderType!==h.HEADLESS)if(e.renderType===h.CANVAS||e.renderType!==h.CANVAS&&!i.webGL)if(i.canvas)e.renderType=h.CANVAS;else throw new Error("Cannot create Canvas or WebGL context, aborting.");else e.renderType=h.WEBGL;e.antialias||f.disableSmoothing();var l=n.scale.baseSize,a=l.width,o=l.height;if(e.canvas?(n.canvas=e.canvas,n.canvas.width=a,n.canvas.height=o):n.canvas=f.create(n,a,o,e.renderType),e.canvasStyle&&(n.canvas.style=e.canvasStyle),e.antialias||s.setCrisp(n.canvas),e.renderType!==h.HEADLESS){var u,v;u=t(505),v=t(508),e.renderType===h.WEBGL?n.renderer=new v(n):(n.renderer=new u(n),n.context=n.renderer.gameContext)}};c.exports=r},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setCrisp:function(s){var f=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return f.forEach(function(h){s.style["image-rendering"]=h}),s.style.msInterpolationMode="nearest-neighbor",s},setBicubic:function(s){return s.style["image-rendering"]="auto",s.style.msInterpolationMode="bicubic",s}};c.exports=t},function(c,E){c.exports=["#define SHADER_NAME PHASER_TEXTURE_TINT_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","","void main()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.rgb * outTint.a, outTint.a);","    vec4 color = texture;","","    if (outTintEffect == 0.0)","    {","        //  Multiply texture tint","        color = texture * texel;","    }","    else if (outTintEffect == 1.0)","    {","        //  Solid color + texture alpha","        color.rgb = mix(texture.rgb, outTint.rgb * outTint.a, texture.a);","        color.a = texture.a * texel.a;","    }","    else if (outTintEffect == 2.0)","    {","        //  Solid color, no texture","        color = texel;","    }","","    gl_FragColor = color;","}",""].join(`
`)},function(c,E){c.exports=["#define SHADER_NAME PHASER_TEXTURE_TINT_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform mat4 uModelMatrix;","","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTintEffect;","attribute vec4 inTint;","","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(inPosition, 1.0, 1.0);","","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}","",""].join(`
`)},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(33),f=function(h){var i=h.config;if(!i.hideBanner){var r="WebGL";i.renderType===s.CANVAS?r="Canvas":i.renderType===s.HEADLESS&&(r="Headless");var n=i.audio,e=h.device.audio,l;if(e.webAudio&&!(n&&n.disableWebAudio)?l="Web Audio":n&&n.noAudio||!e.webAudio&&!e.audioData?l="No Audio":l="HTML5 Audio",h.device.browser.ie)window.console&&console.log("Phaser v"+s.VERSION+" / https://phaser.io");else{var a="",o=[a];if(Array.isArray(i.bannerBackgroundColor)){var u;i.bannerBackgroundColor.forEach(function(d){a=a.concat("%c "),o.push("background: "+d),u=d}),o[o.length-1]="color: "+i.bannerTextColor+"; background: "+u}else a=a.concat("%c "),o.push("color: "+i.bannerTextColor+"; background: "+i.bannerBackgroundColor);o.push("background: #fff"),i.gameTitle&&(a=a.concat(i.gameTitle),i.gameVersion&&(a=a.concat(" v"+i.gameVersion)),i.hidePhaser||(a=a.concat(" / ")));var v="";i.hidePhaser||(a=a.concat("Phaser v"+s.VERSION+v+" ("+r+" | "+l+")")),a=a.concat(" %c "+i.gameURL),o[0]=a,console.log.apply(console,o)}}};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(6),h=t(1),i=t(344),r=new s({initialize:function(e,l){this.game=e,this.raf=new i,this.started=!1,this.running=!1,this.minFps=f(l,"min",5),this.targetFps=f(l,"target",60),this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=h,this.forceSetTimeOut=f(l,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=f(l,"deltaHistory",10),this.panicMax=f(l,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=f(l,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var n=window.performance.now();this.time=n,this.lastTime=n,this.nextFpsUpdate=n+1e3,this.framesThisSecond=0;for(var e=0;e<this.deltaSmoothingMax;e++)this.deltaHistory[e]=Math.min(this._target,this.deltaHistory[e]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(n){if(this.started)return this;this.started=!0,this.running=!0;for(var e=0;e<this.deltaSmoothingMax;e++)this.deltaHistory[e]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=n,this.raf.start(this.step.bind(this),this.forceSetTimeOut,this._target)},step:function(){var n=window.performance.now();this.now=n;var e=n-this.lastTime;e<0&&(e=0),this.rawDelta=e;var l=this.deltaIndex,a=this.deltaHistory,o=this.deltaSmoothingMax,u=e,v=e;if(this.smoothStep){(this._coolDown>0||!this.inFocus)&&(this._coolDown--,u=Math.min(u,this._target)),u>this._min&&(u=a[l],u=Math.min(u,this._min)),a[l]=u,this.deltaIndex++,this.deltaIndex>o&&(this.deltaIndex=0),v=0;for(var d=0;d<o;d++)v+=a[d];v/=o}this.delta=v,this.time+=this.rawDelta,n>this.nextFpsUpdate&&(this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=n+1e3,this.framesThisSecond=0),this.framesThisSecond++;var p=v/this._target;this.callback(n,v,p),this.lastTime=n,this.frame++},tick:function(){this.step()},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(n){this.running||(n&&(this.startTime+=-this.lastTime+(this.lastTime+window.performance.now())),this.raf.start(this.step.bind(this),this.useRAF),this.running=!0,this.step())},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.callback=h,this.raf=null,this.game=null}});c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(1),h=new s({initialize:function(){this.isRunning=!1,this.callback=f,this.tick=0,this.isSetTimeOut=!1,this.timeOutID=null,this.lastTime=0,this.target=0;var r=this;this.step=function n(){var e=window.performance.now();r.lastTime=r.tick,r.tick=e,r.callback(e),r.timeOutID=window.requestAnimationFrame(n)},this.stepTimeout=function n(){var e=Date.now(),l=Math.min(Math.max(r.target*2+r.tick-e,0),r.target);r.lastTime=r.tick,r.tick=e,r.callback(e),r.timeOutID=window.setTimeout(n,l)}},start:function(i,r,n){this.isRunning||(this.callback=i,this.isSetTimeOut=r,this.target=n,this.isRunning=!0,this.timeOutID=r?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=f}});c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(20),f=function(h){var i,r=h.events;if(document.hidden!==void 0)i="visibilitychange";else{var n=["webkit","moz","ms"];n.forEach(function(l){document[l+"Hidden"]!==void 0&&(document.hidden=function(){return document[l+"Hidden"]},i=l+"visibilitychange")})}var e=function(l){document.hidden||l.type==="pause"?r.emit(s.HIDDEN):r.emit(s.VISIBLE)};i&&document.addEventListener(i,e,!1),window.onblur=function(){r.emit(s.BLUR)},window.onfocus=function(){r.emit(s.FOCUS)},window.focus&&h.config.autoFocus&&window.focus()};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(347),f=t(26),h=t(6),i=function(r){var n=h(r,"data",[]),e=h(r,"canvas",null),l=h(r,"palette",s),a=h(r,"pixelWidth",1),o=h(r,"pixelHeight",a),u=h(r,"resizeCanvas",!0),v=h(r,"clearCanvas",!0),d=h(r,"preRender",null),p=h(r,"postRender",null),x=Math.floor(Math.abs(n[0].length*a)),g=Math.floor(Math.abs(n.length*o));e||(e=f.create2D(this,x,g),u=!1,v=!1),u&&(e.width=x,e.height=g);var m=e.getContext("2d");v&&m.clearRect(0,0,x,g),d&&d(e,m);for(var y=0;y<n.length;y++)for(var T=n[y],S=0;S<T.length;S++){var C=T[S];C!=="."&&C!==" "&&(m.fillStyle=l[C],m.fillRect(S*a,y*o,a,o))}return p&&p(e,m),e};c.exports=i},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(326),h=t(81),i=t(3),r=new s({Extends:h,initialize:function(e,l,a,o){h.call(this,"CubicBezierCurve"),Array.isArray(e)&&(o=new i(e[6],e[7]),a=new i(e[4],e[5]),l=new i(e[2],e[3]),e=new i(e[0],e[1])),this.p0=e,this.p1=l,this.p2=a,this.p3=o},getStartPoint:function(n){return n===void 0&&(n=new i),n.copy(this.p0)},getResolution:function(n){return n},getPoint:function(n,e){e===void 0&&(e=new i);var l=this.p0,a=this.p1,o=this.p2,u=this.p3;return e.set(f(n,l.x,a.x,o.x,u.x),f(n,l.y,a.y,o.y,u.y))},draw:function(n,e){e===void 0&&(e=32);var l=this.getPoints(e);n.beginPath(),n.moveTo(this.p0.x,this.p0.y);for(var a=1;a<l.length;a++)n.lineTo(l[a].x,l[a].y);return n.strokePath(),n},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});r.fromJSON=function(n){var e=n.points,l=new i(e[0],e[1]),a=new i(e[2],e[3]),o=new i(e[4],e[5]),u=new i(e[6],e[7]);return new r(l,a,o,u)},c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(81),h=t(39),i=t(6),r=t(173),n=t(3),e=new s({Extends:f,initialize:function(a,o,u,v,d,p,x,g){if(typeof a=="object"){var m=a;a=i(m,"x",0),o=i(m,"y",0),u=i(m,"xRadius",0),v=i(m,"yRadius",u),d=i(m,"startAngle",0),p=i(m,"endAngle",360),x=i(m,"clockwise",!1),g=i(m,"rotation",0)}else v===void 0&&(v=u),d===void 0&&(d=0),p===void 0&&(p=360),x===void 0&&(x=!1),g===void 0&&(g=0);f.call(this,"EllipseCurve"),this.p0=new n(a,o),this._xRadius=u,this._yRadius=v,this._startAngle=h(d),this._endAngle=h(p),this._clockwise=x,this._rotation=h(g)},getStartPoint:function(l){return l===void 0&&(l=new n),this.getPoint(0,l)},getResolution:function(l){return l*2},getPoint:function(l,a){a===void 0&&(a=new n);for(var o=Math.PI*2,u=this._endAngle-this._startAngle,v=Math.abs(u)<Number.EPSILON;u<0;)u+=o;for(;u>o;)u-=o;u<Number.EPSILON&&(v?u=0:u=o),this._clockwise&&!v&&(u===o?u=-o:u=u-o);var d=this._startAngle+l*u,p=this.p0.x+this._xRadius*Math.cos(d),x=this.p0.y+this._yRadius*Math.sin(d);if(this._rotation!==0){var g=Math.cos(this._rotation),m=Math.sin(this._rotation),y=p-this.p0.x,T=x-this.p0.y;p=y*g-T*m+this.p0.x,x=y*m+T*g+this.p0.y}return a.set(p,x)},setXRadius:function(l){return this.xRadius=l,this},setYRadius:function(l){return this.yRadius=l,this},setWidth:function(l){return this.xRadius=l/2,this},setHeight:function(l){return this.yRadius=l/2,this},setStartAngle:function(l){return this.startAngle=l,this},setEndAngle:function(l){return this.endAngle=l,this},setClockwise:function(l){return this.clockwise=l,this},setRotation:function(l){return this.rotation=l,this},x:{get:function(){return this.p0.x},set:function(l){this.p0.x=l}},y:{get:function(){return this.p0.y},set:function(l){this.p0.y=l}},xRadius:{get:function(){return this._xRadius},set:function(l){this._xRadius=l}},yRadius:{get:function(){return this._yRadius},set:function(l){this._yRadius=l}},startAngle:{get:function(){return r(this._startAngle)},set:function(l){this._startAngle=h(l)}},endAngle:{get:function(){return r(this._endAngle)},set:function(l){this._endAngle=h(l)}},clockwise:{get:function(){return this._clockwise},set:function(l){this._clockwise=l}},angle:{get:function(){return r(this._rotation)},set:function(l){this._rotation=h(l)}},rotation:{get:function(){return this._rotation},set:function(l){this._rotation=l}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:r(this._startAngle),endAngle:r(this._endAngle),clockwise:this._clockwise,rotation:r(this._rotation)}}});e.fromJSON=function(l){return new e(l)},c.exports=e},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(81),h=t(176),i=t(11),r=t(3),n=new r,e=new s({Extends:f,initialize:function(a,o){f.call(this,"LineCurve"),Array.isArray(a)&&(o=new r(a[2],a[3]),a=new r(a[0],a[1])),this.p0=a,this.p1=o,this.arcLengthDivisions=1},getBounds:function(l){return l===void 0&&(l=new i),h([this.p0,this.p1],l)},getStartPoint:function(l){return l===void 0&&(l=new r),l.copy(this.p0)},getResolution:function(l){return l===void 0&&(l=1),l},getPoint:function(l,a){return a===void 0&&(a=new r),l===1?a.copy(this.p1):(a.copy(this.p1).subtract(this.p0).scale(l).add(this.p0),a)},getPointAt:function(l,a){return this.getPoint(l,a)},getTangent:function(){var l=n.copy(this.p1).subtract(this.p0);return l.normalize()},getUtoTmapping:function(l,a,o){var u;if(a){var v=this.getLengths(o),d=v[v.length-1],p=Math.min(a,d);u=p/d}else u=l;return u},draw:function(l){return l.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),l},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});e.fromJSON=function(l){var a=l.points,o=new r(a[0],a[1]),u=new r(a[2],a[3]);return new e(o,u)},c.exports=e},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(81),h=t(327),i=t(3),r=new s({Extends:f,initialize:function(e,l,a){f.call(this,"QuadraticBezier"),Array.isArray(e)&&(a=new i(e[4],e[5]),l=new i(e[2],e[3]),e=new i(e[0],e[1])),this.p0=e,this.p1=l,this.p2=a},getStartPoint:function(n){return n===void 0&&(n=new i),n.copy(this.p0)},getResolution:function(n){return n},getPoint:function(n,e){e===void 0&&(e=new i);var l=this.p0,a=this.p1,o=this.p2;return e.set(h(n,l.x,a.x,o.x),h(n,l.y,a.y,o.y))},draw:function(n,e){e===void 0&&(e=32);var l=this.getPoints(e);n.beginPath(),n.moveTo(this.p0.x,this.p0.y);for(var a=1;a<l.length;a++)n.lineTo(l[a].x,l[a].y);return n.strokePath(),n},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});r.fromJSON=function(n){var e=n.points,l=new i(e[0],e[1]),a=new i(e[2],e[3]),o=new i(e[4],e[5]);return new r(l,a,o)},c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(171),f=t(0),h=t(81),i=t(3),r=new f({Extends:h,initialize:function(e){e===void 0&&(e=[]),h.call(this,"SplineCurve"),this.points=[],this.addPoints(e)},addPoints:function(n){for(var e=0;e<n.length;e++){var l=new i;typeof n[e]=="number"?(l.x=n[e],l.y=n[e+1],e++):Array.isArray(n[e])?(l.x=n[e][0],l.y=n[e][1]):(l.x=n[e].x,l.y=n[e].y),this.points.push(l)}return this},addPoint:function(n,e){var l=new i(n,e);return this.points.push(l),l},getStartPoint:function(n){return n===void 0&&(n=new i),n.copy(this.points[0])},getResolution:function(n){return n*this.points.length},getPoint:function(n,e){e===void 0&&(e=new i);var l=this.points,a=(l.length-1)*n,o=Math.floor(a),u=a-o,v=l[o===0?o:o-1],d=l[o],p=l[o>l.length-2?l.length-1:o+1],x=l[o>l.length-3?l.length-1:o+2];return e.set(s(u,v.x,d.x,p.x,x.x),s(u,v.y,d.y,p.y,x.y))},toJSON:function(){for(var n=[],e=0;e<this.points.length;e++)n.push(this.points[e].x),n.push(this.points[e].y);return{type:this.type,points:n}}});r.fromJSON=function(n){return new r(n.points)},c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=new s({initialize:function(i,r,n,e){(!r||r==="")&&(r=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!n||n==="")&&(n=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","void main () {","gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","}"].join(`
`)),e===void 0&&(e=null),this.key=i,this.fragmentSrc=r,this.vertexSrc=n,this.uniforms=e}});c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(31);s.ColorToRGBA=t(811),s.ComponentToHex=t(355),s.GetColor=t(165),s.GetColor32=t(295),s.HexStringToColor=t(294),s.HSLToColor=t(812),s.HSVColorWheel=t(813),s.HSVToRGB=t(166),s.HueToComponent=t(356),s.IntegerToColor=t(297),s.IntegerToRGB=t(298),s.Interpolate=t(814),s.ObjectToColor=t(299),s.RandomRGB=t(815),s.RGBStringToColor=t(300),s.RGBToHSV=t(296),s.RGBToString=t(816),s.ValueToColor=t(164),c.exports=s},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){var f=s.toString(16);return f.length===1?"0"+f:f};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){return h<0&&(h+=1),h>1&&(h-=1),h<.16666666666666666?s+(f-s)*6*h:h<.5?f:h<.6666666666666666?s+(f-s)*(.6666666666666666-h)*6:s};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(117),f=function(h){if(document.readyState==="complete"||document.readyState==="interactive"){h();return}var i=function(){document.removeEventListener("deviceready",i,!0),document.removeEventListener("DOMContentLoaded",i,!0),window.removeEventListener("load",i,!0),h()};document.body?s.cordova?document.addEventListener("deviceready",i,!1):(document.addEventListener("DOMContentLoaded",i,!0),window.addEventListener("load",i,!0)):window.setTimeout(i,20)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(177),f=function(h,i){var r=window.screen,n=r?r.orientation||r.mozOrientation||r.msOrientation:!1;if(n&&typeof n.type=="string")return n.type;if(typeof n=="string")return n;if(r)return r.height>r.width?s.ORIENTATION.PORTRAIT:s.ORIENTATION.LANDSCAPE;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?s.ORIENTATION.PORTRAIT:s.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return s.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return s.ORIENTATION.LANDSCAPE}return i>h?s.ORIENTATION.PORTRAIT:s.ORIENTATION.LANDSCAPE};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={LANDSCAPE:"landscape-primary",PORTRAIT:"portrait-primary"}},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5}},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){var f;return s!==""&&(typeof s=="string"?f=document.getElementById(s):s&&s.nodeType===1&&(f=s)),f||(f=document.body),f};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){var f="";try{if(window.DOMParser){var h=new DOMParser;f=h.parseFromString(s,"text/xml")}else f=new ActiveXObject("Microsoft.XMLDOM"),f.loadXML(s)}catch{f=null}return!f||!f.documentElement||f.getElementsByTagName("parsererror").length?null:f};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(179),h=t(10),i=t(54),r=t(20),n=t(366),e=t(367),l=t(368),a=t(369),o=t(29),u=t(333),v=new s({initialize:function(p,x){this.game=p,this.scaleManager,this.canvas,this.config=x,this.enabled=!0,this.events=new h,this.isOver=!0,this.defaultCursor="",this.keyboard=x.inputKeyboard?new n(this):null,this.mouse=x.inputMouse?new e(this):null,this.touch=x.inputTouch?new a(this):null,this.pointers=[],this.pointersTotal=x.inputActivePointers,x.inputTouch&&this.pointersTotal===1&&(this.pointersTotal=2);for(var g=0;g<=this.pointersTotal;g++){var m=new l(this,g);m.smoothFactor=x.inputSmoothFactor,this.pointers.push(m)}this.mousePointer=x.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new o,this._tempMatrix2=new o,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],p.events.once(r.BOOT,this.boot,this)},boot:function(){this.canvas=this.game.canvas,this.scaleManager=this.game.scale,this.events.emit(i.MANAGER_BOOT),this.game.events.on(r.PRE_RENDER,this.preRender,this),this.game.events.once(r.DESTROY,this.destroy,this)},setCanvasOver:function(d){this.isOver=!0,this.events.emit(i.GAME_OVER,d)},setCanvasOut:function(d){this.isOver=!1,this.events.emit(i.GAME_OUT,d)},preRender:function(){var d=this.game.loop.now,p=this.game.loop.delta,x=this.game.scene.getScenes(!0,!0);this.time=d,this.events.emit(i.MANAGER_UPDATE);for(var g=0;g<x.length;g++){var m=x[g];if(m.sys.input&&m.sys.input.updatePoll(d,p)&&this.globalTopOnly)return}},setDefaultCursor:function(d){this.defaultCursor=d,this.canvas.style.cursor!==d&&(this.canvas.style.cursor=d)},setCursor:function(d){d.cursor&&(this.canvas.style.cursor=d.cursor)},resetCursor:function(d){d.cursor&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(d){d===void 0&&(d=1);var p=[];this.pointersTotal+d>10&&(d=10-this.pointersTotal);for(var x=0;x<d;x++){var g=this.pointers.length,m=new l(this,g);m.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(m),this.pointersTotal++,p.push(m)}return p},updateInputPlugins:function(d,p){var x=this.game.scene.getScenes(!0,!0);this._tempSkip=!1;for(var g=0;g<x.length;g++){var m=x[g];if(m.sys.input){var y=m.sys.input.update(d,p);if(y&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(d){for(var p=this.pointers,x=[],g=0;g<d.changedTouches.length;g++)for(var m=d.changedTouches[g],y=1;y<this.pointersTotal;y++){var T=p[y];if(!T.active){T.touchstart(m,d),this.activePointer=T,x.push(T);break}}this.updateInputPlugins(f.TOUCH_START,x)},onTouchMove:function(d){for(var p=this.pointers,x=[],g=0;g<d.changedTouches.length;g++)for(var m=d.changedTouches[g],y=1;y<this.pointersTotal;y++){var T=p[y];if(T.active&&T.identifier===m.identifier){T.touchmove(m,d),this.activePointer=T,x.push(T);break}}this.updateInputPlugins(f.TOUCH_MOVE,x)},onTouchEnd:function(d){for(var p=this.pointers,x=[],g=0;g<d.changedTouches.length;g++)for(var m=d.changedTouches[g],y=1;y<this.pointersTotal;y++){var T=p[y];if(T.active&&T.identifier===m.identifier){T.touchend(m,d),x.push(T);break}}this.updateInputPlugins(f.TOUCH_END,x)},onTouchCancel:function(d){for(var p=this.pointers,x=[],g=0;g<d.changedTouches.length;g++)for(var m=d.changedTouches[g],y=1;y<this.pointersTotal;y++){var T=p[y];if(T.active&&T.identifier===m.identifier){T.touchcancel(m,d),x.push(T);break}}this.updateInputPlugins(f.TOUCH_CANCEL,x)},onMouseDown:function(d){this.mousePointer.down(d),this.mousePointer.updateMotion(),this.updateInputPlugins(f.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(d){this.mousePointer.move(d),this.mousePointer.updateMotion(),this.updateInputPlugins(f.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(d){this.mousePointer.up(d),this.mousePointer.updateMotion(),this.updateInputPlugins(f.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(d){this.mousePointer.wheel(d),this.updateInputPlugins(f.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(d){var p=this.mouse.locked;this.mousePointer.locked=p,this.events.emit(i.POINTERLOCK_CHANGE,d,p)},inputCandidate:function(d,p){var x=d.input;if(!x||!x.enabled||!x.alwaysEnabled&&!d.willRender(p))return!1;var g=!0,m=d.parentContainer;if(m)do{if(!m.willRender(p)){g=!1;break}m=m.parentContainer}while(m);return g},hitTest:function(d,p,x,g){g===void 0&&(g=this._tempHitTest);var m=this._tempPoint,y=x.scrollX,T=x.scrollY;g.length=0;var S=d.x,C=d.y;x.resolution!==1&&(S+=x._x,C+=x._y),x.getWorldPoint(S,C,m),d.worldX=m.x,d.worldY=m.y;for(var P={x:0,y:0},A=this._tempMatrix,M=this._tempMatrix2,O=0;O<p.length;O++){var I=p[O];if(this.inputCandidate(I,x)){var B=m.x+y*I.scrollFactorX-y,G=m.y+T*I.scrollFactorY-T;I.parentContainer?(I.getWorldTransformMatrix(A,M),A.applyInverse(B,G,P)):u(B,G,I.x,I.y,I.rotation,I.scaleX,I.scaleY,P),this.pointWithinHitArea(I,P.x,P.y)&&g.push(I)}}return g},pointWithinHitArea:function(d,p,x){p+=d.displayOriginX,x+=d.displayOriginY;var g=d.input;return g&&g.hitAreaCallback(g.hitArea,p,x,d)?(g.localX=p,g.localY=x,!0):!1},pointWithinInteractiveObject:function(d,p,x){return d.hitArea?(p+=d.gameObject.displayOriginX,x+=d.gameObject.displayOriginY,d.localX=p,d.localY=x,d.hitAreaCallback(d.hitArea,p,x,d)):!1},transformPointer:function(d,p,x,g){var m=d.position,y=d.prevPosition;y.x=m.x,y.y=m.y;var T=this.scaleManager.transformX(p),S=this.scaleManager.transformY(x),C=d.smoothFactor;!g||C===0?(m.x=T,m.y=S):(m.x=T*C+y.x*(1-C),m.y=S*C+y.y*(1-C))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(r.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var d=0;d<this.pointers.length;d++)this.pointers[d].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});c.exports=v},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(123),f=t(0),h=t(20),i=t(54),r=t(124),n=t(1),e=new f({initialize:function(a){this.manager=a,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=n,this.onKeyUp=n,a.events.once(i.MANAGER_BOOT,this.boot,this)},boot:function(){var l=this.manager.config;this.enabled=l.inputKeyboard,this.target=l.inputKeyboardEventTarget,this.addCapture(l.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(h.POST_STEP,this.postUpdate,this)},startListeners:function(){var l=this;this.onKeyDown=function(o){if(!(o.defaultPrevented||!l.enabled||!l.manager)){l.queue.push(o),l.manager.useQueue||l.manager.events.emit(i.MANAGER_PROCESS);var u=o.altKey||o.ctrlKey||o.shiftKey||o.metaKey;l.preventDefault&&!u&&l.captures.indexOf(o.keyCode)>-1&&o.preventDefault()}},this.onKeyUp=function(o){if(!(o.defaultPrevented||!l.enabled||!l.manager)){l.queue.push(o),l.manager.useQueue||l.manager.events.emit(i.MANAGER_PROCESS);var u=o.altKey||o.ctrlKey||o.shiftKey||o.metaKey;l.preventDefault&&!u&&l.captures.indexOf(o.keyCode)>-1&&o.preventDefault()}};var a=this.target;a&&(a.addEventListener("keydown",this.onKeyDown,!1),a.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var l=this.target;l.removeEventListener("keydown",this.onKeyDown,!1),l.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(l){typeof l=="string"&&(l=l.split(",")),Array.isArray(l)||(l=[l]);for(var a=this.captures,o=0;o<l.length;o++){var u=l[o];typeof u=="string"&&(u=r[u.trim().toUpperCase()]),a.indexOf(u)===-1&&a.push(u)}this.preventDefault=a.length>0},removeCapture:function(l){typeof l=="string"&&(l=l.split(",")),Array.isArray(l)||(l=[l]);for(var a=this.captures,o=0;o<l.length;o++){var u=l[o];typeof u=="string"&&(u=r[u.toUpperCase()]),s(a,u)}this.preventDefault=a.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(h.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});c.exports=e},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(169),h=t(54),i=t(1),r=new s({initialize:function(e){this.manager=e,this.capture=!0,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=i,this.onMouseDown=i,this.onMouseUp=i,this.onMouseDownWindow=i,this.onMouseUpWindow=i,this.onMouseOver=i,this.onMouseOut=i,this.onMouseWheel=i,this.pointerLockChange=i,e.events.once(h.MANAGER_BOOT,this.boot,this)},boot:function(){var n=this.manager.config;this.enabled=n.inputMouse,this.target=n.inputMouseEventTarget,this.capture=n.inputMouseCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,n.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return document.body.addEventListener("contextmenu",function(n){return n.preventDefault(),!1}),this},requestPointerLock:function(){if(f.pointerLock){var n=this.target;n.requestPointerLock=n.requestPointerLock||n.mozRequestPointerLock||n.webkitRequestPointerLock,n.requestPointerLock()}},releasePointerLock:function(){f.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var n=this,e=this.manager.canvas,l=window&&window.focus&&this.manager.game.config.autoFocus;this.onMouseMove=function(v){!v.defaultPrevented&&n.enabled&&n.manager&&n.manager.enabled&&(n.manager.onMouseMove(v),n.capture&&v.preventDefault())},this.onMouseDown=function(v){l&&window.focus(),!v.defaultPrevented&&n.enabled&&n.manager&&n.manager.enabled&&(n.manager.onMouseDown(v),n.capture&&v.target===e&&v.preventDefault())},this.onMouseDownWindow=function(v){!v.defaultPrevented&&n.enabled&&n.manager&&n.manager.enabled&&v.target!==e&&n.manager.onMouseDown(v)},this.onMouseUp=function(v){!v.defaultPrevented&&n.enabled&&n.manager&&n.manager.enabled&&(n.manager.onMouseUp(v),n.capture&&v.target===e&&v.preventDefault())},this.onMouseUpWindow=function(v){!v.defaultPrevented&&n.enabled&&n.manager&&n.manager.enabled&&v.target!==e&&n.manager.onMouseUp(v)},this.onMouseOver=function(v){!v.defaultPrevented&&n.enabled&&n.manager&&n.manager.enabled&&n.manager.setCanvasOver(v)},this.onMouseOut=function(v){!v.defaultPrevented&&n.enabled&&n.manager&&n.manager.enabled&&n.manager.setCanvasOut(v)},this.onMouseWheel=function(v){!v.defaultPrevented&&n.enabled&&n.manager&&n.manager.enabled&&n.manager.onMouseWheel(v)};var a=this.target;if(a){var o={passive:!0},u={passive:!1};a.addEventListener("mousemove",this.onMouseMove,this.capture?u:o),a.addEventListener("mousedown",this.onMouseDown,this.capture?u:o),a.addEventListener("mouseup",this.onMouseUp,this.capture?u:o),a.addEventListener("mouseover",this.onMouseOver,this.capture?u:o),a.addEventListener("mouseout",this.onMouseOut,this.capture?u:o),a.addEventListener("wheel",this.onMouseWheel,this.capture?u:o),window&&this.manager.game.config.inputWindowEvents&&(window.addEventListener("mousedown",this.onMouseDownWindow,u),window.addEventListener("mouseup",this.onMouseUpWindow,u)),f.pointerLock&&(this.pointerLockChange=function(v){var d=n.target;n.locked=document.pointerLockElement===d||document.mozPointerLockElement===d||document.webkitPointerLockElement===d,n.manager.onPointerLockChange(v)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var n=this.target;n.removeEventListener("mousemove",this.onMouseMove),n.removeEventListener("mousedown",this.onMouseDown),n.removeEventListener("mouseup",this.onMouseUp),n.removeEventListener("mouseover",this.onMouseOver),n.removeEventListener("mouseout",this.onMouseOut),window&&(window.removeEventListener("mousedown",this.onMouseDownWindow),window.removeEventListener("mouseup",this.onMouseUpWindow)),f.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(317),f=t(0),h=t(53),i=t(106),r=t(328),n=t(3),e=new f({initialize:function(a,o){this.manager=a,this.id=o,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new n,this.prevPosition=new n,this.midPoint=new n(-1,-1),this.velocity=new n,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=o===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(l){var a=this.x,o=this.y;l.resolution!==1&&(a+=l._x,o+=l._y);var u=l.getWorldPoint(a,o);return this.worldX=u.x,this.worldY=u.y,this},positionToCamera:function(l,a){return l.getWorldPoint(this.x,this.y,a)},updateMotion:function(){var l=this.position.x,a=this.position.y,o=this.midPoint.x,u=this.midPoint.y;if(!(l===o&&a===u)){var v=r(this.motionFactor,o,l),d=r(this.motionFactor,u,a);i(v,l,.1)&&(v=l),i(d,a,.1)&&(d=a),this.midPoint.set(v,d);var p=l-v,x=a-d;this.velocity.set(p,x),this.angle=s(v,d,l,a),this.distance=Math.sqrt(p*p+x*x)}},up:function(l){"buttons"in l&&(this.buttons=l.buttons),this.event=l,this.button=l.button,this.upElement=l.target,this.manager.transformPointer(this,l.pageX,l.pageY,!1),l.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=l.timeStamp),this.isDown=!1,this.wasTouch=!1},down:function(l){"buttons"in l&&(this.buttons=l.buttons),this.event=l,this.button=l.button,this.downElement=l.target,this.manager.transformPointer(this,l.pageX,l.pageY,!1),l.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=l.timeStamp),this.isDown=!0,this.wasTouch=!1},move:function(l){"buttons"in l&&(this.buttons=l.buttons),this.event=l,this.manager.transformPointer(this,l.pageX,l.pageY,!0),this.locked&&(this.movementX=l.movementX||l.mozMovementX||l.webkitMovementX||0,this.movementY=l.movementY||l.mozMovementY||l.webkitMovementY||0),this.moveTime=l.timeStamp,this.wasTouch=!1},wheel:function(l){"buttons"in l&&(this.buttons=l.buttons),this.event=l,this.manager.transformPointer(this,l.pageX,l.pageY,!1),this.deltaX=l.deltaX,this.deltaY=l.deltaY,this.deltaZ=l.deltaZ,this.wasTouch=!1},touchstart:function(l,a){l.pointerId&&(this.pointerId=l.pointerId),this.identifier=l.identifier,this.target=l.target,this.active=!0,this.buttons=1,this.event=a,this.downElement=l.target,this.manager.transformPointer(this,l.pageX,l.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=a.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(l,a){this.event=a,this.manager.transformPointer(this,l.pageX,l.pageY,!0),this.moveTime=a.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(l,a){this.buttons=0,this.event=a,this.upElement=l.target,this.manager.transformPointer(this,l.pageX,l.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=a.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(l,a){this.buttons=0,this.event=a,this.upElement=l.target,this.manager.transformPointer(this,l.pageX,l.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=a.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.button===0&&!this.isDown},rightButtonReleased:function(){return this.button===2&&!this.isDown},middleButtonReleased:function(){return this.button===1&&!this.isDown},backButtonReleased:function(){return this.button===3&&!this.isDown},forwardButtonReleased:function(){return this.button===4&&!this.isDown},getDistance:function(){return this.isDown?h(this.downX,this.downY,this.x,this.y):h(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?s(this.downX,this.downY,this.x,this.y):s(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(l,a){l===void 0&&(l=10),a===void 0&&(a=[]);for(var o=this.prevPosition.x,u=this.prevPosition.y,v=this.position.x,d=this.position.y,p=0;p<l;p++){var x=1/l*p;a[p]={x:r(x,o,v),y:r(x,u,d)}}return a},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(l){this.position.x=l}},y:{get:function(){return this.position.y},set:function(l){this.position.y=l}},time:{get:function(){return this.event?this.event.timeStamp:0}}});c.exports=e},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(54),h=t(1),i=new s({initialize:function(n){this.manager=n,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=h,this.onTouchStartWindow=h,this.onTouchMove=h,this.onTouchEnd=h,this.onTouchEndWindow=h,this.onTouchCancel=h,this.onTouchCancelWindow=h,this.onTouchOver=h,this.onTouchOut=h,n.events.once(f.MANAGER_BOOT,this.boot,this)},boot:function(){var r=this.manager.config;this.enabled=r.inputTouch,this.target=r.inputTouchEventTarget,this.capture=r.inputTouchCapture,this.target||(this.target=this.manager.game.canvas),r.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return document.body.addEventListener("contextmenu",function(r){return r.preventDefault(),!1}),this},startListeners:function(){var r=this,n=this.manager.canvas,e=window&&window.focus&&this.manager.game.config.autoFocus;this.onTouchStart=function(u){e&&window.focus(),!u.defaultPrevented&&r.enabled&&r.manager&&r.manager.enabled&&(r.manager.onTouchStart(u),r.capture&&u.cancelable&&u.target===n&&u.preventDefault())},this.onTouchStartWindow=function(u){!u.defaultPrevented&&r.enabled&&r.manager&&r.manager.enabled&&u.target!==n&&r.manager.onTouchStart(u)},this.onTouchMove=function(u){!u.defaultPrevented&&r.enabled&&r.manager&&r.manager.enabled&&(r.manager.onTouchMove(u),r.capture&&u.cancelable&&u.preventDefault())},this.onTouchEnd=function(u){!u.defaultPrevented&&r.enabled&&r.manager&&r.manager.enabled&&(r.manager.onTouchEnd(u),r.capture&&u.cancelable&&u.target===n&&u.preventDefault())},this.onTouchEndWindow=function(u){!u.defaultPrevented&&r.enabled&&r.manager&&r.manager.enabled&&u.target!==n&&r.manager.onTouchEnd(u)},this.onTouchCancel=function(u){!u.defaultPrevented&&r.enabled&&r.manager&&r.manager.enabled&&(r.manager.onTouchCancel(u),r.capture&&u.preventDefault())},this.onTouchCancelWindow=function(u){!u.defaultPrevented&&r.enabled&&r.manager&&r.manager.enabled&&r.manager.onTouchCancel(u)},this.onTouchOver=function(u){!u.defaultPrevented&&r.enabled&&r.manager&&r.manager.enabled&&r.manager.setCanvasOver(u)},this.onTouchOut=function(u){!u.defaultPrevented&&r.enabled&&r.manager&&r.manager.enabled&&r.manager.setCanvasOut(u)};var l=this.target;if(l){var a={passive:!0},o={passive:!1};l.addEventListener("touchstart",this.onTouchStart,this.capture?o:a),l.addEventListener("touchmove",this.onTouchMove,this.capture?o:a),l.addEventListener("touchend",this.onTouchEnd,this.capture?o:a),l.addEventListener("touchcancel",this.onTouchCancel,this.capture?o:a),l.addEventListener("touchover",this.onTouchOver,this.capture?o:a),l.addEventListener("touchout",this.onTouchOut,this.capture?o:a),window&&this.manager.game.config.inputWindowEvents&&(window.addEventListener("touchstart",this.onTouchStartWindow,o),window.addEventListener("touchend",this.onTouchEndWindow,o),window.addEventListener("touchcancel",this.onTouchCancelWindow,o)),this.enabled=!0}},stopListeners:function(){var r=this.target;r.removeEventListener("touchstart",this.onTouchStart),r.removeEventListener("touchmove",this.onTouchMove),r.removeEventListener("touchend",this.onTouchEnd),r.removeEventListener("touchcancel",this.onTouchCancel),r.removeEventListener("touchover",this.onTouchOver),r.removeEventListener("touchout",this.onTouchOut),window&&(window.removeEventListener("touchstart",this.onTouchStartWindow),window.removeEventListener("touchend",this.onTouchEndWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});c.exports=i},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(20),h=t(10),i=t(8),r=t(16),n=t(5),e=t(2),l=t(23),a=t(123),o=new s({Extends:h,initialize:function(v){h.call(this),this.game=v,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],v.isBooted?this.boot():v.events.once(f.BOOT,this.boot,this)},boot:function(){var u,v,d,p,x,g,m,y=this.game.config,T=y.installGlobalPlugins;for(T=T.concat(this._pendingGlobal),u=0;u<T.length;u++)v=T[u],d=e(v,"key",null),p=e(v,"plugin",null),x=e(v,"start",!1),g=e(v,"mapping",null),m=e(v,"data",null),d&&(p?this.install(d,p,x,g,m):console.warn("Missing `plugin` for key: "+d));for(T=y.installScenePlugins,T=T.concat(this._pendingScene),u=0;u<T.length;u++)v=T[u],d=e(v,"key",null),p=e(v,"plugin",null),g=e(v,"mapping",null),d&&(p?this.installScenePlugin(d,p,g):console.warn("Missing `plugin` for key: "+d));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(f.DESTROY,this.destroy,this)},addToScene:function(u,v,d){var p,x,g,m=this.game,y=u.scene,T=u.settings.map,S=u.settings.isBooted;for(p=0;p<v.length;p++)x=v[p],m[x]?(u[x]=m[x],T.hasOwnProperty(x)&&(y[T[x]]=u[x])):x==="game"&&T.hasOwnProperty(x)&&(y[T[x]]=m);for(var C=0;C<d.length;C++)for(g=d[C],p=0;p<g.length;p++)if(x=g[p],!!l.hasCore(x)){var P=l.getCore(x),A=new P.plugin(y,this);u[P.mapping]=A,P.custom?y[P.mapping]=A:T.hasOwnProperty(P.mapping)&&(y[T[P.mapping]]=A),S&&A.boot()}for(g=this.plugins,p=0;p<g.length;p++){var M=g[p];M.mapping&&(y[M.mapping]=M.plugin)}},getDefaultScenePlugins:function(){var u=this.game.config.defaultPlugins;return u=u.concat(this.scenePlugins),u},installScenePlugin:function(u,v,d,p,x){if(x===void 0&&(x=!1),typeof v!="function"){console.warn("Invalid Scene Plugin: "+u);return}if(!l.hasCore(u))l.register(u,v,d,!0),this.scenePlugins.push(u);else if(!x&&l.hasCore(u)){console.warn("Scene Plugin key in use: "+u);return}if(p){var g=new v(p,this);p.sys[u]=g,d&&d!==""&&(p[d]=g),g.boot()}},install:function(u,v,d,p,x){if(d===void 0&&(d=!1),p===void 0&&(p=null),x===void 0&&(x=null),typeof v!="function")return console.warn("Invalid Plugin: "+u),null;if(l.hasCustom(u))return console.warn("Plugin key in use: "+u),null;if(p!==null&&(d=!0),!this.game.isBooted)this._pendingGlobal.push({key:u,plugin:v,start:d,mapping:p,data:x});else if(l.registerCustom(u,v,p,x),d)return this.start(u);return null},getIndex:function(u){for(var v=this.plugins,d=0;d<v.length;d++){var p=v[d];if(p.key===u)return d}return-1},getEntry:function(u){var v=this.getIndex(u);if(v!==-1)return this.plugins[v]},isActive:function(u){var v=this.getEntry(u);return v&&v.active},start:function(u,v){v===void 0&&(v=u);var d=this.getEntry(v);return d&&!d.active?(d.active=!0,d.plugin.start()):d||(d=this.createEntry(u,v)),d?d.plugin:null},createEntry:function(u,v){var d=l.getCustom(u);if(d){var p=new d.plugin(this);d={key:v,plugin:p,active:!0,mapping:d.mapping,data:d.data},this.plugins.push(d),p.init(d.data),p.start()}return d},stop:function(u){var v=this.getEntry(u);return v&&v.active&&(v.active=!1,v.plugin.stop()),this},get:function(u,v){v===void 0&&(v=!0);var d=this.getEntry(u);if(d)return d.plugin;var p=this.getClass(u);return p&&v?(d=this.createEntry(u,u),d?d.plugin:null):p||null},getClass:function(u){return l.getCustomClass(u)},removeGlobalPlugin:function(u){var v=this.getEntry(u);v&&a(this.plugins,v),l.removeCustom(u)},removeScenePlugin:function(u){a(this.scenePlugins,u),l.remove(u)},registerGameObject:function(u,v,d){return v&&n.register(u,v),d&&r.register(u,d),this},removeGameObject:function(u,v,d){return v===void 0&&(v=!0),d===void 0&&(d=!0),v&&n.remove(u),d&&r.remove(u),this},registerFileType:function(u,v,d){i.register(u,v),d&&d.sys.load&&(d.sys.load[u]=v)},destroy:function(){for(var u=0;u<this.plugins.length;u++)this.plugins[u].plugin.destroy();l.destroyCustomPlugins(),this.game.noReturn&&l.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});c.exports=o},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(177),f=t(0),h=t(10),i=t(92),r=t(20),n=t(869),e=t(363),l=t(358),a=t(1),o=t(11),u=t(372),v=t(93),d=t(3),p=new f({Extends:h,initialize:function(g){h.call(this),this.game=g,this.canvas,this.canvasBounds=new o,this.parent=null,this.parentIsWindow=!1,this.parentSize=new u,this.gameSize=new u,this.baseSize=new u,this.displaySize=new u,this.scaleMode=s.SCALE_MODE.NONE,this.resolution=1,this.zoom=1,this._resetZoom=!1,this.displayScale=new d(1,1),this.autoRound=!1,this.autoCenter=s.CENTER.NO_CENTER,this.orientation=s.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.listeners={orientationChange:a,windowResize:a,fullScreenChange:a,fullScreenError:a}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once("boot",this.boot,this)},boot:function(){var x=this.game;this.canvas=x.canvas,this.fullscreen=x.device.fullscreen,this.scaleMode!==s.SCALE_MODE.RESIZE&&this.displaySize.setAspectMode(this.scaleMode),this.scaleMode===s.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),x.events.on(r.PRE_STEP,this.step,this),x.events.once(r.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(x){this.getParent(x),this.getParentBounds();var g=x.width,m=x.height,y=x.scaleMode,T=x.resolution,S=x.zoom,C=x.autoRound;if(typeof g=="string"){var P=this.parentSize.width;P===0&&(P=window.innerWidth);var A=parseInt(g,10)/100;g=Math.floor(P*A)}if(typeof m=="string"){var M=this.parentSize.height;M===0&&(M=window.innerHeight);var O=parseInt(m,10)/100;m=Math.floor(M*O)}this.resolution=1,this.scaleMode=y,this.autoRound=C,this.autoCenter=x.autoCenter,this.resizeInterval=x.resizeInterval,C&&(g=Math.floor(g),m=Math.floor(m)),this.gameSize.setSize(g,m),S===s.ZOOM.MAX_ZOOM&&(S=this.getMaxZoom()),this.zoom=S,S!==1&&(this._resetZoom=!0),this.baseSize.setSize(g*T,m*T),C&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),x.minWidth>0&&this.displaySize.setMin(x.minWidth*S,x.minHeight*S),x.maxWidth>0&&this.displaySize.setMax(x.maxWidth*S,x.maxHeight*S),this.displaySize.setSize(g,m),this.orientation=l(g,m)},getParent:function(x){var g=x.parent;if(g!==null){if(this.parent=e(g),this.parentIsWindow=this.parent===document.body,x.expandParent&&x.scaleMode!==s.SCALE_MODE.NONE){var m=this.parent.getBoundingClientRect();(this.parentIsWindow||m.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",m=this.parent.getBoundingClientRect(),!this.parentIsWindow&&m.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}x.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=e(x.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var x=this.parentSize,g=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(g.height=n(!0));var m=this.resolution,y=g.width*m,T=g.height*m;return x.width!==y||x.height!==T?(x.setSize(y,T),!0):!1},lockOrientation:function(x){var g=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return g?g.call(screen,x):!1},setParentSize:function(x,g){return this.parentSize.setSize(x,g),this.refresh()},setGameSize:function(x,g){var m=this.autoRound,y=this.resolution;m&&(x=Math.floor(x),g=Math.floor(g));var T=this.width,S=this.height;return this.gameSize.resize(x,g),this.baseSize.resize(x*y,g*y),m&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(x/g),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(T,S)},resize:function(x,g){var m=this.zoom,y=this.resolution,T=this.autoRound;T&&(x=Math.floor(x),g=Math.floor(g));var S=this.width,C=this.height;this.gameSize.resize(x,g),this.baseSize.resize(x*y,g*y),T&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(x*m*y,g*m*y),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var P=this.canvas.style,A=x*m,M=g*m;return T&&(A=Math.floor(A),M=Math.floor(M)),(A!==x||M!==g)&&(P.width=A+"px",P.height=M+"px"),this.refresh(S,C)},setZoom:function(x){return this.zoom=x,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},refresh:function(x,g){x===void 0&&(x=this.width),g===void 0&&(g=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var m=this.game.domContainer;if(m){this.baseSize.setCSS(m);var y=this.canvas.style,T=m.style;T.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",T.marginLeft=y.marginLeft,T.marginTop=y.marginTop}return this.emit(i.RESIZE,this.gameSize,this.baseSize,this.displaySize,this.resolution,x,g),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var x=l(this.width,this.height);x!==this.orientation&&(this.orientation=x,this.emit(i.ORIENTATION_CHANGE,x))}},updateScale:function(){var x=this.canvas.style,g=this.gameSize.width,m=this.gameSize.height,y,T,S=this.zoom,C=this.autoRound,P=1;this.scaleMode===s.SCALE_MODE.NONE?(this.displaySize.setSize(g*S*P,m*S*P),y=this.displaySize.width/P,T=this.displaySize.height/P,C&&(y=Math.floor(y),T=Math.floor(T)),this._resetZoom&&(x.width=y+"px",x.height=T+"px",this._resetZoom=!1)):this.scaleMode===s.SCALE_MODE.RESIZE?(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width*P,this.displaySize.height*P),y=this.displaySize.width/P,T=this.displaySize.height/P,C&&(y=Math.floor(y),T=Math.floor(T)),this.canvas.width=y,this.canvas.height=T):(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),y=this.displaySize.width/P,T=this.displaySize.height/P,C&&(y=Math.floor(y),T=Math.floor(T)),x.width=y+"px",x.height=T+"px"),this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var x=v(this.parentSize.width,this.gameSize.width,0,!0),g=v(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(x,g),1)},updateCenter:function(){var x=this.autoCenter;if(x!==s.CENTER.NO_CENTER){var g=this.canvas,m=g.style,y=g.getBoundingClientRect(),T=y.width,S=y.height,C=Math.floor((this.parentSize.width-T)/2),P=Math.floor((this.parentSize.height-S)/2);x===s.CENTER.CENTER_HORIZONTALLY?P=0:x===s.CENTER.CENTER_VERTICALLY&&(C=0),m.marginLeft=C+"px",m.marginTop=P+"px"}},updateBounds:function(){var x=this.canvasBounds,g=this.canvas.getBoundingClientRect();x.x=g.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),x.y=g.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),x.width=g.width,x.height=g.height},transformX:function(x){return(x-this.canvasBounds.left)*this.displayScale.x},transformY:function(x){return(x-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(x){x===void 0&&(x={navigationUI:"hide"});var g=this.fullscreen;if(!g.available){this.emit(i.FULLSCREEN_UNSUPPORTED);return}if(!g.active){var m=this.getFullscreenTarget();g.keyboard?m[g.request](Element.ALLOW_KEYBOARD_INPUT):m[g.request](x)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(i.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(x){this.removeFullscreenTarget(),this.emit(i.FULLSCREEN_FAILED,x)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var x=document.createElement("div");x.style.margin="0",x.style.padding="0",x.style.width="100%",x.style.height="100%",this.fullscreenTarget=x,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var g=this.canvas.parentNode;g.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var x=this.fullscreenTarget;if(x&&x.parentNode){var g=x.parentNode;g.insertBefore(this.canvas,x),g.removeChild(x)}}},stopFullscreen:function(){var x=this.fullscreen;if(!x.available)return this.emit(i.FULLSCREEN_UNSUPPORTED),!1;x.active&&document[x.cancel](),this.removeFullscreenTarget(),this.getParentBounds(),this.emit(i.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(x){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(x)},startListeners:function(){var x=this,g=this.listeners;if(g.orientationChange=function(){x._checkOrientation=!0,x.dirty=!0},g.windowResize=function(){x.dirty=!0},window.addEventListener("orientationchange",g.orientationChange,!1),window.addEventListener("resize",g.windowResize,!1),this.fullscreen.available){g.fullScreenChange=function(y){return x.onFullScreenChange(y)},g.fullScreenError=function(y){return x.onFullScreenError(y)};var m=["webkit","moz",""];m.forEach(function(y){document.addEventListener(y+"fullscreenchange",g.fullScreenChange,!1),document.addEventListener(y+"fullscreenerror",g.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",g.fullScreenChange,!1),document.addEventListener("MSFullscreenError",g.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():this.stopFullscreen()},onFullScreenError:function(){this.removeFullscreenTarget()},step:function(x,g){this.parent&&(this._lastCheck+=g,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var x=this.listeners;window.removeEventListener("orientationchange",x.orientationChange,!1),window.removeEventListener("resize",x.windowResize,!1);var g=["webkit","moz",""];g.forEach(function(m){document.removeEventListener(m+"fullscreenchange",x.fullScreenChange,!1),document.removeEventListener(m+"fullscreenerror",x.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",x.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",x.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===s.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===s.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});c.exports=p},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(19),f=t(0),h=t(93),i=t(3),r=new f({initialize:function(e,l,a,o){e===void 0&&(e=0),l===void 0&&(l=e),a===void 0&&(a=0),o===void 0&&(o=null),this._width=e,this._height=l,this._parent=o,this.aspectMode=a,this.aspectRatio=l===0?1:e/l,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new i},setAspectMode:function(n){return n===void 0&&(n=0),this.aspectMode=n,this.setSize(this._width,this._height)},setSnap:function(n,e){return n===void 0&&(n=0),e===void 0&&(e=n),this.snapTo.set(n,e),this.setSize(this._width,this._height)},setParent:function(n){return this._parent=n,this.setSize(this._width,this._height)},setMin:function(n,e){return n===void 0&&(n=0),e===void 0&&(e=n),this.minWidth=s(n,0,this.maxWidth),this.minHeight=s(e,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(n,e){return n===void 0&&(n=Number.MAX_VALUE),e===void 0&&(e=n),this.maxWidth=s(n,this.minWidth,Number.MAX_VALUE),this.maxHeight=s(e,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(n,e){switch(n===void 0&&(n=0),e===void 0&&(e=n),this.aspectMode){case r.NONE:this._width=this.getNewWidth(h(n,this.snapTo.x)),this._height=this.getNewHeight(h(e,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case r.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(h(n,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case r.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(h(e,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case r.FIT:this.constrain(n,e,!0);break;case r.ENVELOP:this.constrain(n,e,!1);break}return this},setAspectRatio:function(n){return this.aspectRatio=n,this.setSize(this._width,this._height)},resize:function(n,e){return this._width=this.getNewWidth(h(n,this.snapTo.x)),this._height=this.getNewHeight(h(e,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(n,e){return e===void 0&&(e=!0),n=s(n,this.minWidth,this.maxWidth),e&&this._parent&&n>this._parent.width&&(n=Math.max(this.minWidth,this._parent.width)),n},getNewHeight:function(n,e){return e===void 0&&(e=!0),n=s(n,this.minHeight,this.maxHeight),e&&this._parent&&n>this._parent.height&&(n=Math.max(this.minHeight,this._parent.height)),n},constrain:function(n,e,l){n===void 0&&(n=0),e===void 0&&(e=n),l===void 0&&(l=!0),n=this.getNewWidth(n),e=this.getNewHeight(e);var a=this.snapTo,o=e===0?1:n/e;return l&&this.aspectRatio>o||!l&&this.aspectRatio<o?(n=h(n,a.x),e=n/this.aspectRatio,a.y>0&&(e=h(e,a.y),n=e*this.aspectRatio)):(l&&this.aspectRatio<o||!l&&this.aspectRatio>o)&&(e=h(e,a.y),n=e*this.aspectRatio,a.x>0&&(n=h(n,a.x),e=n*(1/this.aspectRatio))),this._width=n,this._height=e,this},fitTo:function(n,e){return this.constrain(n,e,!0)},envelop:function(n,e){return this.constrain(n,e,!1)},setWidth:function(n){return this.setSize(n,this._height)},setHeight:function(n){return this.setSize(this._width,n)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(n){n&&n.style&&(n.style.width=this._width+"px",n.style.height=this._height+"px")},copy:function(n){return n.setAspectMode(this.aspectMode),n.aspectRatio=this.aspectRatio,n.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(n){this.setSize(n,this._height)}},height:{get:function(){return this._height},set:function(n){this.setSize(this._width,n)}}});r.NONE=0,r.WIDTH_CONTROLS_HEIGHT=1,r.HEIGHT_CONTROLS_WIDTH=2,r.FIT=3,r.ENVELOP=4,c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(125),h=t(22),i=t(20),r=t(6),n=t(82),e=t(1),l=t(374),a=t(180),o=new s({initialize:function(v,d){if(this.game=v,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,d){Array.isArray(d)||(d=[d]);for(var p=0;p<d.length;p++)this._pending.push({key:"default",scene:d[p],autoStart:p===0,data:{}})}v.events.once(i.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){var u,v,d,p;for(u=0;u<this._pending.length;u++){v=this._pending[u],d=v.key,p=v.scene;var x;p instanceof l?x=this.createSceneFromInstance(d,p):typeof p=="object"?x=this.createSceneFromObject(d,p):typeof p=="function"&&(x=this.createSceneFromFunction(d,p)),d=x.sys.settings.key,this.keys[d]=x,this.scenes.push(x),this._data[d]&&(x.sys.settings.data=this._data[d].data,this._data[d].autoStart&&(v.autoStart=!0)),(v.autoStart||x.sys.settings.active)&&this._start.push(d)}for(this._pending.length=0,this._data={},this.isBooted=!0,u=0;u<this._start.length;u++)v=this._start[u],this.start(v);this._start.length=0}},processQueue:function(){var u=this._pending.length,v=this._queue.length;if(!(u===0&&v===0)){var d,p;if(u){for(d=0;d<u;d++)p=this._pending[d],this.add(p.key,p.scene,p.autoStart,p.data);for(d=0;d<this._start.length;d++)p=this._start[d],this.start(p);this._start.length=0,this._pending.length=0;return}for(d=0;d<this._queue.length;d++)p=this._queue[d],this[p.op](p.keyA,p.keyB);this._queue.length=0}},add:function(u,v,d,p){if(d===void 0&&(d=!1),p===void 0&&(p={}),this.isProcessing||!this.isBooted)return this._pending.push({key:u,scene:v,autoStart:d,data:p}),this.isBooted||(this._data[u]={data:p}),null;u=this.getKey(u,v);var x;return v instanceof l?x=this.createSceneFromInstance(u,v):typeof v=="object"?(v.key=u,x=this.createSceneFromObject(u,v)):typeof v=="function"&&(x=this.createSceneFromFunction(u,v)),x.sys.settings.data=p,u=x.sys.settings.key,this.keys[u]=x,this.scenes.push(x),(d||x.sys.settings.active)&&(this._pending.length?this._start.push(u):this.start(u)),x},remove:function(u){if(this.isProcessing)this._queue.push({op:"remove",keyA:u,keyB:null});else{var v=this.getScene(u);if(!v||v.sys.isTransitioning())return this;var d=this.scenes.indexOf(v),p=v.sys.settings.key;d>-1&&(delete this.keys[p],this.scenes.splice(d,1),this._start.indexOf(p)>-1&&(d=this._start.indexOf(p),this._start.splice(d,1)),v.sys.destroy())}return this},bootScene:function(u){var v=u.sys,d=v.settings;v.sceneUpdate=e,u.init&&(u.init.call(u,d.data),d.status=f.INIT,d.isTransition&&v.events.emit(h.TRANSITION_INIT,d.transitionFrom,d.transitionDuration));var p;v.load&&(p=v.load,p.reset()),p&&u.preload?(u.preload.call(u),p.list.size===0?this.create(u):(d.status=f.LOADING,p.once(n.COMPLETE,this.loadComplete,this),p.start())):this.create(u)},loadComplete:function(u){var v=u.scene;this.game.sound&&this.game.sound.onBlurPausedSounds&&this.game.sound.unlock(),this.create(v)},payloadComplete:function(u){this.bootScene(u.scene)},update:function(u,v){this.processQueue(),this.isProcessing=!0;for(var d=this.scenes.length-1;d>=0;d--){var p=this.scenes[d].sys;p.settings.status>f.START&&p.settings.status<=f.RUNNING&&p.step(u,v)}},render:function(u){for(var v=0;v<this.scenes.length;v++){var d=this.scenes[v].sys;d.settings.visible&&d.settings.status>=f.LOADING&&d.settings.status<f.SLEEPING&&d.render(u)}this.isProcessing=!1},create:function(u){var v=u.sys,d=v.settings;u.create&&(d.status=f.CREATING,u.create.call(u,d.data),d.status===f.DESTROYED)||(d.isTransition&&v.events.emit(h.TRANSITION_START,d.transitionFrom,d.transitionDuration),u.update&&(v.sceneUpdate=u.update),d.status=f.RUNNING,v.events.emit(h.CREATE,u))},createSceneFromFunction:function(u,v){var d=new v;if(d instanceof l){var p=d.sys.settings.key;if(p!==""&&(u=p),this.keys.hasOwnProperty(u))throw new Error("Cannot add a Scene with duplicate key: "+u);return this.createSceneFromInstance(u,d)}else return d.sys=new a(d),d.sys.settings.key=u,d.sys.init(this.game),d},createSceneFromInstance:function(u,v){var d=v.sys.settings.key;return d===""&&(v.sys.settings.key=u),v.sys.init(this.game),v},createSceneFromObject:function(u,v){var d=new l(v),p=d.sys.settings.key;p!==""?u=p:d.sys.settings.key=u,d.sys.init(this.game);for(var x=["init","preload","create","update","render"],g=0;g<x.length;g++){var m=r(v,x[g],null);m&&(d[x[g]]=m)}if(v.hasOwnProperty("extend")){for(var y in v.extend)if(v.extend.hasOwnProperty(y)){var T=v.extend[y];y==="data"&&d.hasOwnProperty("data")&&typeof T=="object"?d.data.merge(T):y!=="sys"&&(d[y]=T)}}return d},getKey:function(u,v){if(u||(u="default"),typeof v=="function")return u;if(v instanceof l?u=v.sys.settings.key:typeof v=="object"&&v.hasOwnProperty("key")&&(u=v.key),this.keys.hasOwnProperty(u))throw new Error("Cannot add a Scene with duplicate key: "+u);return u},getScenes:function(u,v){u===void 0&&(u=!0),v===void 0&&(v=!1);for(var d=[],p=this.scenes,x=0;x<p.length;x++){var g=p[x];g&&(!u||u&&g.sys.isActive())&&d.push(g)}return v?d.reverse():d},getScene:function(u){if(typeof u=="string"){if(this.keys[u])return this.keys[u]}else for(var v=0;v<this.scenes.length;v++)if(u===this.scenes[v])return u;return null},isActive:function(u){var v=this.getScene(u);return v?v.sys.isActive():null},isPaused:function(u){var v=this.getScene(u);return v?v.sys.isPaused():null},isVisible:function(u){var v=this.getScene(u);return v?v.sys.isVisible():null},isSleeping:function(u){var v=this.getScene(u);return v?v.sys.isSleeping():null},pause:function(u,v){var d=this.getScene(u);return d&&d.sys.pause(v),this},resume:function(u,v){var d=this.getScene(u);return d&&d.sys.resume(v),this},sleep:function(u,v){var d=this.getScene(u);return d&&!d.sys.isTransitioning()&&d.sys.sleep(v),this},wake:function(u,v){var d=this.getScene(u);return d&&d.sys.wake(v),this},run:function(u,v){var d=this.getScene(u);if(!d){for(var p=0;p<this._pending.length;p++)if(this._pending[p].key===u){this.queueOp("start",u,v);break}return this}d.sys.isSleeping()?d.sys.wake(v):d.sys.isPaused()?d.sys.resume(v):this.start(u,v)},start:function(u,v){if(!this.isBooted)return this._data[u]={autoStart:!0,data:v},this;var d=this.getScene(u);if(d){if(d.sys.isActive()||d.sys.isPaused())d.sys.shutdown(),d.sys.start(v);else{d.sys.start(v);var p;if(d.sys.load&&(p=d.sys.load),p&&d.sys.settings.hasOwnProperty("pack")&&(p.reset(),p.addPack({payload:d.sys.settings.pack})))return d.sys.settings.status=f.LOADING,p.once(n.COMPLETE,this.payloadComplete,this),p.start(),this}this.bootScene(d)}return this},stop:function(u,v){var d=this.getScene(u);return d&&!d.sys.isTransitioning()&&d.sys.shutdown(v),this},switch:function(u,v){var d=this.getScene(u),p=this.getScene(v);return d&&p&&d!==p&&(this.sleep(u),this.isSleeping(v)?this.wake(v):this.start(v)),this},getAt:function(u){return this.scenes[u]},getIndex:function(u){var v=this.getScene(u);return this.scenes.indexOf(v)},bringToTop:function(u){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:u,keyB:null});else{var v=this.getIndex(u);if(v!==-1&&v<this.scenes.length){var d=this.getScene(u);this.scenes.splice(v,1),this.scenes.push(d)}}return this},sendToBack:function(u){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:u,keyB:null});else{var v=this.getIndex(u);if(v!==-1&&v>0){var d=this.getScene(u);this.scenes.splice(v,1),this.scenes.unshift(d)}}return this},moveDown:function(u){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:u,keyB:null});else{var v=this.getIndex(u);if(v>0){var d=v-1,p=this.getScene(u),x=this.getAt(d);this.scenes[v]=x,this.scenes[d]=p}}return this},moveUp:function(u){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:u,keyB:null});else{var v=this.getIndex(u);if(v<this.scenes.length-1){var d=v+1,p=this.getScene(u),x=this.getAt(d);this.scenes[v]=x,this.scenes[d]=p}}return this},moveAbove:function(u,v){if(u===v)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:u,keyB:v});else{var d=this.getIndex(u),p=this.getIndex(v);if(d!==-1&&p!==-1){var x=this.getAt(p);this.scenes.splice(p,1),this.scenes.splice(d+1,0,x)}}return this},moveBelow:function(u,v){if(u===v)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:u,keyB:v});else{var d=this.getIndex(u),p=this.getIndex(v);if(d!==-1&&p!==-1){var x=this.getAt(p);this.scenes.splice(p,1),d===0?this.scenes.unshift(x):this.scenes.splice(d,0,x)}}return this},queueOp:function(u,v,d){return this._queue.push({op:u,keyA:v,keyB:d}),this},swapPosition:function(u,v){if(u===v)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:u,keyB:v});else{var d=this.getIndex(u),p=this.getIndex(v);if(d!==p&&d!==-1&&p!==-1){var x=this.getAt(d);this.scenes[d]=this.scenes[p],this.scenes[p]=x}}return this},dump:function(){for(var u=[],v=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],d=0;d<this.scenes.length;d++){var p=this.scenes[d].sys,x=p.settings.visible&&(p.settings.status===f.RUNNING||p.settings.status===f.PAUSED)?"[*] ":"[-] ";x+=p.settings.key+" ("+v[p.settings.status]+")",u.push(x)}console.log(u.join(`
`))},destroy:function(){for(var u=0;u<this.scenes.length;u++){var v=this.scenes[u].sys;v.destroy()}this.update=e,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null}});c.exports=o},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(180),h=new s({initialize:function(r){this.sys=new f(this,r),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins},update:function(){}});c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(125),f=t(6),h=t(126),i=t(882),r={create:function(n){return typeof n=="string"?n={key:n}:n===void 0&&(n={}),{status:s.PENDING,key:f(n,"key",""),active:f(n,"active",!1),visible:f(n,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:f(n,"pack",!1),cameras:f(n,"cameras",null),map:f(n,"map",h(i,f(n,"mapAdd",{}))),physics:f(n,"physics",{}),loader:f(n,"loader",{}),plugins:f(n,"plugins",!1),input:f(n,"input",{})}}};c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(26),f=t(377),h=t(0),i=t(31),r=t(33),n=t(10),e=t(121),l=t(20),a=t(346),o=t(6),u=t(379),v=t(182),d=new h({Extends:n,initialize:function(x){n.call(this),this.game=x,this.name="TextureManager",this.list={},this._tempCanvas=s.create2D(this,1,1),this._tempContext=this._tempCanvas.getContext("2d"),this._pending=0,x.events.once(l.BOOT,this.boot,this)},boot:function(){this._pending=2,this.on(e.LOAD,this.updatePending,this),this.on(e.ERROR,this.updatePending,this),this.addBase64("__DEFAULT",this.game.config.defaultImage),this.addBase64("__MISSING",this.game.config.missingImage),this.game.events.once(l.DESTROY,this.destroy,this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(e.LOAD),this.off(e.ERROR),this.emit(e.READY))},checkKey:function(p){return this.exists(p)?(console.error("Texture key already in use: "+p),!1):!0},remove:function(p){if(typeof p=="string")if(this.exists(p))p=this.get(p);else return console.warn("No texture found matching key: "+p),this;return this.list.hasOwnProperty(p.key)&&(p.destroy(),this.emit(e.REMOVE,p.key)),this},removeKey:function(p){return this.list.hasOwnProperty(p)&&delete this.list[p],this},addBase64:function(p,x){if(this.checkKey(p)){var g=this,m=new Image;m.onerror=function(){g.emit(e.ERROR,p)},m.onload=function(){var y=g.create(p,m);u.Image(y,0),g.emit(e.ADD,p,y),g.emit(e.LOAD,p,y)},m.src=x}return this},getBase64:function(p,x,g,m){g===void 0&&(g="image/png"),m===void 0&&(m=.92);var y="",T=this.getFrame(p,x);if(T&&(T.source.isRenderTexture||T.source.isGLTexture))console.warn("Cannot getBase64 from WebGL Texture");else if(T){var S=T.canvasData,C=s.create2D(this,S.width,S.height),P=C.getContext("2d");P.drawImage(T.source.image,S.x,S.y,S.width,S.height,0,0,S.width,S.height),y=C.toDataURL(g,m),s.remove(C)}return y},addImage:function(p,x,g){var m=null;return this.checkKey(p)&&(m=this.create(p,x),u.Image(m,0),g&&m.setDataSource(g),this.emit(e.ADD,p,m)),m},addGLTexture:function(p,x,g,m){var y=null;return this.checkKey(p)&&(y=this.create(p,x,g,m),y.add("__BASE",0,0,0,g,m),this.emit(e.ADD,p,y)),y},addRenderTexture:function(p,x){var g=null;return this.checkKey(p)&&(g=this.create(p,x),g.add("__BASE",0,0,0,x.width,x.height),this.emit(e.ADD,p,g)),g},generate:function(p,x){if(this.checkKey(p)){var g=s.create(this,1,1);return x.canvas=g,a(x),this.addCanvas(p,g)}else return null},createCanvas:function(p,x,g){if(x===void 0&&(x=256),g===void 0&&(g=256),this.checkKey(p)){var m=s.create(this,x,g,r.CANVAS,!0);return this.addCanvas(p,m)}return null},addCanvas:function(p,x,g){g===void 0&&(g=!1);var m=null;return g?m=new f(this,p,x,x.width,x.height):this.checkKey(p)&&(m=new f(this,p,x,x.width,x.height),this.list[p]=m,this.emit(e.ADD,p,m)),m},addAtlas:function(p,x,g,m){return Array.isArray(g.textures)||Array.isArray(g.frames)?this.addAtlasJSONArray(p,x,g,m):this.addAtlasJSONHash(p,x,g,m)},addAtlasJSONArray:function(p,x,g,m){var y=null;if(this.checkKey(p)){if(y=this.create(p,x),Array.isArray(g))for(var T=g.length===1,S=0;S<y.source.length;S++){var C=T?g[0]:g[S];u.JSONArray(y,S,C)}else u.JSONArray(y,0,g);m&&y.setDataSource(m),this.emit(e.ADD,p,y)}return y},addAtlasJSONHash:function(p,x,g,m){var y=null;if(this.checkKey(p)){if(y=this.create(p,x),Array.isArray(g))for(var T=0;T<g.length;T++)u.JSONHash(y,T,g[T]);else u.JSONHash(y,0,g);m&&y.setDataSource(m),this.emit(e.ADD,p,y)}return y},addAtlasXML:function(p,x,g,m){var y=null;return this.checkKey(p)&&(y=this.create(p,x),u.AtlasXML(y,0,g),m&&y.setDataSource(m),this.emit(e.ADD,p,y)),y},addUnityAtlas:function(p,x,g,m){var y=null;return this.checkKey(p)&&(y=this.create(p,x),u.UnityYAML(y,0,g),m&&y.setDataSource(m),this.emit(e.ADD,p,y)),y},addSpriteSheet:function(p,x,g){var m=null;if(this.checkKey(p)){m=this.create(p,x);var y=m.source[0].width,T=m.source[0].height;u.SpriteSheet(m,0,0,0,y,T,g),this.emit(e.ADD,p,m)}return m},addSpriteSheetFromAtlas:function(p,x){if(!this.checkKey(p))return null;var g=o(x,"atlas",null),m=o(x,"frame",null);if(!(!g||!m)){var y=this.get(g),T=y.get(m);if(T){var S=this.create(p,T.source.image);return T.trimmed?u.SpriteSheetFromAtlas(S,T,x):u.SpriteSheet(S,0,T.cutX,T.cutY,T.cutWidth,T.cutHeight,x),this.emit(e.ADD,p,S),S}}},create:function(p,x,g,m){var y=null;return this.checkKey(p)&&(y=new v(this,p,x,g,m),this.list[p]=y),y},exists:function(p){return this.list.hasOwnProperty(p)},get:function(p){return p===void 0&&(p="__DEFAULT"),this.list[p]?this.list[p]:p instanceof v?p:this.list.__MISSING},cloneFrame:function(p,x){if(this.list[p])return this.list[p].get(x).clone()},getFrame:function(p,x){if(this.list[p])return this.list[p].get(x)},getTextureKeys:function(){var p=[];for(var x in this.list)x!=="__DEFAULT"&&x!=="__MISSING"&&p.push(x);return p},getPixel:function(p,x,g,m){var y=this.getFrame(g,m);if(y){p-=y.x,x-=y.y;var T=y.data.cut;if(p+=T.x,x+=T.y,p>=T.x&&p<T.r&&x>=T.y&&x<T.b){var S=this._tempContext;S.clearRect(0,0,1,1),S.drawImage(y.source.image,p,x,1,1,0,0,1,1);var C=S.getImageData(0,0,1,1);return new i(C.data[0],C.data[1],C.data[2],C.data[3])}}return null},getPixelAlpha:function(p,x,g,m){var y=this.getFrame(g,m);if(y){p-=y.x,x-=y.y;var T=y.data.cut;if(p+=T.x,x+=T.y,p>=T.x&&p<T.r&&x>=T.y&&x<T.b){var S=this._tempContext;S.clearRect(0,0,1,1),S.drawImage(y.source.image,p,x,1,1,0,0,1,1);var C=S.getImageData(0,0,1,1);return C.data[3]}}return null},setTexture:function(p,x,g){return this.list[x]&&(p.texture=this.list[x],p.frame=p.texture.get(g)),p},renameTexture:function(p,x){var g=this.get(p);return g&&p!==x?(g.key=x,this.list[x]=g,delete this.list[p],!0):!1},each:function(p,x){for(var g=[null],m=1;m<arguments.length;m++)g.push(arguments[m]);for(var y in this.list)g[0]=this.list[y],p.apply(x,g)},destroy:function(){for(var p in this.list)this.list[p].destroy();this.list={},this.game=null,s.remove(this._tempCanvas)}});c.exports=d},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(19),h=t(31),i=t(33),r=t(120),n=t(182),e=new s({Extends:n,initialize:function(a,o,u,v,d){n.call(this,a,o,u,v,d),this.add("__BASE",0,0,0,v,d),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d"),this.width=v,this.height=d,this.imageData=this.context.getImageData(0,0,v,d),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===i.WEBGL&&this.refresh(),this},draw:function(l,a,o){return this.context.drawImage(o,l,a),this.update()},drawFrame:function(l,a,o,u){o===void 0&&(o=0),u===void 0&&(u=0);var v=this.manager.getFrame(l,a);if(v){var d=v.canvasData,p=v.cutWidth,x=v.cutHeight,g=v.source.resolution;return this.context.drawImage(v.source.image,d.x,d.y,p,x,o,u,p/g,x/g),this.update()}else return this},setPixel:function(l,a,o,u,v,d){d===void 0&&(d=255),l=Math.abs(Math.floor(l)),a=Math.abs(Math.floor(a));var p=this.getIndex(l,a);if(p>-1){var x=this.context.getImageData(l,a,1,1);x.data[0]=o,x.data[1]=u,x.data[2]=v,x.data[3]=d,this.context.putImageData(x,l,a)}return this},putData:function(l,a,o,u,v,d,p){return u===void 0&&(u=0),v===void 0&&(v=0),d===void 0&&(d=l.width),p===void 0&&(p=l.height),this.context.putImageData(l,a,o,u,v,d,p),this},getData:function(l,a,o,u){l=f(Math.floor(l),0,this.width-1),a=f(Math.floor(a),0,this.height-1),o=f(o,1,this.width-l),u=f(u,1,this.height-a);var v=this.context.getImageData(l,a,o,u);return v},getPixel:function(l,a,o){o||(o=new h);var u=this.getIndex(l,a);if(u>-1){var v=this.data,d=v[u+0],p=v[u+1],x=v[u+2],g=v[u+3];o.setTo(d,p,x,g)}return o},getPixels:function(l,a,o,u){l===void 0&&(l=0),a===void 0&&(a=0),o===void 0&&(o=this.width),u===void 0&&(u=o),l=Math.abs(Math.round(l)),a=Math.abs(Math.round(a));for(var v=f(l,0,this.width),d=f(l+o,0,this.width),p=f(a,0,this.height),x=f(a+u,0,this.height),g=new h,m=[],y=p;y<x;y++){for(var T=[],S=v;S<d;S++)g=this.getPixel(S,y,g),T.push({x:S,y,color:g.color,alpha:g.alphaGL});m.push(T)}return m},getIndex:function(l,a){return l=Math.abs(Math.round(l)),a=Math.abs(Math.round(a)),l<this.width&&a<this.height?(l+a*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(l,a,o,u){return l===void 0&&(l=0),a===void 0&&(a=0),o===void 0&&(o=this.width),u===void 0&&(u=this.height),this.context.clearRect(l,a,o,u),this.update()},setSize:function(l,a){return a===void 0&&(a=l),(l!==this.width||a!==this.height)&&(this.canvas.width=l,this.canvas.height=a,this._source.width=l,this._source.height=a,this._source.isPowerOf2=r(l,a),this.frames.__BASE.setSize(l,a,0,0),this.width=l,this.height=a,this.refresh()),this},destroy:function(){n.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});c.exports=e},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(26),f=t(0),h=t(120),i=t(234),r=new f({initialize:function(e,l,a,o,u){u===void 0&&(u=!1);var v=e.manager.game;this.renderer=v.renderer,this.texture=e,this.source=l,this.image=l,this.compressionAlgorithm=null,this.resolution=1,this.width=a||l.naturalWidth||l.videoWidth||l.width||0,this.height=o||l.naturalHeight||l.videoHeight||l.height||0,this.scaleMode=i.DEFAULT,this.isCanvas=l instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&l instanceof HTMLVideoElement,this.isRenderTexture=l.type==="RenderTexture",this.isGLTexture=window.hasOwnProperty("WebGLTexture")&&l instanceof WebGLTexture,this.isPowerOf2=h(this.width,this.height),this.glTexture=null,this.flipY=u,this.init(v)},init:function(n){this.renderer&&(this.renderer.gl?this.isCanvas?this.glTexture=this.renderer.createCanvasTexture(this.image,!1,this.flipY):this.isVideo?this.glTexture=this.renderer.createVideoTexture(this.image,!1,this.flipY):this.isRenderTexture?(this.image=this.source.canvas,this.glTexture=this.renderer.createTextureFromSource(null,this.width,this.height,this.scaleMode)):this.isGLTexture?this.glTexture=this.source:this.glTexture=this.renderer.createTextureFromSource(this.image,this.width,this.height,this.scaleMode):this.isRenderTexture&&(this.image=this.source.canvas)),n.config.antialias||this.setFilter(1)},setFilter:function(n){this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,n),this.scaleMode=n},setFlipY:function(n){return n===void 0&&(n=!0),this.flipY=n,this},update:function(){var n=this.renderer.gl;n&&this.isCanvas?this.glTexture=this.renderer.updateCanvasTexture(this.image,this.glTexture,this.flipY):n&&this.isVideo&&(this.glTexture=this.renderer.updateVideoTexture(this.image,this.glTexture,this.flipY))},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&s.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AtlasXML:t(883),Canvas:t(884),Image:t(885),JSONArray:t(886),JSONHash:t(887),SpriteSheet:t(888),SpriteSheetFromAtlas:t(889),UnityYAML:t(890)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(381),f=t(385),h=t(387),i={create:function(r){var n=r.config.audio,e=r.device.audio;return n&&n.noAudio||!e.webAudio&&!e.audioData?new f(r):e.webAudio&&!(n&&n.disableWebAudio)?new h(r):new s(r)}};c.exports=i},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(127),f=t(0),h=t(59),i=t(384),r=new f({Extends:s,initialize:function(e){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,s.call(this,e)},add:function(n,e){var l=new i(this,n,e);return this.sounds.push(l),l},unlock:function(){this.locked=!1;var n=this;if(this.game.cache.audio.entries.each(function(o,u){for(var v=0;v<u.length;v++)if(u[v].dataset.locked==="true")return n.locked=!0,!1;return!0}),!!this.locked){var e=!1,l=function(){e=!0},a=function(){if(e){e=!1;return}document.body.removeEventListener("touchmove",l),document.body.removeEventListener("touchend",a);var o=[];if(n.game.cache.audio.entries.each(function(v,d){for(var p=0;p<d.length;p++){var x=d[p];x.dataset.locked==="true"&&o.push(x)}return!0}),o.length!==0){var u=o[o.length-1];u.oncanplaythrough=function(){u.oncanplaythrough=null,o.forEach(function(v){v.dataset.locked="false"}),n.unlocked=!0},o.forEach(function(v){v.load()})}};this.once(h.UNLOCKED,function(){for(this.forEachActiveSound(function(u){u.currentMarker===null&&u.duration===0&&(u.duration=u.tags[0].duration),u.totalDuration=u.tags[0].duration});this.lockedActionsQueue.length;){var o=this.lockedActionsQueue.shift();o.sound[o.prop].apply?o.sound[o.prop].apply(o.sound,o.value||[]):o.sound[o.prop]=o.value}},this),document.body.addEventListener("touchmove",l,!1),document.body.addEventListener("touchend",a,!1)}},onBlur:function(){this.forEachActiveSound(function(n){n.isPlaying&&(this.onBlurPausedSounds.push(n),n.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(n){n.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){s.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(n,e,l){return n.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:n,prop:e,value:l}),!0):!1},setMute:function(n){return this.mute=n,this},mute:{get:function(){return this._mute},set:function(n){this._mute=n,this.forEachActiveSound(function(e){e.updateMute()}),this.emit(h.GLOBAL_MUTE,this,n)}},setVolume:function(n){return this.volume=n,this},volume:{get:function(){return this._volume},set:function(n){this._volume=n,this.forEachActiveSound(function(e){e.updateVolume()}),this.emit(h.GLOBAL_VOLUME,this,n)}}});c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(68),f=function(h,i,r,n,e){n===void 0&&(n=0),e===void 0&&(e=h.length);var l=[];if(s(h,n,e))for(var a=n;a<e;a++){var o=h[a];(!i||i&&r===void 0&&o.hasOwnProperty(i)||i&&r!==void 0&&o[i]===r)&&l.push(o)}return l};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(68),f=function(h,i,r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=h.length),s(h,n,e))for(var l=n;l<e;l++){var a=h[l];if(!i||i&&r===void 0&&a.hasOwnProperty(i)||i&&r!==void 0&&a[i]===r)return a}return null};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(128),f=t(0),h=t(59),i=t(19),r=new f({Extends:s,initialize:function(e,l,a){if(a===void 0&&(a={}),this.tags=e.game.cache.audio.get(l),!this.tags)throw new Error('There is no audio asset with key "'+l+'" in the audio cache');this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,s.call(this,e,l,a)},play:function(n,e){return this.manager.isLocked(this,"play",[n,e])||!s.prototype.play.call(this,n,e)||!this.pickAndPlayAudioTag()?!1:(this.emit(h.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!s.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(h.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!s.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(h.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!s.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(h.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var n=this.currentConfig.seek,e=this.currentConfig.delay,l=(this.currentMarker?this.currentMarker.start:0)+n;return this.previousTime=l,this.audio.currentTime=l,this.applyConfig(),e===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+e*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var n=0;n<this.tags.length;n++){var e=this.tags[n];if(e.dataset.used==="false")return e.dataset.used="true",this.audio=e,!0}if(!this.manager.override)return!1;var l=[];this.manager.forEachActiveSound(function(o){o.key===this.key&&o.audio&&l.push(o)},this),l.sort(function(o,u){return o.loop===u.loop?u.seek/u.duration-o.seek/o.duration:o.loop?1:-1});var a=l[0];return this.audio=a.audio,a.reset(),a.audio=null,a.startTime=0,a.previousTime=0,!0},playCatchPromise:function(){var n=this.audio.play();n&&n.catch(function(e){console.warn(e)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){s.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(n,e){if(this.isPlaying){if(this.startTime>0){this.startTime<n-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,n-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var l=this.currentMarker?this.currentMarker.start:0,a=l+this.duration,o=this.audio.currentTime;if(this.currentConfig.loop)o>=a-this.manager.loopEndOffset?(this.audio.currentTime=l+Math.max(0,o-a),o=this.audio.currentTime):o<l&&(this.audio.currentTime+=l,o=this.audio.currentTime),o<this.previousTime&&this.emit(h.LOOPED,this);else if(o>=a){this.reset(),this.stopAndReleaseAudioTag(),this.emit(h.COMPLETE,this);return}this.previousTime=o}},destroy:function(){s.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=i(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){s.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(n){this.currentConfig.mute=n,!this.manager.isLocked(this,"mute",n)&&(this.updateMute(),this.emit(h.MUTE,this,n))}},setMute:function(n){return this.mute=n,this},volume:{get:function(){return this.currentConfig.volume},set:function(n){this.currentConfig.volume=n,!this.manager.isLocked(this,"volume",n)&&(this.updateVolume(),this.emit(h.VOLUME,this,n))}},setVolume:function(n){return this.volume=n,this},rate:{get:function(){return this.currentConfig.rate},set:function(n){this.currentConfig.rate=n,!this.manager.isLocked(this,h.RATE,n)&&(this.calculateRate(),this.emit(h.RATE,this,n))}},setRate:function(n){return this.rate=n,this},detune:{get:function(){return this.currentConfig.detune},set:function(n){this.currentConfig.detune=n,!this.manager.isLocked(this,h.DETUNE,n)&&(this.calculateRate(),this.emit(h.DETUNE,this,n))}},setDetune:function(n){return this.detune=n,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(n){this.manager.isLocked(this,"seek",n)||this.startTime>0||(this.isPlaying||this.isPaused)&&(n=Math.min(Math.max(0,n),this.duration),this.isPlaying?(this.previousTime=n,this.audio.currentTime=n):this.isPaused&&(this.currentConfig.seek=n),this.emit(h.SEEK,this,n))}},setSeek:function(n){return this.seek=n,this},loop:{get:function(){return this.currentConfig.loop},set:function(n){this.currentConfig.loop=n,!this.manager.isLocked(this,"loop",n)&&(this.audio&&(this.audio.loop=n),this.emit(h.LOOP,this,n))}},setLoop:function(n){return this.loop=n,this}});c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(127),f=t(0),h=t(10),i=t(386),r=t(1),n=new f({Extends:h,initialize:function(l){h.call(this),this.game=l,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(e,l){var a=new i(this,e,l);return this.sounds.push(a),a},addAudioSprite:function(e,l){var a=this.add(e,l);return a.spritemap={},a},play:function(e,l){return!1},playAudioSprite:function(e,l,a){return!1},remove:function(e){return s.prototype.remove.call(this,e)},removeByKey:function(e){return s.prototype.removeByKey.call(this,e)},pauseAll:r,resumeAll:r,stopAll:r,update:r,setRate:r,setDetune:r,setMute:r,setVolume:r,forEachActiveSound:function(e,l){s.prototype.forEachActiveSound.call(this,e,l)},destroy:function(){s.prototype.destroy.call(this)}});c.exports=n},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(128),f=t(0),h=t(10),i=t(18),r=function(){return!1},n=function(){return null},e=function(){return this},l=new f({Extends:h,initialize:function(o,u,v){v===void 0&&(v={}),h.call(this),this.manager=o,this.key=u,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=i({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0},v),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:r,updateMarker:r,removeMarker:n,play:r,pause:r,resume:r,stop:r,destroy:function(){s.prototype.destroy.call(this)},setMute:e,setVolume:e,setRate:e,setDetune:e,setSeek:e,setLoop:e});c.exports=l},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(388),f=t(127),h=t(0),i=t(59),r=t(389),n=new h({Extends:f,initialize:function(l){this.context=this.createAudioContext(l),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended"&&("ontouchstart"in window||"onclick"in window),f.call(this,l),this.locked&&this.unlock()},createAudioContext:function(e){var l=e.config.audio;return l&&l.context?(l.context.resume(),l.context):new AudioContext},setAudioContext:function(e){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=e,this.masterMuteNode=e.createGain(),this.masterVolumeNode=e.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(e.destination),this.destination=this.masterMuteNode,this},add:function(e,l){var a=new r(this,e,l);return this.sounds.push(a),a},decodeAudio:function(e,l){var a;Array.isArray(e)?a=e:a=[{key:e,data:l}];for(var o=this.game.cache.audio,u=a.length,v=0;v<a.length;v++){var d=a[v],p=d.key,x=d.data;typeof x=="string"&&(x=s(x));var g=(function(y,T){o.add(y,T),this.emit(i.DECODED,y),u--,u===0&&this.emit(i.DECODED_ALL)}).bind(this,p),m=(function(y,T){console.error("Error decoding audio: "+y+" - ",T?T.message:""),u--,u===0&&this.emit(i.DECODED_ALL)}).bind(this,p);this.context.decodeAudioData(x,g,m)}},unlock:function(){var e=this,l=document.body,a=function o(){e.context&&e.context.resume().then(function(){l.removeEventListener("touchstart",o),l.removeEventListener("touchend",o),l.removeEventListener("click",o),l.removeEventListener("keydown",o),e.unlocked=!0},function(){l.removeEventListener("touchstart",o),l.removeEventListener("touchend",o),l.removeEventListener("click",o),l.removeEventListener("keydown",o)})};l&&(l.addEventListener("touchstart",a,!1),l.addEventListener("touchend",a,!1),l.addEventListener("click",a,!1),l.addEventListener("keydown",a,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){this.locked||this.context.resume()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio&&this.game.config.audio.context)this.context.suspend();else{var e=this;this.context.close().then(function(){e.context=null})}f.prototype.destroy.call(this)},setMute:function(e){return this.mute=e,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(e){this.masterMuteNode.gain.setValueAtTime(e?0:1,0),this.emit(i.GLOBAL_MUTE,this,e)}},setVolume:function(e){return this.volume=e,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(e){this.masterVolumeNode.gain.setValueAtTime(e,0),this.emit(i.GLOBAL_VOLUME,this,e)}}});c.exports=n},function(c,E){/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=new Uint8Array(256),f=0;f<t.length;f++)s[t.charCodeAt(f)]=f;var h=function(i){i=i.substr(i.indexOf(",")+1);var r=i.length,n=r*.75,e=0,l,a,o,u;i[r-1]==="="&&(n--,i[r-2]==="="&&n--);for(var v=new ArrayBuffer(n),d=new Uint8Array(v),p=0;p<r;p+=4)l=s[i.charCodeAt(p)],a=s[i.charCodeAt(p+1)],o=s[i.charCodeAt(p+2)],u=s[i.charCodeAt(p+3)],d[e++]=l<<2|a>>4,d[e++]=(a&15)<<4|o>>2,d[e++]=(o&3)<<6|u&63;return v};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(128),f=t(0),h=t(59),i=new f({Extends:s,initialize:function(n,e,l){if(l===void 0&&(l={}),this.audioBuffer=n.game.cache.audio.get(e),!this.audioBuffer)throw new Error('There is no audio asset with key "'+e+'" in the audio cache');this.source=null,this.loopSource=null,this.muteNode=n.context.createGain(),this.volumeNode=n.context.createGain(),this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),this.volumeNode.connect(n.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,s.call(this,n,e,l)},play:function(r,n){return s.prototype.play.call(this,r,n)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(h.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!s.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(h.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!s.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(h.RESUME,this),!0)},stop:function(){return s.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(h.STOP,this),!0):!1},createAndStartBufferSource:function(){var r=this.currentConfig.seek,n=this.currentConfig.delay,e=this.manager.context.currentTime+n,l=(this.currentMarker?this.currentMarker.start:0)+r,a=this.duration-r;this.playTime=e-r,this.startTime=e,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,e),Math.max(0,l),Math.max(0,a)),this.resetConfig()},createAndStartLoopBufferSource:function(){var r=this.getLoopTime(),n=this.currentMarker?this.currentMarker.start:0,e=this.duration;this.loopTime=r,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,r),Math.max(0,n),Math.max(0,e))},createBufferSource:function(){var r=this,n=this.manager.context.createBufferSource();return n.buffer=this.audioBuffer,n.connect(this.muteNode),n.onended=function(e){e.target===r.source&&(r.currentConfig.loop?r.hasLooped=!0:r.hasEnded=!0)},n},stopAndRemoveBufferSource:function(){this.source&&(this.source.stop(),this.source.disconnect(),this.source=null),this.playTime=0,this.startTime=0,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1}),s.prototype.applyConfig.call(this)},update:function(r,n){this.hasEnded?(this.hasEnded=!1,s.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(h.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(h.LOOPED,this))},destroy:function(){s.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.rateUpdates.length=0,this.rateUpdates=null},calculateRate:function(){s.prototype.calculateRate.call(this);var r=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,r),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,r)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var r=0,n=0;n<this.rateUpdates.length;n++){var e=0;n<this.rateUpdates.length-1?e=this.rateUpdates[n+1].time:e=this.manager.context.currentTime-this.playTime,r+=(e-this.rateUpdates[n].time)*this.rateUpdates[n].rate}return r},getLoopTime:function(){for(var r=0,n=0;n<this.rateUpdates.length-1;n++)r+=(this.rateUpdates[n+1].time-this.rateUpdates[n].time)*this.rateUpdates[n].rate;var e=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+e.time+(this.duration-r)/e.rate},rate:{get:function(){return this.currentConfig.rate},set:function(r){this.currentConfig.rate=r,this.calculateRate(),this.emit(h.RATE,this,r)}},setRate:function(r){return this.rate=r,this},detune:{get:function(){return this.currentConfig.detune},set:function(r){this.currentConfig.detune=r,this.calculateRate(),this.emit(h.DETUNE,this,r)}},setDetune:function(r){return this.detune=r,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(r){this.currentConfig.mute=r,this.muteNode.gain.setValueAtTime(r?0:1,0),this.emit(h.MUTE,this,r)}},setMute:function(r){return this.mute=r,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(r){this.currentConfig.volume=r,this.volumeNode.gain.setValueAtTime(r,0),this.emit(h.VOLUME,this,r)}},setVolume:function(r){return this.volume=r,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(r){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(r=Math.min(Math.max(0,r),this.duration),this.currentConfig.seek=r,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(h.SEEK,this,r))}},setSeek:function(r){return this.seek=r,this},loop:{get:function(){return this.currentConfig.loop},set:function(r){this.currentConfig.loop=r,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),r&&this.createAndStartLoopBufferSource()),this.emit(h.LOOP,this,r)}},setLoop:function(r){return this.loop=r,this}});c.exports=i},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){for(var f=s.length,h=s[0].length,i=new Array(h),r=0;r<h;r++){i[r]=new Array(f);for(var n=f-1;n>-1;n--)i[r][n]=s[n][r]}return i};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(h,i,r){var n=h[i];h[i]=h[r],h[r]=n}function s(h,i){return h<i?-1:h>i?1:0}var f=function(h,i,r,n,e){for(r===void 0&&(r=0),n===void 0&&(n=h.length-1),e===void 0&&(e=s);n>r;){if(n-r>600){var l=n-r+1,a=i-r+1,o=Math.log(l),u=.5*Math.exp(2*o/3),v=.5*Math.sqrt(o*u*(l-u)/l)*(a-l/2<0?-1:1),d=Math.max(r,Math.floor(i-a*u/l+v)),p=Math.min(n,Math.floor(i+(l-a)*u/l+v));f(h,i,d,p,e)}var x=h[i],g=r,m=n;for(t(h,r,i),e(h[n],x)>0&&t(h,r,n);g<m;){for(t(h,g,m),g++,m--;e(h[g],x)<0;)g++;for(;e(h[m],x)>0;)m--}e(h[r],x)===0?t(h,r,m):(m++,t(h,m,n)),m<=i&&(r=m+1),i<=m&&(n=m-1)}};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(6),f=t(114),h=function(r,n,e){for(var l=[],a=0;a<r.length;a++)for(var o=0;o<n.length;o++)for(var u=0;u<e;u++)l.push({a:r[a],b:n[o]});return l},i=function(r,n,e){var l=s(e,"max",0),a=s(e,"qty",1),o=s(e,"random",!1),u=s(e,"randomB",!1),v=s(e,"repeat",0),d=s(e,"yoyo",!1),p=[];if(u&&f(n),v===-1)if(l===0)v=0;else{var x=r.length*n.length*a;d&&(x*=2),v=Math.ceil(l/x)}for(var g=0;g<=v;g++){var m=h(r,n,a);o&&f(m),p=p.concat(m),d&&(m.reverse(),p=p.concat(m))}return l&&p.splice(l),p};c.exports=i},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(15),f=function(h,i){var r=s(i,"anims",null);if(r===null)return h;if(typeof r=="string")h.anims.play(r);else if(typeof r=="object"){var n=h.anims,e=s(r,"key",void 0),l=s(r,"startFrame",void 0),a=s(r,"delay",0),o=s(r,"repeat",0),u=s(r,"repeatDelay",0),v=s(r,"yoyo",!1),d=s(r,"play",!1),p=s(r,"delayedPlay",0);n.setDelay(a),n.setRepeat(o),n.setRepeatDelay(u),n.setYoyo(v),d?n.play(e,l):p>0?n.delayedPlay(p,e,l):n.load(e)}return h};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(11),f=function(h,i,r){r===void 0&&(r=new s);var n=Math.min(h.x,i.x),e=Math.min(h.y,i.y),l=Math.max(h.right,i.right)-n,a=Math.max(h.bottom,i.bottom)-e;return r.setTo(n,e,l,a)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(12),h=t(957),i=t(14),r=t(7),n=t(178),e=t(22),l=t(334),a=new s({Extends:i,Mixins:[f.AlphaSingle,f.BlendMode,f.Depth,f.Origin,f.ScrollFactor,f.Transform,f.Visible,h],initialize:function(u,v,d,p,x,g){i.call(this,u,"DOMElement"),this.parent=u.sys.game.domContainer,this.cache=u.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new l,this.rotate3dAngle="deg",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(v,d),typeof p=="string"?p[0]==="#"?this.setElement(p.substr(1),x,g):this.createElement(p,x,g):p&&this.setElement(p,x,g),u.sys.events.on(e.SLEEP,this.handleSceneEvent,this),u.sys.events.on(e.WAKE,this.handleSceneEvent,this)},handleSceneEvent:function(o){var u=this.node,v=u.style;u&&(v.display=o.settings.visible?"block":"none")},setSkew:function(o,u){return o===void 0&&(o=0),u===void 0&&(u=o),this.skewX=o,this.skewY=u,this},setPerspective:function(o){return this.parent.style.perspective=o+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(o){this.parent.style.perspective=o+"px"}},addListener:function(o){if(this.node){o=o.split(" ");for(var u=0;u<o.length;u++)this.node.addEventListener(o[u],this.handler,!1)}return this},removeListener:function(o){if(this.node){o=o.split(" ");for(var u=0;u<o.length;u++)this.node.removeEventListener(o[u],this.handler)}return this},dispatchNativeEvent:function(o){this.emit(o.type,o)},createElement:function(o,u,v){return this.setElement(document.createElement(o),u,v)},setElement:function(o,u,v){this.removeElement();var d;if(typeof o=="string"?(o[0]==="#"&&(o=o.substr(1)),d=document.getElementById(o)):typeof o=="object"&&o.nodeType===1&&(d=o),!d)return this;if(this.node=d,u&&r(u))for(var p in u)d.style[p]=u[p];else typeof u=="string"&&(d.style=u);return d.style.zIndex="0",d.style.display="inline",d.style.position="absolute",d.phaser=this,this.parent&&this.parent.appendChild(d),v&&(d.innerText=v),this.updateSize()},createFromCache:function(o,u){var v=this.cache.get(o);return v&&this.createFromHTML(v,u),this},createFromHTML:function(o,u){u===void 0&&(u="div"),this.removeElement();var v=document.createElement(u);return this.node=v,v.style.zIndex="0",v.style.display="inline",v.style.position="absolute",v.phaser=this,this.parent&&this.parent.appendChild(v),v.innerHTML=o,this.updateSize()},removeElement:function(){return this.node&&(n(this.node),this.node=null),this},updateSize:function(){var o=this.node,u=o.getBoundingClientRect();return this.width=o.clientWidth,this.height=o.clientHeight,this.displayWidth=u.width||0,this.displayHeight=u.height||0,this},getChildByProperty:function(o,u){if(this.node){for(var v=this.node.querySelectorAll("*"),d=0;d<v.length;d++)if(v[d][o]===u)return v[d]}return null},getChildByID:function(o){return this.getChildByProperty("id",o)},getChildByName:function(o){return this.getChildByProperty("name",o)},setClassName:function(o){return this.node&&(this.node.className=o,this.updateSize()),this},setText:function(o){return this.node&&(this.node.innerText=o,this.updateSize()),this},setHTML:function(o){return this.node&&(this.node.innerHTML=o,this.updateSize()),this},preUpdate:function(){var o=this.parentContainer,u=this.node;u&&o&&!o.willRender()&&(u.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(e.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(e.WAKE,this.handleSceneEvent,this)}});c.exports=a},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(958),f=t(14),h=function(i,r,n,e,l){var a=r.node,o=a.style,u=r.scene.sys.settings;if(!a||!o||!u.visible||f.RENDER_MASK!==r.renderFlags||r.cameraFilter!==0&&r.cameraFilter&e.id||r.parentContainer&&!r.parentContainer.willRender()){a&&(o.display="none");return}var v=r.parentContainer,d=e.alpha*r.alpha;v&&(d*=v.alpha);var p=i._tempMatrix1,x=i._tempMatrix2,g=i._tempMatrix3,m=0,y=0,T="0%",S="0%";l?(m=r.width*r.scaleX*r.originX,y=r.height*r.scaleY*r.originY,x.applyITRS(r.x-m,r.y-y,r.rotation,r.scaleX,r.scaleY),p.copyFrom(e.matrix),p.multiplyWithOffset(l,-e.scrollX*r.scrollFactorX,-e.scrollY*r.scrollFactorY),x.e=r.x-m,x.f=r.y-y,p.multiply(x,g)):(m=r.width*r.originX,y=r.height*r.originY,x.applyITRS(r.x-m,r.y-y,r.rotation,r.scaleX,r.scaleY),p.copyFrom(e.matrix),T=100*r.originX+"%",S=100*r.originY+"%",x.e-=e.scrollX*r.scrollFactorX,x.f-=e.scrollY*r.scrollFactorY,p.multiply(x,g)),r.transformOnly||(o.display="block",o.opacity=d,o.zIndex=r._depth,o.pointerEvents="auto",o.mixBlendMode=s[r._blendMode]),o.transform=g.getCSSMatrix()+" skew("+r.skewX+"rad, "+r.skewY+"rad) rotate3d("+r.rotate3d.x+","+r.rotate3d.y+","+r.rotate3d.z+","+r.rotate3d.w+r.rotate3dAngle+")",o.transformOrigin=T+" "+S};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(12),h=t(14),i=t(962),r=new s({Extends:h,Mixins:[f.Alpha,f.BlendMode,f.Depth,f.Flip,f.Origin,f.ScrollFactor,f.Size,f.Texture,f.Tint,f.Transform,f.Visible,i],initialize:function(e){h.call(this,e,"Extern")},preUpdate:function(){},render:function(){}});c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(193),f=t(87),h=t(13),i=t(4),r=function(n,e,l){l===void 0&&(l=new i);var a=f(e,0,h.PI2);return s(n,a,l)};c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(400),f=t(193),h=t(87),i=t(13),r=function(n,e,l,a){a===void 0&&(a=[]),!e&&l>0&&(e=s(n)/l);for(var o=0;o<e;o++){var u=h(o/e,0,i.PI2);a.push(f(n,u))}return a};c.exports=r},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){var f=s.width/2,h=s.height/2,i=Math.pow(f-h,2)/Math.pow(f+h,2);return Math.PI*(f+h)*(1+3*i/(10+Math.sqrt(4-3*i)))};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(192),f=t(28),h=function(i,r,n,e,l,a,o){var u=r.commandBuffer,v=u.length,d=a||i.currentContext;if(!(v===0||!f(i,d,r,e,l))){var p=1,x=1,g=0,m=0,y=1,T=0,S=0,C=0;d.beginPath();for(var P=0;P<v;++P){var A=u[P];switch(A){case s.ARC:d.arc(u[P+1],u[P+2],u[P+3],u[P+4],u[P+5],u[P+6]),P+=7;break;case s.LINE_STYLE:y=u[P+1],g=u[P+2],p=u[P+3],T=(g&16711680)>>>16,S=(g&65280)>>>8,C=g&255,d.strokeStyle="rgba("+T+","+S+","+C+","+p+")",d.lineWidth=y,P+=3;break;case s.FILL_STYLE:m=u[P+1],x=u[P+2],T=(m&16711680)>>>16,S=(m&65280)>>>8,C=m&255,d.fillStyle="rgba("+T+","+S+","+C+","+x+")",P+=2;break;case s.BEGIN_PATH:d.beginPath();break;case s.CLOSE_PATH:d.closePath();break;case s.FILL_PATH:o||d.fill();break;case s.STROKE_PATH:o||d.stroke();break;case s.FILL_RECT:o?d.rect(u[P+1],u[P+2],u[P+3],u[P+4]):d.fillRect(u[P+1],u[P+2],u[P+3],u[P+4]),P+=4;break;case s.FILL_TRIANGLE:d.beginPath(),d.moveTo(u[P+1],u[P+2]),d.lineTo(u[P+3],u[P+4]),d.lineTo(u[P+5],u[P+6]),d.closePath(),o||d.fill(),P+=6;break;case s.STROKE_TRIANGLE:d.beginPath(),d.moveTo(u[P+1],u[P+2]),d.lineTo(u[P+3],u[P+4]),d.lineTo(u[P+5],u[P+6]),d.closePath(),o||d.stroke(),P+=6;break;case s.LINE_TO:d.lineTo(u[P+1],u[P+2]),P+=2;break;case s.MOVE_TO:d.moveTo(u[P+1],u[P+2]),P+=2;break;case s.LINE_FX_TO:d.lineTo(u[P+1],u[P+2]),P+=5;break;case s.MOVE_FX_TO:d.moveTo(u[P+1],u[P+2]),P+=5;break;case s.SAVE:d.save();break;case s.RESTORE:d.restore();break;case s.TRANSLATE:d.translate(u[P+1],u[P+2]),P+=2;break;case s.SCALE:d.scale(u[P+1],u[P+2]),P+=2;break;case s.ROTATE:d.rotate(u[P+1]),P+=1;break;case s.GRADIENT_FILL_STYLE:P+=5;break;case s.GRADIENT_LINE_STYLE:P+=6;break;case s.SET_TEXTURE:P+=2;break}}d.restore()}};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(2),h=new s({initialize:function(r,n,e,l,a){if(typeof r=="object"){var o=r;r=f(o,"x",0),n=f(o,"y",0),e=f(o,"power",0),l=f(o,"epsilon",100),a=f(o,"gravity",50)}else r===void 0&&(r=0),n===void 0&&(n=0),e===void 0&&(e=0),l===void 0&&(l=100),a===void 0&&(a=50);this.x=r,this.y=n,this.active=!0,this._gravity=a,this._power=0,this._epsilon=0,this.power=e,this.epsilon=l},update:function(i,r){var n=this.x-i.x,e=this.y-i.y,l=n*n+e*e;if(l!==0){var a=Math.sqrt(l);l<this._epsilon&&(l=this._epsilon);var o=this._power*r/(l*a)*100;i.velocityX+=n*o,i.velocityY+=e*o}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(i){this._epsilon=i*i}},power:{get:function(){return this._power/this._gravity},set:function(i){this._power=i*this._gravity}},gravity:{get:function(){return this._gravity},set:function(i){var r=this.power;this._gravity=i,this.power=r}}});c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(39),h=t(53),i=new s({initialize:function(n){this.emitter=n,this.frame=null,this.x=0,this.y=0,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215,current:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1}}},isAlive:function(){return this.lifeCurrent>0},resetPosition:function(){this.x=0,this.y=0},fire:function(r,n){var e=this.emitter;this.frame=e.getFrame(),e.emitZone&&e.emitZone.getPoint(this),r===void 0?(e.follow&&(this.x+=e.follow.x+e.followOffset.x),this.x+=e.x.onEmit(this,"x")):this.x+=r,n===void 0?(e.follow&&(this.y+=e.follow.y+e.followOffset.y),this.y+=e.y.onEmit(this,"y")):this.y+=n,this.life=e.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0;var l=e.speedX.onEmit(this,"speedX"),a=e.speedY?e.speedY.onEmit(this,"speedY"):l;if(e.radial){var o=f(e.angle.onEmit(this,"angle"));this.velocityX=Math.cos(o)*Math.abs(l),this.velocityY=Math.sin(o)*Math.abs(a)}else if(e.moveTo){var u=e.moveToX.onEmit(this,"moveToX"),v=e.moveToY?e.moveToY.onEmit(this,"moveToY"):u,d=Math.atan2(v-this.y,u-this.x),p=h(this.x,this.y,u,v)/(this.life/1e3);this.velocityX=Math.cos(d)*p,this.velocityY=Math.sin(d)*p}else this.velocityX=l,this.velocityY=a;e.acceleration&&(this.accelerationX=e.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=e.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=e.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=e.maxVelocityY.onEmit(this,"maxVelocityY"),this.delayCurrent=e.delay.onEmit(this,"delay"),this.scaleX=e.scaleX.onEmit(this,"scaleX"),this.scaleY=e.scaleY?e.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=e.rotate.onEmit(this,"rotate"),this.rotation=f(this.angle),this.bounce=e.bounce.onEmit(this,"bounce"),this.alpha=e.alpha.onEmit(this,"alpha"),this.tint=e.tint.onEmit(this,"tint")},computeVelocity:function(r,n,e,l){var a=this.velocityX,o=this.velocityY,u=this.accelerationX,v=this.accelerationY,d=this.maxVelocityX,p=this.maxVelocityY;a+=r.gravityX*e,o+=r.gravityY*e,u&&(a+=u*e),v&&(o+=v*e),a>d?a=d:a<-d&&(a=-d),o>p?o=p:o<-p&&(o=-p),this.velocityX=a,this.velocityY=o;for(var x=0;x<l.length;x++)l[x].update(this,n,e)},checkBounds:function(r){var n=r.bounds,e=-this.bounce;this.x<n.x&&r.collideLeft?(this.x=n.x,this.velocityX*=e):this.x>n.right&&r.collideRight&&(this.x=n.right,this.velocityX*=e),this.y<n.y&&r.collideTop?(this.y=n.y,this.velocityY*=e):this.y>n.bottom&&r.collideBottom&&(this.y=n.bottom,this.velocityY*=e)},update:function(r,n,e){if(this.delayCurrent>0)return this.delayCurrent-=r,!1;var l=this.emitter,a=1-this.lifeCurrent/this.life;return this.lifeT=a,this.computeVelocity(l,r,n,e),this.x+=this.velocityX*n,this.y+=this.velocityY*n,l.bounds&&this.checkBounds(l),l.deathZone&&l.deathZone.willKill(this)?(this.lifeCurrent=0,!0):(this.scaleX=l.scaleX.onUpdate(this,"scaleX",a,this.scaleX),l.scaleY?this.scaleY=l.scaleY.onUpdate(this,"scaleY",a,this.scaleY):this.scaleY=this.scaleX,this.angle=l.rotate.onUpdate(this,"rotate",a,this.angle),this.rotation=f(this.angle),this.alpha=l.alpha.onUpdate(this,"alpha",a,this.alpha),this.tint=l.tint.onUpdate(this,"tint",a,this.tint),this.lifeCurrent-=r,this.lifeCurrent<=0)}});c.exports=i},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(52),f=t(0),h=t(12),i=t(405),r=t(406),n=t(974),e=t(2),l=t(185),a=t(407),o=t(108),u=t(403),v=t(408),d=t(11),p=t(131),x=t(3),g=t(58),m=new f({Mixins:[h.BlendMode,h.Mask,h.ScrollFactor,h.Visible],initialize:function(T,S){this.manager=T,this.texture=T.texture,this.frames=[T.defaultFrame],this.defaultFrame=T.defaultFrame,this.configFastMap=["active","blendMode","collideBottom","collideLeft","collideRight","collideTop","deathCallback","deathCallbackScope","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxParticles","name","on","particleBringToTop","particleClass","radial","timeScale","trackVisible","visible"],this.configOpMap=["accelerationX","accelerationY","angle","alpha","bounce","delay","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],this.name="",this.particleClass=u,this.x=new n(S,"x",0,!0),this.y=new n(S,"y",0,!0),this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.accelerationX=new n(S,"accelerationX",0,!0),this.accelerationY=new n(S,"accelerationY",0,!0),this.maxVelocityX=new n(S,"maxVelocityX",1e4,!0),this.maxVelocityY=new n(S,"maxVelocityY",1e4,!0),this.speedX=new n(S,"speedX",0,!0),this.speedY=new n(S,"speedY",0,!0),this.moveTo=!1,this.moveToX=new n(S,"moveToX",0,!0),this.moveToY=new n(S,"moveToY",0,!0),this.bounce=new n(S,"bounce",0,!0),this.scaleX=new n(S,"scaleX",1),this.scaleY=new n(S,"scaleY",1),this.tint=new n(S,"tint",4294967295),this.alpha=new n(S,"alpha",1),this.lifespan=new n(S,"lifespan",1e3,!0),this.angle=new n(S,"angle",{min:0,max:360},!0),this.rotate=new n(S,"rotate",0),this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.quantity=new n(S,"quantity",1,!0),this.delay=new n(S,"delay",0,!0),this.frequency=0,this.on=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZone=null,this.deathZone=null,this.bounds=null,this.collideLeft=!0,this.collideRight=!0,this.collideTop=!0,this.collideBottom=!0,this.active=!0,this.visible=!0,this.blendMode=s.NORMAL,this.follow=null,this.followOffset=new x,this.trackVisible=!1,this.currentFrame=0,this.randomFrame=!0,this.frameQuantity=1,this.dead=[],this.alive=[],this._counter=0,this._frameCounter=0,S&&this.fromJSON(S)},fromJSON:function(y){if(!y)return this;var T=0,S="";for(T=0;T<this.configFastMap.length;T++)S=this.configFastMap[T],o(y,S)&&(this[S]=e(y,S));for(T=0;T<this.configOpMap.length;T++)S=this.configOpMap[T],o(y,S)&&this[S].loadConfig(y);if(this.acceleration=this.accelerationX.propertyValue!==0||this.accelerationY.propertyValue!==0,this.moveTo=this.moveToX.propertyValue!==0||this.moveToY.propertyValue!==0,o(y,"speed")&&(this.speedX.loadConfig(y,"speed"),this.speedY=null),(a(y,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),o(y,"scale")&&(this.scaleX.loadConfig(y,"scale"),this.scaleY=null),o(y,"callbackScope")){var C=e(y,"callbackScope",null);this.emitCallbackScope=C,this.deathCallbackScope=C}return o(y,"emitZone")&&this.setEmitZone(y.emitZone),o(y,"deathZone")&&this.setDeathZone(y.deathZone),o(y,"bounds")&&this.setBounds(y.bounds),o(y,"followOffset")&&this.followOffset.setFromObject(e(y,"followOffset",0)),o(y,"frame")&&this.setFrame(y.frame),this},toJSON:function(y){y===void 0&&(y={});var T=0,S="";for(T=0;T<this.configFastMap.length;T++)S=this.configFastMap[T],y[S]=this[S];for(T=0;T<this.configOpMap.length;T++)S=this.configOpMap[T],this[S]&&(y[S]=this[S].toJSON());return this.speedY||(delete y.speedX,y.speed=this.speedX.toJSON()),this.scaleY||(delete y.scaleX,y.scale=this.scaleX.toJSON()),y},startFollow:function(y,T,S,C){return T===void 0&&(T=0),S===void 0&&(S=0),C===void 0&&(C=!1),this.follow=y,this.followOffset.set(T,S),this.trackVisible=C,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){if(this.frames.length===1)return this.defaultFrame;if(this.randomFrame)return l(this.frames);var y=this.frames[this.currentFrame];return this._frameCounter++,this._frameCounter===this.frameQuantity&&(this._frameCounter=0,this.currentFrame=g(this.currentFrame+1,0,this._frameLength)),y},setFrame:function(y,T,S){T===void 0&&(T=!0),S===void 0&&(S=1),this.randomFrame=T,this.frameQuantity=S,this.currentFrame=0,this._frameCounter=0;var C=typeof y;if(Array.isArray(y)||C==="string"||C==="number")this.manager.setEmitterFrames(y,this);else if(C==="object"){var P=y;y=e(P,"frames",null),y&&this.manager.setEmitterFrames(y,this);var A=e(P,"cycle",!1);this.randomFrame=!A,this.frameQuantity=e(P,"quantity",S)}return this._frameLength=this.frames.length,this._frameLength===1&&(this.frameQuantity=1,this.randomFrame=!1),this},setRadial:function(y){return y===void 0&&(y=!0),this.radial=y,this},setPosition:function(y,T){return this.x.onChange(y),this.y.onChange(T),this},setBounds:function(y,T,S,C){if(typeof y=="object"){var P=y;y=P.x,T=P.y,S=o(P,"w")?P.w:P.width,C=o(P,"h")?P.h:P.height}return this.bounds?this.bounds.setTo(y,T,S,C):this.bounds=new d(y,T,S,C),this},setSpeedX:function(y){return this.speedX.onChange(y),this.radial=!1,this},setSpeedY:function(y){return this.speedY&&(this.speedY.onChange(y),this.radial=!1),this},setSpeed:function(y){return this.speedX.onChange(y),this.speedY=null,this.radial=!0,this},setScaleX:function(y){return this.scaleX.onChange(y),this},setScaleY:function(y){return this.scaleY.onChange(y),this},setScale:function(y){return this.scaleX.onChange(y),this.scaleY=null,this},setGravityX:function(y){return this.gravityX=y,this},setGravityY:function(y){return this.gravityY=y,this},setGravity:function(y,T){return this.gravityX=y,this.gravityY=T,this},setAlpha:function(y){return this.alpha.onChange(y),this},setTint:function(y){return this.tint.onChange(y),this},setEmitterAngle:function(y){return this.angle.onChange(y),this},setAngle:function(y){return this.angle.onChange(y),this},setLifespan:function(y){return this.lifespan.onChange(y),this},setQuantity:function(y){return this.quantity.onChange(y),this},setFrequency:function(y,T){return this.frequency=y,this._counter=0,T&&this.quantity.onChange(T),this},setEmitZone:function(y){if(y===void 0)this.emitZone=null;else{var T=e(y,"type","random"),S=e(y,"source",null);switch(T){case"random":this.emitZone=new v(S);break;case"edge":var C=e(y,"quantity",1),P=e(y,"stepRate",0),A=e(y,"yoyo",!1),M=e(y,"seamless",!0);this.emitZone=new r(S,C,P,A,M);break}}return this},setDeathZone:function(y){if(y===void 0)this.deathZone=null;else{var T=e(y,"type","onEnter"),S=e(y,"source",null);if(S&&typeof S.contains=="function"){var C=T==="onEnter";this.deathZone=new i(S,C)}}return this},reserve:function(y){for(var T=this.dead,S=0;S<y;S++)T.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()===this.maxParticles},onParticleEmit:function(y,T){return y===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof y=="function"&&(this.emitCallback=y,T&&(this.emitCallbackScope=T)),this},onParticleDeath:function(y,T){return y===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof y=="function"&&(this.deathCallback=y,T&&(this.deathCallbackScope=T)),this},killAll:function(){for(var y=this.dead,T=this.alive;T.length>0;)y.push(T.pop());return this},forEachAlive:function(y,T){for(var S=this.alive,C=S.length,P=0;P<C;++P)y.call(T,S[P],this);return this},forEachDead:function(y,T){for(var S=this.dead,C=S.length,P=0;P<C;++P)y.call(T,S[P],this);return this},start:function(){return this.on=!0,this._counter=0,this},stop:function(){return this.on=!1,this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},remove:function(){return this.manager.removeEmitter(this),this},depthSort:function(){return p.inplace(this.alive,this.depthSortCallback),this},flow:function(y,T){return T===void 0&&(T=1),this.frequency=y,this.quantity.onChange(T),this.start()},explode:function(y,T,S){return this.frequency=-1,this.emitParticle(y,T,S)},emitParticleAt:function(y,T,S){return this.emitParticle(S,y,T)},emitParticle:function(y,T,S){if(!this.atLimit()){y===void 0&&(y=this.quantity.onEmit());for(var C=this.dead,P=0;P<y;P++){var A=C.pop();if(A||(A=new this.particleClass(this)),A.fire(T,S),this.particleBringToTop?this.alive.push(A):this.alive.unshift(A),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,A,this),this.atLimit())break}return A}},preUpdate:function(y,T){T*=this.timeScale;var S=T/1e3;this.trackVisible&&(this.visible=this.follow.visible);var C=this.manager.getProcessors(),P=this.alive,A=this.dead,M=0,O=[],I=P.length;for(M=0;M<I;M++){var B=P[M];B.update(T,S,C)&&O.push({index:M,particle:B})}if(I=O.length,I>0){var G=this.deathCallback,z=this.deathCallbackScope;for(M=I-1;M>=0;M--){var N=O[M];P.splice(N.index,1),A.push(N.particle),G&&G.call(z,N.particle),N.particle.resetPosition()}}this.on&&(this.frequency===0?this.emitParticle():this.frequency>0&&(this._counter-=T,this._counter<=0&&(this.emitParticle(),this._counter=this.frequency-Math.abs(this._counter))))},depthSortCallback:function(y,T){return y.y-T.y}});c.exports=m},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=new s({initialize:function(i,r){this.source=i,this.killOnEnter=r},willKill:function(h){var i=this.source.contains(h.x,h.y);return i&&this.killOnEnter||!i&&!this.killOnEnter}});c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=new s({initialize:function(i,r,n,e,l){e===void 0&&(e=!1),l===void 0&&(l=!0),this.source=i,this.points=[],this.quantity=r,this.stepRate=n,this.yoyo=e,this.counter=-1,this.seamless=l,this._length=0,this._direction=0,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var h=this.points[0],i=this.points[this.points.length-1];h.x===i.x&&h.y===i.y&&this.points.pop()}var r=this._length;return this._length=this.points.length,this._length<r&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(h){return this.source=h,this.updateSource()},getPoint:function(h){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var i=this.points[this.counter];i&&(h.x=i.x,h.y=i.y)}});c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){for(var h=0;h<f.length;h++)if(s.hasOwnProperty(f[h]))return!0;return!1};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(3),h=new s({initialize:function(r){this.source=r,this._tempVec=new f},getPoint:function(i){var r=this._tempVec;this.source.getRandomPoint(r),i.x=r.x,i.y=r.y}});c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(12),h=t(75),i=new s({Extends:h,Mixins:[f.PathFollower],initialize:function(n,e,l,a,o,u){h.call(this,n,l,a,o,u),this.path=e},preUpdate:function(r,n){this.anims.update(r,n),this.pathUpdate(r)}});c.exports=i},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(1e3),f=t(0),h=t(39),i=t(66),r=t(65),n=t(13),e=t(30),l=new f({Extends:e,Mixins:[s],initialize:function(o,u,v,d,p,x,g,m,y){u===void 0&&(u=0),v===void 0&&(v=0),d===void 0&&(d=128),p===void 0&&(p=0),x===void 0&&(x=360),g===void 0&&(g=!1),e.call(this,o,"Arc",new r(0,0,d)),this._startAngle=p,this._endAngle=x,this._anticlockwise=g,this._iterations=.01,this.setPosition(u,v);var T=this.geom.radius*2;this.setSize(T,T),m!==void 0&&this.setFillStyle(m,y),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(a){this._iterations=a,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(a){this.geom.radius=a;var o=a*2;this.setSize(o,o),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(a){this._startAngle=a,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(a){this._endAngle=a,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(a){this._anticlockwise=a,this.updateData()}},setRadius:function(a){return this.radius=a,this},setIterations:function(a){return a===void 0&&(a=.01),this.iterations=a,this},setStartAngle:function(a,o){return this._startAngle=a,o!==void 0&&(this._anticlockwise=o),this.updateData()},setEndAngle:function(a,o){return this._endAngle=a,o!==void 0&&(this._anticlockwise=o),this.updateData()},updateData:function(){var a=this._iterations,o=a,u=this.geom.radius,v=h(this._startAngle),d=h(this._endAngle),p=this._anticlockwise,x=u,g=u;d-=v,p?d<-n.PI2?d=-n.PI2:d>0&&(d=-n.PI2+d%n.PI2):d>n.PI2?d=n.PI2:d<0&&(d=n.PI2+d%n.PI2);for(var m=[x+Math.cos(v)*u,g+Math.sin(v)*u],y;o<1;)y=d*o+v,m.push(x+Math.cos(y)*u,g+Math.sin(y)*u),o+=a;return y=d+v,m.push(x+Math.cos(y)*u,g+Math.sin(y)*u),m.push(x+Math.cos(v)*u,g+Math.sin(v)*u),this.pathIndexes=i(m),this.pathData=m,this}});c.exports=l},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(1003),h=t(66),i=t(11),r=t(30),n=new s({Extends:r,Mixins:[f],initialize:function(l,a,o,u,v,d){a===void 0&&(a=0),o===void 0&&(o=0),r.call(this,l,"Curve",u),this._smoothness=32,this._curveBounds=new i,this.closePath=!1,this.setPosition(a,o),v!==void 0&&this.setFillStyle(v,d),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(e){this._smoothness=e,this.updateData()}},setSmoothness:function(e){return this._smoothness=e,this.updateData()},updateData:function(){var e=this._curveBounds,l=this._smoothness;this.geom.getBounds(e,l),this.setSize(e.width,e.height),this.updateDisplayOrigin();for(var a=[],o=this.geom.getPoints(l),u=0;u<o.length;u++)a.push(o[u].x,o[u].y);return a.push(o[0].x,o[0].y),this.pathIndexes=h(a),this.pathData=a,this}});c.exports=n},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(66),h=t(1006),i=t(95),r=t(30),n=new s({Extends:r,Mixins:[h],initialize:function(l,a,o,u,v,d,p){a===void 0&&(a=0),o===void 0&&(o=0),u===void 0&&(u=128),v===void 0&&(v=128),r.call(this,l,"Ellipse",new i(u/2,v/2,u,v)),this._smoothness=64,this.setPosition(a,o),this.width=u,this.height=v,d!==void 0&&this.setFillStyle(d,p),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(e){this._smoothness=e,this.updateData()}},setSize:function(e,l){return this.geom.setSize(e,l),this.updateData()},setSmoothness:function(e){return this._smoothness=e,this.updateData()},updateData:function(){for(var e=[],l=this.geom.getPoints(this._smoothness),a=0;a<l.length;a++)e.push(l[a].x,l[a].y);return e.push(l[0].x,l[0].y),this.pathIndexes=f(e),this.pathData=e,this}});c.exports=n},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(30),h=t(1009),i=new s({Extends:f,Mixins:[h],initialize:function(n,e,l,a,o,u,v,d,p,x,g){e===void 0&&(e=0),l===void 0&&(l=0),a===void 0&&(a=128),o===void 0&&(o=128),u===void 0&&(u=32),v===void 0&&(v=32),f.call(this,n,"Grid",null),this.cellWidth=u,this.cellHeight=v,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(e,l),this.setSize(a,o),d!==void 0&&this.setFillStyle(d,p),x!==void 0&&this.setOutlineStyle(x,g),this.updateDisplayOrigin()},setFillStyle:function(r,n){return n===void 0&&(n=1),r===void 0?this.showCells=!1:(this.fillColor=r,this.fillAlpha=n,this.showCells=!0),this},setAltFillStyle:function(r,n){return n===void 0&&(n=1),r===void 0?this.showAltCells=!1:(this.altFillColor=r,this.altFillAlpha=n,this.showAltCells=!0),this},setOutlineStyle:function(r,n){return n===void 0&&(n=1),r===void 0?this.showOutline=!1:(this.outlineFillColor=r,this.outlineFillAlpha=n,this.showOutline=!0),this}});c.exports=i},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(1012),f=t(0),h=t(30),i=new f({Extends:h,Mixins:[s],initialize:function(n,e,l,a,o,u,v,d){e===void 0&&(e=0),l===void 0&&(l=0),a===void 0&&(a=48),o===void 0&&(o=32),u===void 0&&(u=15658734),v===void 0&&(v=10066329),d===void 0&&(d=13421772),h.call(this,n,"IsoBox",null),this.projection=4,this.fillTop=u,this.fillLeft=v,this.fillRight=d,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(e,l),this.setSize(a,o),this.updateDisplayOrigin()},setProjection:function(r){return this.projection=r,this},setFaces:function(r,n,e){return r===void 0&&(r=!0),n===void 0&&(n=!0),e===void 0&&(e=!0),this.showTop=r,this.showLeft=n,this.showRight=e,this},setFillStyle:function(r,n,e){return this.fillTop=r,this.fillLeft=n,this.fillRight=e,this.isFilled=!0,this}});c.exports=i},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(1015),h=t(30),i=new s({Extends:h,Mixins:[f],initialize:function(n,e,l,a,o,u,v,d,p){e===void 0&&(e=0),l===void 0&&(l=0),a===void 0&&(a=48),o===void 0&&(o=32),u===void 0&&(u=!1),v===void 0&&(v=15658734),d===void 0&&(d=10066329),p===void 0&&(p=13421772),h.call(this,n,"IsoTriangle",null),this.projection=4,this.fillTop=v,this.fillLeft=d,this.fillRight=p,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=u,this.isFilled=!0,this.setPosition(e,l),this.setSize(a,o),this.updateDisplayOrigin()},setProjection:function(r){return this.projection=r,this},setReversed:function(r){return this.isReversed=r,this},setFaces:function(r,n,e){return r===void 0&&(r=!0),n===void 0&&(n=!0),e===void 0&&(e=!0),this.showTop=r,this.showLeft=n,this.showRight=e,this},setFillStyle:function(r,n,e){return this.fillTop=r,this.fillLeft=n,this.fillRight=e,this.isFilled=!0,this}});c.exports=i},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(30),h=t(56),i=t(1018),r=new s({Extends:f,Mixins:[i],initialize:function(e,l,a,o,u,v,d,p,x){l===void 0&&(l=0),a===void 0&&(a=0),o===void 0&&(o=0),u===void 0&&(u=0),v===void 0&&(v=128),d===void 0&&(d=0),f.call(this,e,"Line",new h(o,u,v,d));var g=this.geom.right-this.geom.left,m=this.geom.bottom-this.geom.top;this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(l,a),this.setSize(g,m),p!==void 0&&this.setStrokeStyle(1,p,x),this.updateDisplayOrigin()},setLineWidth:function(n,e){return e===void 0&&(e=n),this._startWidth=n,this._endWidth=e,this.lineWidth=n,this},setTo:function(n,e,l,a){return this.geom.setTo(n,e,l,a),this}});c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(1021),f=t(0),h=t(66),i=t(418),r=t(201),n=t(30),e=t(421),l=new f({Extends:n,Mixins:[s],initialize:function(o,u,v,d,p,x){u===void 0&&(u=0),v===void 0&&(v=0),n.call(this,o,"Polygon",new r(d));var g=i(this.geom);this.setPosition(u,v),this.setSize(g.width,g.height),p!==void 0&&this.setFillStyle(p,x),this.updateDisplayOrigin(),this.updateData()},smooth:function(a){a===void 0&&(a=1);for(var o=0;o<a;o++)e(this.geom);return this.updateData()},updateData:function(){for(var a=[],o=this.geom.points,u=0;u<o.length;u++)a.push(o[u].x,o[u].y);return a.push(o[0].x,o[0].y),this.pathIndexes=h(a),this.pathData=a,this}});c.exports=l},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(11),f=function(h,i){i===void 0&&(i=new s);for(var r=1/0,n=1/0,e=-r,l=-n,a,o=0;o<h.points.length;o++)a=h.points[o],r=Math.min(r,a.x),n=Math.min(n,a.y),e=Math.max(e,a.x),l=Math.max(l,a.y);return i.x=r,i.y=n,i.width=e-r,i.height=l-n,i};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(57),f=t(56),h=t(420),i=function(r,n,e,l){l===void 0&&(l=[]);var a=r.points,o=h(r);!n&&e>0&&(n=o/e);for(var u=0;u<n;u++)for(var v=o*(u/n),d=0,p=0;p<a.length;p++){var x=a[p],g=a[(p+1)%a.length],m=new f(x.x,x.y,g.x,g.y),y=s(m);if(v<d||v>d+y){d+=y;continue}var T=m.getPoint((v-d)/y);l.push(T);break}return l};c.exports=i},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(57),f=t(56),h=function(i){for(var r=i.points,n=0,e=0;e<r.length;e++){var l=r[e],a=r[(e+1)%r.length],o=new f(l.x,l.y,a.x,a.y);n+=s(o)}return n};c.exports=h},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(f,h){return f[0]=h[0],f[1]=h[1],f},s=function(f){var h,i=[],r=f.points;for(h=0;h<r.length;h++)i.push([r[h].x,r[h].y]);var n=[];for(i.length>0&&n.push(t([0,0],i[0])),h=0;h<i.length-1;h++){var e=i[h],l=i[h+1],a=e[0],o=e[1],u=l[0],v=l[1];n.push([.85*a+.15*u,.85*o+.15*v]),n.push([.15*a+.85*u,.15*o+.85*v])}return i.length>1&&n.push(t([0,0],i[i.length-1])),f.setTo(n)};c.exports=s},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(11),h=t(30),i=t(1024),r=new s({Extends:h,Mixins:[i],initialize:function(e,l,a,o,u,v,d){l===void 0&&(l=0),a===void 0&&(a=0),o===void 0&&(o=128),u===void 0&&(u=128),h.call(this,e,"Rectangle",new f(0,0,o,u)),this.setPosition(l,a),this.setSize(o,u),v!==void 0&&this.setFillStyle(v,d),this.updateDisplayOrigin(),this.updateData()},updateData:function(){var n=[],e=this.geom,l=this._tempLine;return e.getLineA(l),n.push(l.x1,l.y1,l.x2,l.y2),e.getLineB(l),n.push(l.x2,l.y2),e.getLineC(l),n.push(l.x2,l.y2),e.getLineD(l),n.push(l.x2,l.y2),this.pathData=n,this}});c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(1027),f=t(0),h=t(66),i=t(30),r=new f({Extends:i,Mixins:[s],initialize:function(e,l,a,o,u,v,d,p){l===void 0&&(l=0),a===void 0&&(a=0),o===void 0&&(o=5),u===void 0&&(u=32),v===void 0&&(v=64),i.call(this,e,"Star",null),this._points=o,this._innerRadius=u,this._outerRadius=v,this.setPosition(l,a),this.setSize(v*2,v*2),d!==void 0&&this.setFillStyle(d,p),this.updateDisplayOrigin(),this.updateData()},setPoints:function(n){return this._points=n,this.updateData()},setInnerRadius:function(n){return this._innerRadius=n,this.updateData()},setOuterRadius:function(n){return this._outerRadius=n,this.updateData()},points:{get:function(){return this._points},set:function(n){this._points=n,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(n){this._innerRadius=n,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(n){this._outerRadius=n,this.updateData()}},updateData:function(){var n=[],e=this._points,l=this._innerRadius,a=this._outerRadius,o=Math.PI/2*3,u=Math.PI/e,v=a,d=a;n.push(v,d+-a);for(var p=0;p<e;p++)n.push(v+Math.cos(o)*a,d+Math.sin(o)*a),o+=u,n.push(v+Math.cos(o)*l,d+Math.sin(o)*l),o+=u;return n.push(v,d+-a),this.pathIndexes=h(n),this.pathData=n,this}});c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(30),h=t(71),i=t(1030),r=new s({Extends:f,Mixins:[i],initialize:function(e,l,a,o,u,v,d,p,x,g,m){l===void 0&&(l=0),a===void 0&&(a=0),o===void 0&&(o=0),u===void 0&&(u=128),v===void 0&&(v=64),d===void 0&&(d=0),p===void 0&&(p=128),x===void 0&&(x=128),f.call(this,e,"Triangle",new h(o,u,v,d,p,x));var y=this.geom.right-this.geom.left,T=this.geom.bottom-this.geom.top;this.setPosition(l,a),this.setSize(y,T),g!==void 0&&this.setFillStyle(g,m),this.updateDisplayOrigin(),this.updateData()},setTo:function(n,e,l,a,o,u){return this.geom.setTo(n,e,l,a,o,u),this.updateData()},updateData:function(){var n=[],e=this.geom,l=this._tempLine;return e.getLineA(l),n.push(l.x1,l.y1,l.x2,l.y2),e.getLineB(l),n.push(l.x2,l.y2),e.getLineC(l),n.push(l.x2,l.y2),this.pathData=n,this}});c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(4),f=t(57),h=function(i,r,n){n===void 0&&(n=new s);var e=i.getLineA(),l=i.getLineB(),a=i.getLineC();if(r<=0||r>=1)return n.x=e.x1,n.y=e.y1,n;var o=f(e),u=f(l),v=f(a),d=o+u+v,p=d*r,x=0;return p<o?(x=p/o,n.x=e.x1+(e.x2-e.x1)*x,n.y=e.y1+(e.y2-e.y1)*x):p>o+u?(p-=o+u,x=p/v,n.x=a.x1+(a.x2-a.x1)*x,n.y=a.y1+(a.y2-a.y1)*x):(p-=o,x=p/u,n.x=l.x1+(l.x2-l.x1)*x,n.y=l.y1+(l.y2-l.y1)*x),n};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(57),f=t(4),h=function(i,r,n,e){e===void 0&&(e=[]);var l=i.getLineA(),a=i.getLineB(),o=i.getLineC(),u=s(l),v=s(a),d=s(o),p=u+v+d;!r&&n>0&&(r=p/n);for(var x=0;x<r;x++){var g=p*(x/r),m=0,y=new f;g<u?(m=g/u,y.x=l.x1+(l.x2-l.x1)*m,y.y=l.y1+(l.y2-l.y1)*m):g>u+v?(g-=u+v,m=g/d,y.x=o.x1+(o.x2-o.x1)*m,y.y=o.y1+(o.y2-o.y1)*m):(g-=u,m=g/v,y.x=a.x1+(a.x2-a.x1)*m,y.y=a.y1+(a.y2-a.y1)*m),e.push(y)}return e};c.exports=h},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){if(!s||typeof s=="number")return!1;if(s.hasOwnProperty(f))return s[f]=h,!0;if(f.indexOf(".")!==-1){for(var i=f.split("."),r=s,n=s,e=0;e<i.length;e++)if(r.hasOwnProperty(i[e]))n=r,r=r[i[e]];else return!1;return n[i[i.length-1]]=h,!0}return!1};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(9),h=new s({initialize:function(r,n,e,l,a,o,u){this.x=r,this.y=n,this.radius=e,this.r=l,this.g=a,this.b=o,this.intensity=u,this.scrollFactorX=1,this.scrollFactorY=1},set:function(i,r,n,e,l,a,o){return this.x=i,this.y=r,this.radius=n,this.r=e,this.g=l,this.b=a,this.intensity=o,this.scrollFactorX=1,this.scrollFactorY=1,this},setScrollFactor:function(i,r){return i===void 0&&(i=1),r===void 0&&(r=i),this.scrollFactorX=i,this.scrollFactorY=r,this},setColor:function(i){var r=f.getFloatsFromUintRGB(i);return this.r=r[0],this.g=r[1],this.b=r[2],this},setIntensity:function(i){return this.intensity=i,this},setPosition:function(i,r){return this.x=i,this.y=r,this},setRadius:function(i){return this.radius=i,this}});c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(428),h=t(9),i=new s({initialize:function(){this.lightPool=[],this.lights=[],this.culledLights=[],this.ambientColor={r:.1,g:.1,b:.1},this.active=!1,this.maxLights=-1},enable:function(){return this.maxLights===-1&&(this.maxLights=this.scene.sys.game.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},cull:function(r){var n=this.lights,e=this.culledLights,l=n.length,a=r.x+r.width/2,o=r.y+r.height/2,u=(r.width+r.height)/2,v={x:0,y:0},d=r.matrix,p=this.systems.game.config.height;e.length=0;for(var x=0;x<l&&e.length<this.maxLights;x++){var g=n[x];d.transformPoint(g.x,g.y,v);var m=a-(v.x-r.scrollX*g.scrollFactorX*r.zoom),y=o-(p-(v.y-r.scrollY*g.scrollFactorY*r.zoom)),T=Math.sqrt(m*m+y*y);T<g.radius+u&&e.push(n[x])}return e},forEachLight:function(r){if(r){for(var n=this.lights,e=n.length,l=0;l<e;++l)r(n[l]);return this}},setAmbientColor:function(r){var n=h.getFloatsFromUintRGB(r);return this.ambientColor.r=n[0],this.ambientColor.g=n[1],this.ambientColor.b=n[2],this},getMaxVisibleLights:function(){return 10},getLightCount:function(){return this.lights.length},addLight:function(r,n,e,l,a){var o=null,u=null;return r=r===void 0?0:r,n=n===void 0?0:n,l=l===void 0?16777215:l,e=e===void 0?100:e,a=a===void 0?1:a,o=h.getFloatsFromUintRGB(l),u=null,this.lightPool.length>0?(u=this.lightPool.pop(),u.set(r,n,e,o[0],o[1],o[2],a)):u=new f(r,n,e,o[0],o[1],o[2],a),this.lights.push(u),u},removeLight:function(r){var n=this.lights.indexOf(r);return n>=0&&(this.lightPool.push(r),this.lights.splice(n,1)),this},shutdown:function(){for(;this.lights.length>0;)this.lightPool.push(this.lights.pop());this.ambientColor={r:.1,g:.1,b:.1},this.culledLights.length=0,this.lights.length=0},destroy:function(){this.shutdown()}});c.exports=i},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(47),f=t(18),h={Circle:t(1090),Ellipse:t(1100),Intersects:t(431),Line:t(1119),Point:t(1141),Polygon:t(1155),Rectangle:t(444),Triangle:t(1186)};h=f(!1,h,s),c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CircleToCircle:t(205),CircleToRectangle:t(206),GetCircleToCircle:t(1110),GetCircleToRectangle:t(1111),GetLineToCircle:t(207),GetLineToRectangle:t(209),GetRectangleIntersection:t(1112),GetRectangleToRectangle:t(1113),GetRectangleToTriangle:t(1114),GetTriangleToCircle:t(1115),GetTriangleToLine:t(436),GetTriangleToTriangle:t(1116),LineToCircle:t(208),LineToLine:t(84),LineToRectangle:t(432),PointToLine:t(440),PointToLineSegment:t(1117),RectangleToRectangle:t(135),RectangleToTriangle:t(433),RectangleToValues:t(1118),TriangleToCircle:t(435),TriangleToLine:t(437),TriangleToTriangle:t(438)}},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){var h=s.x1,i=s.y1,r=s.x2,n=s.y2,e=f.x,l=f.y,a=f.right,o=f.bottom,u=0;if(h>=e&&h<=a&&i>=l&&i<=o||r>=e&&r<=a&&n>=l&&n<=o)return!0;if(h<e&&r>=e){if(u=i+(n-i)*(e-h)/(r-h),u>l&&u<=o)return!0}else if(h>a&&r<=a&&(u=i+(n-i)*(a-h)/(r-h),u>=l&&u<=o))return!0;if(i<l&&n>=l){if(u=h+(r-h)*(l-i)/(n-i),u>=e&&u<=a)return!0}else if(i>o&&n<=o&&(u=h+(r-h)*(o-i)/(n-i),u>=e&&u<=a))return!0;return!1};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(84),f=t(48),h=t(210),i=t(434),r=function(n,e){if(e.left>n.right||e.right<n.left||e.top>n.bottom||e.bottom<n.top)return!1;var l=e.getLineA(),a=e.getLineB(),o=e.getLineC();if(f(n,l.x1,l.y1)||f(n,l.x2,l.y2)||f(n,a.x1,a.y1)||f(n,a.x2,a.y2)||f(n,o.x1,o.y1)||f(n,o.x2,o.y2))return!0;var u=n.getLineA(),v=n.getLineB(),d=n.getLineC(),p=n.getLineD();if(s(l,u)||s(l,v)||s(l,d)||s(l,p)||s(a,u)||s(a,v)||s(a,d)||s(a,p)||s(o,u)||s(o,v)||s(o,d)||s(o,p))return!0;var x=i(n),g=h(e,x,!0);return g.length>0};c.exports=r},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){return f===void 0&&(f=[]),f.push({x:s.x,y:s.y}),f.push({x:s.right,y:s.y}),f.push({x:s.right,y:s.bottom}),f.push({x:s.x,y:s.bottom}),f};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(208),f=t(83),h=function(i,r){return i.left>r.right||i.right<r.left||i.top>r.bottom||i.bottom<r.top?!1:!!(f(i,r.x,r.y)||s(i.getLineA(),r)||s(i.getLineB(),r)||s(i.getLineC(),r))};c.exports=h},function(c,E,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(4),f=t(437),h=t(84),i=function(r,n,e){if(e===void 0&&(e=[]),f(r,n))for(var l=r.getLineA(),a=r.getLineB(),o=r.getLineC(),u=[new s,new s,new s],v=[h(l,n,u[0]),h(a,n,u[1]),h(o,n,u[2])],d=0;d<3;d++)v[d]&&e.push(u[d]);return e};c.exports=i},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(83),f=t(84),h=function(i,r){return!!(s(i,r.getPointA())||s(i,r.getPointB())||f(i.getLineA(),r)||f(i.getLineB(),r)||f(i.getLineC(),r))};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(210),f=t(439),h=t(84),i=function(r,n){if(r.left>n.right||r.right<n.left||r.top>n.bottom||r.bottom<n.top)return!1;var e=r.getLineA(),l=r.getLineB(),a=r.getLineC(),o=n.getLineA(),u=n.getLineB(),v=n.getLineC();if(h(e,o)||h(e,u)||h(e,v)||h(l,o)||h(l,u)||h(l,v)||h(a,o)||h(a,u)||h(a,v))return!0;var d=f(r),p=s(n,d,!0);return p.length>0||(d=f(n),p=s(r,d,!0),p.length>0)};c.exports=i},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){return f===void 0&&(f=[]),f.push({x:s.x1,y:s.y1}),f.push({x:s.x2,y:s.y2}),f.push({x:s.x3,y:s.y3}),f};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){h===void 0&&(h=1);var i=f.x1,r=f.y1,n=f.x2,e=f.y2,l=s.x,a=s.y,o=(n-i)*(n-i)+(e-r)*(e-r);if(o===0)return!1;var u=((l-i)*(n-i)+(a-r)*(e-r))/o;if(u<0)return Math.sqrt((i-l)*(i-l)+(r-a)*(r-a))<=h;if(u>=0&&u<=1){var v=((r-a)*(n-i)-(i-l)*(e-r))/o;return Math.abs(v)*Math.sqrt(o)<=h}else return Math.sqrt((n-l)*(n-l)+(e-a)*(e-a))<=h};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(13),f=t(58),h=t(85),i=function(r){var n=h(r)-s.TAU;return f(n,-Math.PI,Math.PI)};c.exports=i},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return Math.sqrt(s.x*s.x+s.y*s.y)};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return s.x*s.x+s.y*s.y};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(11);s.Area=t(1160),s.Ceil=t(1161),s.CeilAll=t(1162),s.CenterOn=t(168),s.Clone=t(1163),s.Contains=t(48),s.ContainsPoint=t(1164),s.ContainsRect=t(445),s.CopyFrom=t(1165),s.Decompose=t(434),s.Equals=t(1166),s.FitInside=t(1167),s.FitOutside=t(1168),s.Floor=t(1169),s.FloorAll=t(1170),s.FromPoints=t(176),s.FromXY=t(1171),s.GetAspectRatio=t(212),s.GetCenter=t(1172),s.GetPoint=t(152),s.GetPoints=t(274),s.GetSize=t(1173),s.Inflate=t(1174),s.Intersection=t(1175),s.MarchingAnts=t(285),s.MergePoints=t(1176),s.MergeRect=t(1177),s.MergeXY=t(1178),s.Offset=t(1179),s.OffsetPoint=t(1180),s.Overlaps=t(1181),s.Perimeter=t(112),s.PerimeterPoint=t(1182),s.Random=t(155),s.RandomOutside=t(1183),s.SameDimensions=t(1184),s.Scale=t(1185),s.Union=t(394),c.exports=s},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){return f.width*f.height>s.width*s.height?!1:f.x>s.x&&f.x<s.right&&f.right>s.x&&f.right<s.right&&f.y>s.y&&f.y<s.bottom&&f.bottom>s.y&&f.bottom<s.bottom};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(4),f=function(h,i){return i===void 0&&(i=new s),i.x=(h.x1+h.x2+h.x3)/3,i.y=(h.y1+h.y2+h.y3)/3,i};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){return s.x1+=f,s.y1+=h,s.x2+=f,s.y2+=h,s.x3+=f,s.y3+=h,s};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(4);function f(i,r,n,e){var l=i-n,a=r-e,o=l*l+a*a;return Math.sqrt(o)}var h=function(i,r){r===void 0&&(r=new s);var n=i.x1,e=i.y1,l=i.x2,a=i.y2,o=i.x3,u=i.y3,v=f(o,u,l,a),d=f(n,e,o,u),p=f(l,a,n,e),x=v+d+p;return r.x=(n*v+l*d+o*p)/x,r.y=(e*v+a*d+u*p)/x,r};c.exports=h},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){return{gameObject:s,enabled:!0,alwaysEnabled:!1,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:f,hitAreaCallback:h,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragX:0,dragY:0}};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=new s({initialize:function(i,r){this.pad=i,this.events=i.events,this.index=r,this.value=0,this.threshold=.1},update:function(h){this.value=h},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(214),h=new s({initialize:function(r,n){this.pad=r,this.events=r.manager,this.index=n,this.value=0,this.threshold=1,this.pressed=!1},update:function(i){this.value=i;var r=this.pad,n=this.index;i>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(f.BUTTON_DOWN,r,this,i),this.pad.emit(f.GAMEPAD_BUTTON_DOWN,n,i,this)):this.pressed&&(this.pressed=!1,this.events.emit(f.BUTTON_UP,r,this,i),this.pad.emit(f.GAMEPAD_BUTTON_UP,n,i,this))},destroy:function(){this.pad=null,this.events=null}});c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(450),f=t(451),h=t(0),i=t(10),r=t(3),n=new h({Extends:i,initialize:function(l,a){i.call(this),this.manager=l,this.pad=a,this.id=a.id,this.index=a.index;for(var o=[],u=0;u<a.buttons.length;u++)o.push(new f(this,u));this.buttons=o;var v=[];for(u=0;u<a.axes.length;u++)v.push(new s(this,u));this.axes=v,this.vibration=a.vibrationActuator;var d={value:0,pressed:!1};this._LCLeft=o[14]?o[14]:d,this._LCRight=o[15]?o[15]:d,this._LCTop=o[12]?o[12]:d,this._LCBottom=o[13]?o[13]:d,this._RCLeft=o[2]?o[2]:d,this._RCRight=o[1]?o[1]:d,this._RCTop=o[3]?o[3]:d,this._RCBottom=o[0]?o[0]:d,this._FBLeftTop=o[4]?o[4]:d,this._FBLeftBottom=o[6]?o[6]:d,this._FBRightTop=o[5]?o[5]:d,this._FBRightBottom=o[7]?o[7]:d;var p={value:0};this._HAxisLeft=v[0]?v[0]:p,this._VAxisLeft=v[1]?v[1]:p,this._HAxisRight=v[2]?v[2]:p,this._VAxisRight=v[3]?v[3]:p,this.leftStick=new r,this.rightStick=new r},getAxisTotal:function(){return this.axes.length},getAxisValue:function(e){return this.axes[e].getValue()},setAxisThreshold:function(e){for(var l=0;l<this.axes.length;l++)this.axes[l].threshold=e},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(e){return this.buttons[e].value},isButtonDown:function(e){return this.buttons[e].pressed},update:function(e){var l,a=this.buttons,o=e.buttons,u=a.length;for(l=0;l<u;l++)a[l].update(o[l].value);var v=this.axes,d=e.axes;for(u=v.length,l=0;l<u;l++)v[l].update(d[l]);u>=2&&(this.leftStick.set(v[0].getValue(),v[1].getValue()),u>=4&&this.rightStick.set(v[2].getValue(),v[3].getValue()))},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var e;for(e=0;e<this.buttons.length;e++)this.buttons[e].destroy();for(e=0;e<this.axes.length;e++)this.axes[e].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});c.exports=n},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(10),h=t(137),i=new s({Extends:f,initialize:function(n,e){f.call(this),this.plugin=n,this.keyCode=e,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(r){return this.emitOnRepeat=r,this},onDown:function(r){this.originalEvent=r,this.enabled&&(this.altKey=r.altKey,this.ctrlKey=r.ctrlKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.location=r.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(h.DOWN,this,r):(this.isDown=!0,this.isUp=!1,this.timeDown=r.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(h.DOWN,this,r)))},onUp:function(r){this.originalEvent=r,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=r.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(h.UP,this,r))},reset:function(){return this.preventDefault=!0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});c.exports=i},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(137),h=t(2),i=t(1225),r=t(1227),n=new s({initialize:function(l,a,o){if(o===void 0&&(o={}),a.length<2)return!1;this.manager=l,this.enabled=!0,this.keyCodes=[];for(var u=0;u<a.length;u++){var v=a[u];typeof v=="string"?this.keyCodes.push(v.toUpperCase().charCodeAt(0)):typeof v=="number"?this.keyCodes.push(v):v.hasOwnProperty("keyCode")&&this.keyCodes.push(v.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=h(o,"resetOnWrongKey",!0),this.maxKeyDelay=h(o,"maxKeyDelay",0),this.resetOnMatch=h(o,"resetOnMatch",!1),this.deleteOnMatch=h(o,"deleteOnMatch",!1);var d=this,p=function(x){if(!(d.matched||!d.enabled)){var g=i(x,d);g&&(d.manager.emit(f.COMBO_MATCH,d,x),d.resetOnMatch?r(d):d.deleteOnMatch&&d.destroy())}};this.onKeyDown=p,this.manager.on(f.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(f.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});c.exports=n},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(215),f=function(h,i){var r=s(i,h.xhrSettings),n=new XMLHttpRequest;if(n.open("GET",h.src,r.async,r.user,r.password),n.responseType=h.xhrSettings.responseType,n.timeout=r.timeout,r.headers)for(var e in r.headers)n.setRequestHeader(e,r.headers[e]);return r.header&&r.headerValue&&n.setRequestHeader(r.header,r.headerValue),r.requestedWith&&n.setRequestHeader("X-Requested-With",r.requestedWith),r.overrideMimeType&&n.overrideMimeType(r.overrideMimeType),r.withCredentials&&(n.withCredentials=!0),n.onload=h.onLoad.bind(h,n),n.onerror=h.onError.bind(h,n),n.onprogress=h.onProgress.bind(h),n.send(),n};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(17),h=t(21),i=t(8),r=t(2),n=t(457),e=t(7),l=new s({Extends:h,initialize:function(o,u,v,d,p){if(e(u)){var x=u;u=r(x,"key"),d=r(x,"xhrSettings"),p=r(x,"context",p)}var g={type:"audio",cache:o.cacheManager.audio,extension:v.type,responseType:"arraybuffer",key:u,url:v.url,xhrSettings:d,config:{context:p}};h.call(this,o,g)},onProcess:function(){this.state=f.FILE_PROCESSING;var a=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(o){a.data=o,a.onProcessComplete()},function(o){console.error("Error decoding audio: "+a.key+" - ",o?o.message:null),a.onProcessError()}),this.config.context=null}});l.create=function(a,o,u,v,d){var p=a.systems.game,x=p.config.audio,g=p.device.audio;e(o)&&(u=r(o,"url",[]),v=r(o,"config",{}));var m=l.getAudioURL(p,u);return m?g.webAudio&&!(x&&x.disableWebAudio)?new l(a,o,m,d,p.sound.context):new n(a,o,m,v):null},l.getAudioURL=function(a,o){Array.isArray(o)||(o=[o]);for(var u=0;u<o.length;u++){var v=r(o[u],"url",o[u]);if(v.indexOf("blob:")===0||v.indexOf("data:")===0)return{url:v,type:""};var d=v.match(/\.([a-zA-Z0-9]+)($|\?)/);if(d=r(o[u],"type",d?d[1]:"").toLowerCase(),a.device.audio[d])return{url:v,type:d}}return null},i.register("audio",function(a,o,u,v){var d=this.systems.game,p=d.config.audio,x=d.device.audio;if(p&&p.noAudio||!x.webAudio&&!x.audioData)return this;var g;if(Array.isArray(a))for(var m=0;m<a.length;m++)g=l.create(this,a[m]),g&&this.addFile(g);else g=l.create(this,a,o,u,v),g&&this.addFile(g);return this}),c.exports=l},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(82),h=t(21),i=t(2),r=t(138),n=t(7),e=new s({Extends:h,initialize:function(a,o,u,v){if(n(o)){var d=o;o=i(d,"key"),v=i(d,"config",v)}var p={type:"audio",cache:a.cacheManager.audio,extension:u.type,key:o,url:u.url,config:v};h.call(this,a,p),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var l=0;l<this.data.length;l++){var a=this.data[l];a.oncanplaythrough=null,a.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(l){var a=l.target;a.oncanplaythrough=null,a.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(f.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var l=this.config&&this.config.instances||1;this.filesTotal=l,this.filesLoaded=0,this.percentComplete=0;for(var a=0;a<l;a++){var o=new Audio;o.dataset||(o.dataset={}),o.dataset.name=this.key+("0"+a).slice(-2),o.dataset.used="false",this.locked?o.dataset.locked="true":(o.dataset.locked="false",o.preload="auto",o.oncanplaythrough=this.onProgress.bind(this),o.onerror=this.onError.bind(this)),this.data.push(o)}for(a=0;a<this.data.length;a++)o=this.data[a],o.src=r(this,this.loader.baseURL),this.locked||o.load();this.locked&&setTimeout(this.onLoad.bind(this))}});c.exports=e},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(17),h=t(21),i=t(8),r=t(2),n=t(7),e=new s({Extends:h,initialize:function(a,o,u,v){var d="js";if(n(o)){var p=o;o=r(p,"key"),u=r(p,"url"),v=r(p,"xhrSettings"),d=r(p,"extension",d)}var x={type:"script",cache:!1,extension:d,responseType:"text",key:o,url:u,xhrSettings:v};h.call(this,a,x)},onProcess:function(){this.state=f.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});i.register("script",function(l,a,o){if(Array.isArray(l))for(var u=0;u<l.length;u++)this.addFile(new e(this,l[u]));else this.addFile(new e(this,l,a,o));return this}),c.exports=e},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(17),h=t(21),i=t(8),r=t(2),n=t(7),e=new s({Extends:h,initialize:function(a,o,u,v){var d="txt";if(n(o)){var p=o;o=r(p,"key"),u=r(p,"url"),v=r(p,"xhrSettings"),d=r(p,"extension",d)}var x={type:"text",cache:a.cacheManager.text,extension:d,responseType:"text",key:o,url:u,xhrSettings:v};h.call(this,a,x)},onProcess:function(){this.state=f.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});i.register("text",function(l,a,o){if(Array.isArray(l))for(var u=0;u<l.length;u++)this.addFile(new e(this,l[u]));else this.addFile(new e(this,l,a,o));return this}),c.exports=e},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(461),f=t(140),h=t(0),i=t(50),r=t(462),n=t(463),e=new h({initialize:function(a){this.world=a,this.scene=a.scene,this.sys=a.scene.sys},collider:function(l,a,o,u,v){return this.world.addCollider(l,a,o,u,v)},overlap:function(l,a,o,u,v){return this.world.addOverlap(l,a,o,u,v)},existing:function(l,a){var o=a?i.STATIC_BODY:i.DYNAMIC_BODY;return this.world.enableBody(l,o),l},staticImage:function(l,a,o,u){var v=new s(this.scene,l,a,o,u);return this.sys.displayList.add(v),this.world.enableBody(v,i.STATIC_BODY),v},image:function(l,a,o,u){var v=new s(this.scene,l,a,o,u);return this.sys.displayList.add(v),this.world.enableBody(v,i.DYNAMIC_BODY),v},staticSprite:function(l,a,o,u){var v=new f(this.scene,l,a,o,u);return this.sys.displayList.add(v),this.sys.updateList.add(v),this.world.enableBody(v,i.STATIC_BODY),v},sprite:function(l,a,o,u){var v=new f(this.scene,l,a,o,u);return this.sys.displayList.add(v),this.sys.updateList.add(v),this.world.enableBody(v,i.DYNAMIC_BODY),v},staticGroup:function(l,a){return this.sys.updateList.add(new n(this.world,this.world.scene,l,a))},group:function(l,a){return this.sys.updateList.add(new r(this.world,this.world.scene,l,a))},destroy:function(){this.world=null,this.scene=null,this.sys=null}});c.exports=e},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(217),h=t(107),i=new s({Extends:h,Mixins:[f.Acceleration,f.Angular,f.Bounce,f.Debug,f.Drag,f.Enable,f.Friction,f.Gravity,f.Immovable,f.Mass,f.Size,f.Velocity],initialize:function(n,e,l,a,o){h.call(this,n,e,l,a,o),this.body=null}});c.exports=i},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(140),f=t(0),h=t(50),i=t(2),r=t(97),n=t(7),e=new f({Extends:r,initialize:function(a,o,u,v){if(!u&&!v)v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(n(u))v=u,u=null,v.internalCreateCallback=this.createCallbackHandler,v.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(u)&&n(u[0])){v=u[0];var d=this;u.forEach(function(p){p.internalCreateCallback=d.createCallbackHandler,p.internalRemoveCallback=d.removeCallbackHandler}),u=null}else v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=a,v.classType=i(v,"classType",s),this.physicsType=h.DYNAMIC_BODY,this.defaults={setCollideWorldBounds:i(v,"collideWorldBounds",!1),setBoundsRectangle:i(v,"customBoundsRectangle",null),setAccelerationX:i(v,"accelerationX",0),setAccelerationY:i(v,"accelerationY",0),setAllowDrag:i(v,"allowDrag",!0),setAllowGravity:i(v,"allowGravity",!0),setAllowRotation:i(v,"allowRotation",!0),setBounceX:i(v,"bounceX",0),setBounceY:i(v,"bounceY",0),setDragX:i(v,"dragX",0),setDragY:i(v,"dragY",0),setEnable:i(v,"enable",!0),setGravityX:i(v,"gravityX",0),setGravityY:i(v,"gravityY",0),setFrictionX:i(v,"frictionX",0),setFrictionY:i(v,"frictionY",0),setVelocityX:i(v,"velocityX",0),setVelocityY:i(v,"velocityY",0),setAngularVelocity:i(v,"angularVelocity",0),setAngularAcceleration:i(v,"angularAcceleration",0),setAngularDrag:i(v,"angularDrag",0),setMass:i(v,"mass",1),setImmovable:i(v,"immovable",!1)},r.call(this,o,u,v),this.type="PhysicsGroup"},createCallbackHandler:function(l){l.body||this.world.enableBody(l,h.DYNAMIC_BODY);var a=l.body;for(var o in this.defaults)a[o](this.defaults[o])},removeCallbackHandler:function(l){l.body&&this.world.disableBody(l)},setVelocity:function(l,a,o){o===void 0&&(o=0);for(var u=this.getChildren(),v=0;v<u.length;v++)u[v].body.velocity.set(l+v*o,a+v*o);return this},setVelocityX:function(l,a){a===void 0&&(a=0);for(var o=this.getChildren(),u=0;u<o.length;u++)o[u].body.velocity.x=l+u*a;return this},setVelocityY:function(l,a){a===void 0&&(a=0);for(var o=this.getChildren(),u=0;u<o.length;u++)o[u].body.velocity.y=l+u*a;return this}});c.exports=e},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(140),f=t(0),h=t(50),i=t(2),r=t(97),n=t(7),e=new f({Extends:r,initialize:function(a,o,u,v){!u&&!v?v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:s}:n(u)?(v=u,u=null,v.internalCreateCallback=this.createCallbackHandler,v.internalRemoveCallback=this.removeCallbackHandler,v.createMultipleCallback=this.createMultipleCallbackHandler,v.classType=i(v,"classType",s)):Array.isArray(u)&&n(u[0])?(v=u,u=null,v.forEach(function(d){d.internalCreateCallback=this.createCallbackHandler,d.internalRemoveCallback=this.removeCallbackHandler,d.createMultipleCallback=this.createMultipleCallbackHandler,d.classType=i(d,"classType",s)})):v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=a,this.physicsType=h.STATIC_BODY,r.call(this,o,u,v),this.type="StaticPhysicsGroup"},createCallbackHandler:function(l){l.body||this.world.enableBody(l,h.STATIC_BODY)},removeCallbackHandler:function(l){l.body&&this.world.disableBody(l)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var l=this.children.entries,a=0;a<l.length;a++)l[a].body.reset();return this}});c.exports=e},function(c,E){var t=function(s,f,h,i,r,n,e){n===void 0&&(n=!0),e===void 0&&(e=!1);var l=[],a=[],o=s.treeMinMax;if(o.minX=f,o.minY=h,o.maxX=f+i,o.maxY=h+r,e&&(a=s.staticTree.search(o)),n&&s.useTree)l=s.tree.search(o);else if(n){var u=s.bodies,v={position:{x:f,y:h},left:f,top:h,right:f+i,bottom:h+r,isCircle:!1},d=s.intersects;u.iterate(function(p){d(p,v)&&l.push(p)})}return a.concat(l)};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(318),f=t(466),h=t(19),i=t(0),r=t(467),n=t(50),e=t(53),l=t(10),a=t(218),o=t(106),u=t(322),v=t(323),d=t(468),p=t(469),x=t(6),g=t(13),m=t(186),y=t(1284),T=t(11),S=t(470),C=t(1285),P=t(1290),A=t(1291),M=t(133),O=t(472),I=t(471),B=t(29),G=t(3),z=t(58),N=new i({Extends:l,initialize:function(R,F){l.call(this),this.scene=R,this.bodies=new M,this.staticBodies=new M,this.pendingDestroy=new M,this.colliders=new m,this.gravity=new G(x(F,"gravity.x",0),x(F,"gravity.y",0)),this.bounds=new T(x(F,"x",0),x(F,"y",0),x(F,"width",R.sys.scale.width),x(F,"height",R.sys.scale.height)),this.checkCollision={up:x(F,"checkCollision.up",!0),down:x(F,"checkCollision.down",!0),left:x(F,"checkCollision.left",!0),right:x(F,"checkCollision.right",!0)},this.fps=x(F,"fps",60),this.fixedStep=!0,this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=x(F,"timeScale",1),this.OVERLAP_BIAS=x(F,"overlapBias",4),this.TILE_BIAS=x(F,"tileBias",16),this.forceX=x(F,"forceX",!1),this.isPaused=x(F,"isPaused",!1),this._total=0,this.drawDebug=x(F,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:x(F,"debugShowBody",!0),debugShowStaticBody:x(F,"debugShowStaticBody",!0),debugShowVelocity:x(F,"debugShowVelocity",!0),bodyDebugColor:x(F,"debugBodyColor",16711935),staticBodyDebugColor:x(F,"debugStaticBodyColor",255),velocityDebugColor:x(F,"debugVelocityColor",65280)},this.maxEntries=x(F,"maxEntries",16),this.useTree=x(F,"useTree",!0),this.tree=new S(this.maxEntries),this.staticTree=new S(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new B,this._tempMatrix2=new B,this.drawDebug&&this.createDebugGraphic()},enable:function(L,R){R===void 0&&(R=n.DYNAMIC_BODY),Array.isArray(L)||(L=[L]);for(var F=0;F<L.length;F++){var Y=L[F];if(Y.isParent)for(var D=Y.getChildren(),X=0;X<D.length;X++){var U=D[X];U.isParent?this.enable(U,R):this.enableBody(U,R)}else this.enableBody(Y,R)}},enableBody:function(L,R){return R===void 0&&(R=n.DYNAMIC_BODY),L.body||(R===n.DYNAMIC_BODY?L.body=new f(this,L):R===n.STATIC_BODY&&(L.body=new O(this,L))),this.add(L.body),L},add:function(L){return L.physicsType===n.DYNAMIC_BODY?this.bodies.set(L):L.physicsType===n.STATIC_BODY&&(this.staticBodies.set(L),this.staticTree.insert(L)),L.enable=!0,L},disable:function(L){Array.isArray(L)||(L=[L]);for(var R=0;R<L.length;R++){var F=L[R];if(F.isParent)for(var Y=F.getChildren(),D=0;D<Y.length;D++){var X=Y[D];X.isParent?this.disable(X):this.disableBody(X.body)}else this.disableBody(F.body)}},disableBody:function(L){this.remove(L),L.enable=!1},remove:function(L){L.physicsType===n.DYNAMIC_BODY?(this.tree.remove(L),this.bodies.delete(L)):L.physicsType===n.STATIC_BODY&&(this.staticBodies.delete(L),this.staticTree.remove(L))},createDebugGraphic:function(){var L=this.scene.sys.add.graphics({x:0,y:0});return L.setDepth(Number.MAX_VALUE),this.debugGraphic=L,this.drawDebug=!0,L},setBounds:function(L,R,F,Y,D,X,U,V){return this.bounds.setTo(L,R,F,Y),D!==void 0&&this.setBoundsCollision(D,X,U,V),this},setBoundsCollision:function(L,R,F,Y){return L===void 0&&(L=!0),R===void 0&&(R=!0),F===void 0&&(F=!0),Y===void 0&&(Y=!0),this.checkCollision.left=L,this.checkCollision.right=R,this.checkCollision.up=F,this.checkCollision.down=Y,this},pause:function(){return this.isPaused=!0,this.emit(a.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(a.RESUME),this},addCollider:function(L,R,F,Y,D){F===void 0&&(F=null),Y===void 0&&(Y=null),D===void 0&&(D=F);var X=new r(this,!1,L,R,F,Y,D);return this.colliders.add(X),X},addOverlap:function(L,R,F,Y,D){F===void 0&&(F=null),Y===void 0&&(Y=null),D===void 0&&(D=F);var X=new r(this,!0,L,R,F,Y,D);return this.colliders.add(X),X},removeCollider:function(L){return this.colliders.remove(L),this},setFPS:function(L){return this.fps=L,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(L,R){if(!(this.isPaused||this.bodies.size===0)){var F,Y=this._frameTime,D=this._frameTimeMS*this.timeScale;this._elapsed+=R;var X,U=this.bodies.entries,V=this._elapsed>=D;for(this.fixedStep||(Y=R*.001,V=!0,this._elapsed=0),F=0;F<U.length;F++)X=U[F],X.enable&&X.preUpdate(V,Y);if(V){this._elapsed-=D,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(U));var w=this.colliders.update();for(F=0;F<w.length;F++){var W=w[F];W.active&&W.update()}this.emit(a.WORLD_STEP)}for(;this._elapsed>=D;)this._elapsed-=D,this.step(Y)}},step:function(L){var R,F,Y=this.bodies.entries,D=Y.length;for(R=0;R<D;R++)F=Y[R],F.enable&&F.update(L);this.useTree&&(this.tree.clear(),this.tree.load(Y));var X=this.colliders.update();for(R=0;R<X.length;R++){var U=X[R];U.active&&U.update()}this.emit(a.WORLD_STEP),this.stepsLastFrame++},postUpdate:function(){var L,R,F=this.bodies.entries,Y=F.length,D=this.bodies,X=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,L=0;L<Y;L++)R=F[L],R.enable&&R.postUpdate();if(this.drawDebug){var U=this.debugGraphic;for(U.clear(),L=0;L<Y;L++)R=F[L],R.willDrawDebug()&&R.drawDebug(U);for(F=X.entries,Y=F.length,L=0;L<Y;L++)R=F[L],R.willDrawDebug()&&R.drawDebug(U)}var V=this.pendingDestroy;if(V.size>0){var w=this.tree,W=this.staticTree;for(F=V.entries,Y=F.length,L=0;L<Y;L++)R=F[L],R.physicsType===n.DYNAMIC_BODY?(w.remove(R),D.delete(R)):R.physicsType===n.STATIC_BODY&&(W.remove(R),X.delete(R)),R.world=void 0,R.gameObject=void 0;V.clear()}},updateMotion:function(L,R){L.allowRotation&&this.computeAngularVelocity(L,R),this.computeVelocity(L,R)},computeAngularVelocity:function(L,R){var F=L.angularVelocity,Y=L.angularAcceleration,D=L.angularDrag,X=L.maxAngular;Y?F+=Y*R:L.allowDrag&&D&&(D*=R,u(F-D,0,.1)?F-=D:v(F+D,0,.1)?F+=D:F=0),F=h(F,-X,X);var U=F-L.angularVelocity;L.angularVelocity+=U,L.rotation+=L.angularVelocity*R},computeVelocity:function(L,R){var F=L.velocity.x,Y=L.acceleration.x,D=L.drag.x,X=L.maxVelocity.x,U=L.velocity.y,V=L.acceleration.y,w=L.drag.y,W=L.maxVelocity.y,H=L.speed,K=L.maxSpeed,J=L.allowDrag,Z=L.useDamping;L.allowGravity&&(F+=(this.gravity.x+L.gravity.x)*R,U+=(this.gravity.y+L.gravity.y)*R),Y?F+=Y*R:J&&D&&(Z?(F*=D,H=Math.sqrt(F*F+U*U),o(H,0,.001)&&(F=0)):(D*=R,u(F-D,0,.01)?F-=D:v(F+D,0,.01)?F+=D:F=0)),V?U+=V*R:J&&w&&(Z?(U*=w,H=Math.sqrt(F*F+U*U),o(H,0,.001)&&(U=0)):(w*=R,u(U-w,0,.01)?U-=w:v(U+w,0,.01)?U+=w:U=0)),F=h(F,-X,X),U=h(U,-W,W),L.velocity.set(F,U),K>-1&&H>K&&(L.velocity.normalize().scale(K),H=K),L.speed=H},separate:function(L,R,F,Y,D,X){if(!X&&!L.enable||!R.enable||L.checkCollision.none||R.checkCollision.none||!this.intersects(L,R)||F&&F.call(Y,L.gameObject,R.gameObject)===!1)return!1;if(L.isCircle&&R.isCircle)return this.separateCircle(L,R,D);if(L.isCircle!==R.isCircle){var U=L.isCircle?R:L,V=L.isCircle?L:R,w={x:U.x,y:U.y,right:U.right,bottom:U.bottom},W=V.center;if((W.y<w.y||W.y>w.bottom)&&(W.x<w.x||W.x>w.right))return this.separateCircle(L,R,D)}var H=!1,K=!1;D?(H=P(L,R,D,this.OVERLAP_BIAS),K=A(L,R,D,this.OVERLAP_BIAS)):this.forceX||Math.abs(this.gravity.y+L.gravity.y)<Math.abs(this.gravity.x+L.gravity.x)?(H=P(L,R,D,this.OVERLAP_BIAS),this.intersects(L,R)&&(K=A(L,R,D,this.OVERLAP_BIAS))):(K=A(L,R,D,this.OVERLAP_BIAS),this.intersects(L,R)&&(H=P(L,R,D,this.OVERLAP_BIAS)));var J=H||K;return J&&(D?(L.onOverlap||R.onOverlap)&&this.emit(a.OVERLAP,L.gameObject,R.gameObject,L,R):(L.onCollide||R.onCollide)&&this.emit(a.COLLIDE,L.gameObject,R.gameObject,L,R)),J},separateCircle:function(L,R,F,Y){L.updateCenter(),R.updateCenter(),d(L,R,!1,Y),p(L,R,!1,Y);var D=0;if(L.isCircle!==R.isCircle){var X={x:R.isCircle?L.position.x:R.position.x,y:R.isCircle?L.position.y:R.position.y,right:R.isCircle?L.right:R.right,bottom:R.isCircle?L.bottom:R.bottom},U={x:L.isCircle?L.center.x:R.center.x,y:L.isCircle?L.center.y:R.center.y,radius:L.isCircle?L.halfWidth:R.halfWidth};U.y<X.y?U.x<X.x?D=e(U.x,U.y,X.x,X.y)-U.radius:U.x>X.right&&(D=e(U.x,U.y,X.right,X.y)-U.radius):U.y>X.bottom&&(U.x<X.x?D=e(U.x,U.y,X.x,X.bottom)-U.radius:U.x>X.right&&(D=e(U.x,U.y,X.right,X.bottom)-U.radius)),D*=-1}else D=L.halfWidth+R.halfWidth-e(L.center.x,L.center.y,R.center.x,R.center.y);if(F||D===0||L.immovable&&R.immovable||L.customSeparateX||R.customSeparateX)return D!==0&&(L.onOverlap||R.onOverlap)&&this.emit(a.OVERLAP,L.gameObject,R.gameObject,L,R),D!==0;var V=L.center.x-R.center.x,w=L.center.y-R.center.y,W=Math.sqrt(Math.pow(V,2)+Math.pow(w,2)),H=(R.center.x-L.center.x)/W||0,K=(R.center.y-L.center.y)/W||0,J=2*(L.velocity.x*H+L.velocity.y*K-R.velocity.x*H-R.velocity.y*K)/(L.mass+R.mass);(L.immovable||R.immovable)&&(J*=2),L.immovable||(L.velocity.x=L.velocity.x-J/L.mass*H,L.velocity.y=L.velocity.y-J/L.mass*K),R.immovable||(R.velocity.x=R.velocity.x+J/R.mass*H,R.velocity.y=R.velocity.y+J/R.mass*K),!L.immovable&&!R.immovable&&(D/=2);var Z=s(L.center,R.center),q=(D+g.EPSILON)*Math.cos(Z),k=(D+g.EPSILON)*Math.sin(Z);return L.immovable||(L.x-=q,L.y-=k,L.updateCenter()),R.immovable||(R.x+=q,R.y+=k,R.updateCenter()),L.velocity.x*=L.bounce.x,L.velocity.y*=L.bounce.y,R.velocity.x*=R.bounce.x,R.velocity.y*=R.bounce.y,(L.onCollide||R.onCollide)&&this.emit(a.COLLIDE,L.gameObject,R.gameObject,L,R),!0},intersects:function(L,R){return L===R?!1:!L.isCircle&&!R.isCircle?!(L.right<=R.position.x||L.bottom<=R.position.y||L.position.x>=R.right||L.position.y>=R.bottom):L.isCircle?R.isCircle?e(L.center.x,L.center.y,R.center.x,R.center.y)<=L.halfWidth+R.halfWidth:this.circleBodyIntersects(L,R):this.circleBodyIntersects(R,L)},circleBodyIntersects:function(L,R){var F=h(L.center.x,R.left,R.right),Y=h(L.center.y,R.top,R.bottom),D=(L.center.x-F)*(L.center.x-F),X=(L.center.y-Y)*(L.center.y-Y);return D+X<=L.halfWidth*L.halfWidth},overlap:function(L,R,F,Y,D){return F===void 0&&(F=null),Y===void 0&&(Y=null),D===void 0&&(D=F),this.collideObjects(L,R,F,Y,D,!0)},collide:function(L,R,F,Y,D){return F===void 0&&(F=null),Y===void 0&&(Y=null),D===void 0&&(D=F),this.collideObjects(L,R,F,Y,D,!1)},collideObjects:function(L,R,F,Y,D,X){var U,V;L.isParent&&L.physicsType===void 0&&(L=L.children.entries),R&&R.isParent&&R.physicsType===void 0&&(R=R.children.entries);var w=Array.isArray(L),W=Array.isArray(R);if(this._total=0,!w&&!W)this.collideHandler(L,R,F,Y,D,X);else if(!w&&W)for(U=0;U<R.length;U++)this.collideHandler(L,R[U],F,Y,D,X);else if(w&&!W)if(R)for(U=0;U<L.length;U++)this.collideHandler(L[U],R,F,Y,D,X);else for(U=0;U<L.length;U++){var H=L[U];for(V=U+1;V<L.length;V++)U!==V&&this.collideHandler(H,L[V],F,Y,D,X)}else for(U=0;U<L.length;U++)for(V=0;V<R.length;V++)this.collideHandler(L[U],R[V],F,Y,D,X);return this._total>0},collideHandler:function(L,R,F,Y,D,X){if(R===void 0&&L.isParent)return this.collideGroupVsGroup(L,L,F,Y,D,X);if(!L||!R)return!1;if(L.body){if(R.body)return this.collideSpriteVsSprite(L,R,F,Y,D,X);if(R.isParent)return this.collideSpriteVsGroup(L,R,F,Y,D,X);if(R.isTilemap)return this.collideSpriteVsTilemapLayer(L,R,F,Y,D,X)}else if(L.isParent){if(R.body)return this.collideSpriteVsGroup(R,L,F,Y,D,X);if(R.isParent)return this.collideGroupVsGroup(L,R,F,Y,D,X);if(R.isTilemap)return this.collideGroupVsTilemapLayer(L,R,F,Y,D,X)}else if(L.isTilemap){if(R.body)return this.collideSpriteVsTilemapLayer(R,L,F,Y,D,X);if(R.isParent)return this.collideGroupVsTilemapLayer(R,L,F,Y,D,X)}},collideSpriteVsSprite:function(L,R,F,Y,D,X){return!L.body||!R.body?!1:(this.separate(L.body,R.body,Y,D,X)&&(F&&F.call(D,L,R),this._total++),!0)},collideSpriteVsGroup:function(L,R,F,Y,D,X){var U=L.body;if(!(R.length===0||!U||!U.enable||U.checkCollision.none)){var V,w,W;if(this.useTree||R.physicsType===n.STATIC_BODY){var H=this.treeMinMax;H.minX=U.left,H.minY=U.top,H.maxX=U.right,H.maxY=U.bottom;var K=R.physicsType===n.DYNAMIC_BODY?this.tree.search(H):this.staticTree.search(H);for(w=K.length,V=0;V<w;V++)W=K[V],!(U===W||!W.enable||W.checkCollision.none||!R.contains(W.gameObject))&&this.separate(U,W,Y,D,X,!0)&&(F&&F.call(D,U.gameObject,W.gameObject),this._total++)}else{var J=R.getChildren(),Z=R.children.entries.indexOf(L);for(w=J.length,V=0;V<w;V++)W=J[V].body,!(!W||V===Z||!W.enable)&&this.separate(U,W,Y,D,X)&&(F&&F.call(D,U.gameObject,W.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(L,R,F,Y,D,X){var U=L.getChildren();if(U.length===0)return!1;for(var V=!1,w=0;w<U.length;w++)U[w].body&&this.collideSpriteVsTilemapLayer(U[w],R,F,Y,D,X)&&(V=!0);return V},collideTiles:function(L,R,F,Y,D){return!L.body.enable||R.length===0?!1:this.collideSpriteVsTilesHandler(L,R,F,Y,D,!1,!1)},overlapTiles:function(L,R,F,Y,D){return!L.body.enable||R.length===0?!1:this.collideSpriteVsTilesHandler(L,R,F,Y,D,!0,!1)},collideSpriteVsTilemapLayer:function(L,R,F,Y,D,X){var U=L.body;if(!U.enable||U.checkCollision.none)return!1;var V=U.position.x,w=U.position.y,W=U.width,H=U.height,K=R.layer;if(K.tileWidth>K.baseTileWidth){var J=(K.tileWidth-K.baseTileWidth)*R.scaleX;V-=J,W+=J}if(K.tileHeight>K.baseTileHeight){var Z=(K.tileHeight-K.baseTileHeight)*R.scaleY;H+=Z}var q=R.getTilesWithinWorldXY(V,w,W,H);return q.length===0?!1:this.collideSpriteVsTilesHandler(L,q,F,Y,D,X,!0)},collideSpriteVsTilesHandler:function(L,R,F,Y,D,X,U){for(var V=L.body,w,W={left:0,right:0,top:0,bottom:0},H,K=!1,J=0;J<R.length;J++)w=R[J],H=w.tilemapLayer,W.left=H.tileToWorldX(w.x),W.top=H.tileToWorldY(w.y),w.baseHeight!==w.height&&(W.top-=(w.height-w.baseHeight)*H.scaleY),W.right=W.left+w.width*H.scaleX,W.bottom=W.top+w.height*H.scaleY,I(W,V)&&(!Y||Y.call(D,L,w))&&y(w,L)&&(X||C(J,V,w,W,H,this.TILE_BIAS,U))&&(this._total++,K=!0,F&&F.call(D,L,w),X&&V.onOverlap?this.emit(a.TILE_OVERLAP,L,w,V):V.onCollide&&this.emit(a.TILE_COLLIDE,L,w,V));return K},collideGroupVsGroup:function(L,R,F,Y,D,X){if(!(L.length===0||R.length===0))for(var U=L.getChildren(),V=0;V<U.length;V++)this.collideSpriteVsGroup(U[V],R,F,Y,D,X)},wrap:function(L,R){L.body?this.wrapObject(L,R):L.getChildren?this.wrapArray(L.getChildren(),R):Array.isArray(L)?this.wrapArray(L,R):this.wrapObject(L,R)},wrapArray:function(L,R){for(var F=0;F<L.length;F++)this.wrapObject(L[F],R)},wrapObject:function(L,R){R===void 0&&(R=0),L.x=z(L.x,this.bounds.left-R,this.bounds.right+R),L.y=z(L.y,this.bounds.top-R,this.bounds.bottom+R)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null}});c.exports=N},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(50),h=t(218),i=t(173),r=t(11),n=t(48),e=t(3),l=new s({initialize:function(o,u){var v=u.displayWidth?u.displayWidth:64,d=u.displayHeight?u.displayHeight:64;this.world=o,this.gameObject=u,this.transform={x:u.x,y:u.y,rotation:u.angle,scaleX:u.scaleX,scaleY:u.scaleY,displayOriginX:u.displayOriginX,displayOriginY:u.displayOriginY},this.debugShowBody=o.defaults.debugShowBody,this.debugShowVelocity=o.defaults.debugShowVelocity,this.debugBodyColor=o.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new e,this.position=new e(u.x-u.scaleX*u.displayOriginX,u.y-u.scaleY*u.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=u.angle,this.preRotation=u.angle,this.width=v,this.height=d,this.sourceWidth=v,this.sourceHeight=d,u.frame&&(this.sourceWidth=u.frame.realWidth,this.sourceHeight=u.frame.realHeight),this.halfWidth=Math.abs(v/2),this.halfHeight=Math.abs(d/2),this.center=new e(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new e,this.newVelocity=new e,this.deltaMax=new e,this.acceleration=new e,this.allowDrag=!0,this.drag=new e,this.allowGravity=!0,this.gravity=new e,this.bounce=new e,this.worldBounce=null,this.customBoundsRectangle=o.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new e(1e4,1e4),this.maxSpeed=-1,this.friction=new e(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=f.FACING_NONE,this.immovable=!1,this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.syncBounds=!1,this.physicsType=f.DYNAMIC_BODY,this._sx=u.scaleX,this._sy=u.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new r},updateBounds:function(){var a=this.gameObject,o=this.transform;if(a.parentContainer){var u=a.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);o.x=u.tx,o.y=u.ty,o.rotation=i(u.rotation),o.scaleX=u.scaleX,o.scaleY=u.scaleY,o.displayOriginX=a.displayOriginX,o.displayOriginY=a.displayOriginY}else o.x=a.x,o.y=a.y,o.rotation=a.angle,o.scaleX=a.scaleX,o.scaleY=a.scaleY,o.displayOriginX=a.displayOriginX,o.displayOriginY=a.displayOriginY;var v=!1;if(this.syncBounds){var d=a.getBounds(this._bounds);this.width=d.width,this.height=d.height,v=!0}else{var p=Math.abs(o.scaleX),x=Math.abs(o.scaleY);(this._sx!==p||this._sy!==x)&&(this.width=this.sourceWidth*p,this.height=this.sourceHeight*x,this._sx=p,this._sy=x,v=!0)}v&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var a=this.transform;this.position.x=a.x+a.scaleX*(this.offset.x-a.displayOriginX),this.position.y=a.y+a.scaleY*(this.offset.y-a.displayOriginY),this.updateCenter()},resetFlags:function(){var a=this.wasTouching,o=this.touching,u=this.blocked;a.none=o.none,a.up=o.up,a.down=o.down,a.left=o.left,a.right=o.right,o.none=!0,o.up=!1,o.down=!1,o.left=!1,o.right=!1,u.none=!0,u.up=!1,u.down=!1,u.left=!1,u.right=!1,this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(a,o){a&&this.resetFlags(),this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves&&(this.prev.x=this.position.x,this.prev.y=this.position.y,this.prevFrame.x=this.position.x,this.prevFrame.y=this.position.y),a&&this.update(o)},update:function(a){if(this.prev.x=this.position.x,this.prev.y=this.position.y,this.moves){this.world.updateMotion(this,a);var o=this.velocity.x,u=this.velocity.y;this.newVelocity.set(o*a,u*a),this.position.add(this.newVelocity),this.updateCenter(),this.angle=Math.atan2(u,o),this.speed=Math.sqrt(o*o+u*u),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds&&this.world.emit(h.WORLD_BOUNDS,this,this.blocked.up,this.blocked.down,this.blocked.left,this.blocked.right)}this._dx=this.position.x-this.prev.x,this._dy=this.position.y-this.prev.y},postUpdate:function(){var a=this.position.x-this.prevFrame.x,o=this.position.y-this.prevFrame.y;if(this.moves){var u=this.deltaMax.x,v=this.deltaMax.y;u!==0&&a!==0&&(a<0&&a<-u?a=-u:a>0&&a>u&&(a=u)),v!==0&&o!==0&&(o<0&&o<-v?o=-v:o>0&&o>v&&(o=v)),this.gameObject.x+=a,this.gameObject.y+=o}a<0?this.facing=f.FACING_LEFT:a>0&&(this.facing=f.FACING_RIGHT),o<0?this.facing=f.FACING_UP:o>0&&(this.facing=f.FACING_DOWN),this.allowRotation&&(this.gameObject.angle+=this.deltaZ()),this._tx=a,this._ty=o},setBoundsRectangle:function(a){return this.customBoundsRectangle=a||this.world.bounds,this},checkWorldBounds:function(){var a=this.position,o=this.customBoundsRectangle,u=this.world.checkCollision,v=this.worldBounce?-this.worldBounce.x:-this.bounce.x,d=this.worldBounce?-this.worldBounce.y:-this.bounce.y,p=!1;return a.x<o.x&&u.left?(a.x=o.x,this.velocity.x*=v,this.blocked.left=!0,p=!0):this.right>o.right&&u.right&&(a.x=o.right-this.width,this.velocity.x*=v,this.blocked.right=!0,p=!0),a.y<o.y&&u.up?(a.y=o.y,this.velocity.y*=d,this.blocked.up=!0,p=!0):this.bottom>o.bottom&&u.down&&(a.y=o.bottom-this.height,this.velocity.y*=d,this.blocked.down=!0,p=!0),p&&(this.blocked.none=!1),p},setOffset:function(a,o){return o===void 0&&(o=a),this.offset.set(a,o),this.updateCenter(),this},setSize:function(a,o,u){u===void 0&&(u=!0);var v=this.gameObject;if(!a&&v.frame&&(a=v.frame.realWidth),!o&&v.frame&&(o=v.frame.realHeight),this.sourceWidth=a,this.sourceHeight=o,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),u&&v.getCenter){var d=(v.width-a)/2,p=(v.height-o)/2;this.offset.set(d,p)}return this.isCircle=!1,this.radius=0,this},setCircle:function(a,o,u){return o===void 0&&(o=this.offset.x),u===void 0&&(u=this.offset.y),a>0?(this.isCircle=!0,this.radius=a,this.sourceWidth=a*2,this.sourceHeight=a*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(o,u),this.updateCenter()):this.isCircle=!1,this},reset:function(a,o){this.stop();var u=this.gameObject;u.setPosition(a,o),u.getTopLeft?u.getTopLeft(this.position):this.position.set(a,o),this.prev.copy(this.position),this.prevFrame.copy(this.position),this.rotation=u.angle,this.preRotation=u.angle,this.updateBounds(),this.updateCenter()},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(a){return a.x=this.x,a.y=this.y,a.right=this.right,a.bottom=this.bottom,a},hitTest:function(a,o){if(!this.isCircle)return n(this,a,o);if(this.radius>0&&a>=this.left&&a<=this.right&&o>=this.top&&o<=this.bottom){var u=(this.center.x-a)*(this.center.x-a),v=(this.center.y-o)*(this.center.y-o);return u+v<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(a){var o=this.position,u=o.x+this.halfWidth,v=o.y+this.halfHeight;this.debugShowBody&&(a.lineStyle(a.defaultStrokeWidth,this.debugBodyColor),this.isCircle?a.strokeCircle(u,v,this.width/2):(this.checkCollision.up&&a.lineBetween(o.x,o.y,o.x+this.width,o.y),this.checkCollision.right&&a.lineBetween(o.x+this.width,o.y,o.x+this.width,o.y+this.height),this.checkCollision.down&&a.lineBetween(o.x,o.y+this.height,o.x+this.width,o.y+this.height),this.checkCollision.left&&a.lineBetween(o.x,o.y,o.x,o.y+this.height))),this.debugShowVelocity&&(a.lineStyle(a.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),a.lineBetween(u,v,u+this.velocity.x/2,v+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setCollideWorldBounds:function(a,o,u){a===void 0&&(a=!0),this.collideWorldBounds=a;var v=o!==void 0,d=u!==void 0;return(v||d)&&(this.worldBounce||(this.worldBounce=new e),v&&(this.worldBounce.x=o),d&&(this.worldBounce.y=u)),this},setVelocity:function(a,o){return this.velocity.set(a,o),a=this.velocity.x,o=this.velocity.y,this.speed=Math.sqrt(a*a+o*o),this},setVelocityX:function(a){this.velocity.x=a;var o=a,u=this.velocity.y;return this.speed=Math.sqrt(o*o+u*u),this},setVelocityY:function(a){this.velocity.y=a;var o=this.velocity.x,u=a;return this.speed=Math.sqrt(o*o+u*u),this},setMaxVelocity:function(a,o){return this.maxVelocity.set(a,o),this},setMaxSpeed:function(a){return this.maxSpeed=a,this},setBounce:function(a,o){return this.bounce.set(a,o),this},setBounceX:function(a){return this.bounce.x=a,this},setBounceY:function(a){return this.bounce.y=a,this},setAcceleration:function(a,o){return this.acceleration.set(a,o),this},setAccelerationX:function(a){return this.acceleration.x=a,this},setAccelerationY:function(a){return this.acceleration.y=a,this},setAllowDrag:function(a){return a===void 0&&(a=!0),this.allowDrag=a,this},setAllowGravity:function(a){return a===void 0&&(a=!0),this.allowGravity=a,this},setAllowRotation:function(a){return a===void 0&&(a=!0),this.allowRotation=a,this},setDrag:function(a,o){return this.drag.set(a,o),this},setDragX:function(a){return this.drag.x=a,this},setDragY:function(a){return this.drag.y=a,this},setGravity:function(a,o){return this.gravity.set(a,o),this},setGravityX:function(a){return this.gravity.x=a,this},setGravityY:function(a){return this.gravity.y=a,this},setFriction:function(a,o){return this.friction.set(a,o),this},setFrictionX:function(a){return this.friction.x=a,this},setFrictionY:function(a){return this.friction.y=a,this},setAngularVelocity:function(a){return this.angularVelocity=a,this},setAngularAcceleration:function(a){return this.angularAcceleration=a,this},setAngularDrag:function(a){return this.angularDrag=a,this},setMass:function(a){return this.mass=a,this},setImmovable:function(a){return a===void 0&&(a=!0),this.immovable=a,this},setEnable:function(a){return a===void 0&&(a=!0),this.enable=a,this},x:{get:function(){return this.position.x},set:function(a){this.position.x=a}},y:{get:function(){return this.position.y},set:function(a){this.position.y=a}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});c.exports=l},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=new s({initialize:function(i,r,n,e,l,a,o){this.world=i,this.name="",this.active=!0,this.overlapOnly=r,this.object1=n,this.object2=e,this.collideCallback=l,this.processCallback=a,this.callbackContext=o},setName:function(h){return this.name=h,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(50),f=function(h,i,r,n){var e=0,l=h.deltaAbsX()+i.deltaAbsX()+n;return h._dx===0&&i._dx===0?(h.embedded=!0,i.embedded=!0):h._dx>i._dx?(e=h.right-i.x,e>l&&!r||h.checkCollision.right===!1||i.checkCollision.left===!1?e=0:(h.touching.none=!1,h.touching.right=!0,i.touching.none=!1,i.touching.left=!0,i.physicsType===s.STATIC_BODY&&(h.blocked.none=!1,h.blocked.right=!0),h.physicsType===s.STATIC_BODY&&(i.blocked.none=!1,i.blocked.left=!0))):h._dx<i._dx&&(e=h.x-i.width-i.x,-e>l&&!r||h.checkCollision.left===!1||i.checkCollision.right===!1?e=0:(h.touching.none=!1,h.touching.left=!0,i.touching.none=!1,i.touching.right=!0,i.physicsType===s.STATIC_BODY&&(h.blocked.none=!1,h.blocked.left=!0),h.physicsType===s.STATIC_BODY&&(i.blocked.none=!1,i.blocked.right=!0))),h.overlapX=e,i.overlapX=e,e};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(50),f=function(h,i,r,n){var e=0,l=h.deltaAbsY()+i.deltaAbsY()+n;return h._dy===0&&i._dy===0?(h.embedded=!0,i.embedded=!0):h._dy>i._dy?(e=h.bottom-i.y,e>l&&!r||h.checkCollision.down===!1||i.checkCollision.up===!1?e=0:(h.touching.none=!1,h.touching.down=!0,i.touching.none=!1,i.touching.up=!0,i.physicsType===s.STATIC_BODY&&(h.blocked.none=!1,h.blocked.down=!0),h.physicsType===s.STATIC_BODY&&(i.blocked.none=!1,i.blocked.up=!0))):h._dy<i._dy&&(e=h.y-i.bottom,-e>l&&!r||h.checkCollision.up===!1||i.checkCollision.down===!1?e=0:(h.touching.none=!1,h.touching.up=!0,i.touching.none=!1,i.touching.down=!0,i.physicsType===s.STATIC_BODY&&(h.blocked.none=!1,h.blocked.up=!0),h.physicsType===s.STATIC_BODY&&(i.blocked.none=!1,i.blocked.down=!0))),h.overlapY=e,i.overlapY=e,e};c.exports=f},function(c,E,t){/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(391);function f(m){if(!(this instanceof f))return new f(m);this._maxEntries=Math.max(4,m||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}f.prototype={all:function(){return this._all(this.data,[])},search:function(m){var y=this.data,T=[],S=this.toBBox;if(!p(m,y))return T;for(var C=[],P,A,M,O;y;){for(P=0,A=y.children.length;P<A;P++)M=y.children[P],O=y.leaf?S(M):M,p(m,O)&&(y.leaf?T.push(M):d(m,O)?this._all(M,T):C.push(M));y=C.pop()}return T},collides:function(m){var y=this.data,T=this.toBBox;if(!p(m,y))return!1;for(var S=[],C,P,A,M;y;){for(C=0,P=y.children.length;C<P;C++)if(A=y.children[C],M=y.leaf?T(A):A,p(m,M)){if(y.leaf||d(m,M))return!0;S.push(A)}y=S.pop()}return!1},load:function(m){if(!(m&&m.length))return this;if(m.length<this._minEntries){for(var y=0,T=m.length;y<T;y++)this.insert(m[y]);return this}var S=this._build(m.slice(),0,m.length-1,0);if(!this.data.children.length)this.data=S;else if(this.data.height===S.height)this._splitRoot(this.data,S);else{if(this.data.height<S.height){var C=this.data;this.data=S,S=C}this._insert(S,this.data.height-S.height-1,!0)}return this},insert:function(m){return m&&this._insert(m,this.data.height-1),this},clear:function(){return this.data=x([]),this},remove:function(m,y){if(!m)return this;for(var T=this.data,S=this.toBBox(m),C=[],P=[],A,M,O,I;T||C.length;){if(T||(T=C.pop(),M=C[C.length-1],A=P.pop(),I=!0),T.leaf&&(O=h(m,T.children,y),O!==-1))return T.children.splice(O,1),C.push(T),this._condense(C),this;!I&&!T.leaf&&d(T,S)?(C.push(T),P.push(A),A=0,M=T,T=T.children[0]):M?(A++,T=M.children[A],I=!1):T=null}return this},toBBox:function(m){return m},compareMinX:e,compareMinY:l,toJSON:function(){return this.data},fromJSON:function(m){return this.data=m,this},_all:function(m,y){for(var T=[];m;)m.leaf?y.push.apply(y,m.children):T.push.apply(T,m.children),m=T.pop();return y},_build:function(m,y,T,S){var C=T-y+1,P=this._maxEntries,A;if(C<=P)return A=x(m.slice(y,T+1)),i(A,this.toBBox),A;S||(S=Math.ceil(Math.log(C)/Math.log(P)),P=Math.ceil(C/Math.pow(P,S-1))),A=x([]),A.leaf=!1,A.height=S;var M=Math.ceil(C/P),O=M*Math.ceil(Math.sqrt(P)),I,B,G,z;for(g(m,y,T,O,this.compareMinX),I=y;I<=T;I+=O)for(G=Math.min(I+O-1,T),g(m,I,G,M,this.compareMinY),B=I;B<=G;B+=M)z=Math.min(B+M-1,G),A.children.push(this._build(m,B,z,S-1));return i(A,this.toBBox),A},_chooseSubtree:function(m,y,T,S){for(var C,P,A,M,O,I,B,G;S.push(y),!(y.leaf||S.length-1===T);){for(B=G=1/0,C=0,P=y.children.length;C<P;C++)A=y.children[C],O=a(A),I=u(m,A)-O,I<G?(G=I,B=O<B?O:B,M=A):I===G&&O<B&&(B=O,M=A);y=M||y.children[0]}return y},_insert:function(m,y,T){var S=this.toBBox,C=T?m:S(m),P=[],A=this._chooseSubtree(C,this.data,y,P);for(A.children.push(m),n(A,C);y>=0&&P[y].children.length>this._maxEntries;)this._split(P,y),y--;this._adjustParentBBoxes(C,P,y)},_split:function(m,y){var T=m[y],S=T.children.length,C=this._minEntries;this._chooseSplitAxis(T,C,S);var P=this._chooseSplitIndex(T,C,S),A=x(T.children.splice(P,T.children.length-P));A.height=T.height,A.leaf=T.leaf,i(T,this.toBBox),i(A,this.toBBox),y?m[y-1].children.push(A):this._splitRoot(T,A)},_splitRoot:function(m,y){this.data=x([m,y]),this.data.height=m.height+1,this.data.leaf=!1,i(this.data,this.toBBox)},_chooseSplitIndex:function(m,y,T){var S,C,P,A,M,O,I,B;for(O=I=1/0,S=y;S<=T-y;S++)C=r(m,0,S,this.toBBox),P=r(m,S,T,this.toBBox),A=v(C,P),M=a(C)+a(P),A<O?(O=A,B=S,I=M<I?M:I):A===O&&M<I&&(I=M,B=S);return B},_chooseSplitAxis:function(m,y,T){var S=m.leaf?this.compareMinX:e,C=m.leaf?this.compareMinY:l,P=this._allDistMargin(m,y,T,S),A=this._allDistMargin(m,y,T,C);P<A&&m.children.sort(S)},_allDistMargin:function(m,y,T,S){m.children.sort(S);var C=this.toBBox,P=r(m,0,y,C),A=r(m,T-y,T,C),M=o(P)+o(A),O,I;for(O=y;O<T-y;O++)I=m.children[O],n(P,m.leaf?C(I):I),M+=o(P);for(O=T-y-1;O>=y;O--)I=m.children[O],n(A,m.leaf?C(I):I),M+=o(A);return M},_adjustParentBBoxes:function(m,y,T){for(var S=T;S>=0;S--)n(y[S],m)},_condense:function(m){for(var y=m.length-1,T;y>=0;y--)m[y].children.length===0?y>0?(T=m[y-1].children,T.splice(T.indexOf(m[y]),1)):this.clear():i(m[y],this.toBBox)},compareMinX:function(m,y){return m.left-y.left},compareMinY:function(m,y){return m.top-y.top},toBBox:function(m){return{minX:m.left,minY:m.top,maxX:m.right,maxY:m.bottom}}};function h(m,y,T){if(!T)return y.indexOf(m);for(var S=0;S<y.length;S++)if(T(m,y[S]))return S;return-1}function i(m,y){r(m,0,m.children.length,y,m)}function r(m,y,T,S,C){C||(C=x(null)),C.minX=1/0,C.minY=1/0,C.maxX=-1/0,C.maxY=-1/0;for(var P=y,A;P<T;P++)A=m.children[P],n(C,m.leaf?S(A):A);return C}function n(m,y){return m.minX=Math.min(m.minX,y.minX),m.minY=Math.min(m.minY,y.minY),m.maxX=Math.max(m.maxX,y.maxX),m.maxY=Math.max(m.maxY,y.maxY),m}function e(m,y){return m.minX-y.minX}function l(m,y){return m.minY-y.minY}function a(m){return(m.maxX-m.minX)*(m.maxY-m.minY)}function o(m){return m.maxX-m.minX+(m.maxY-m.minY)}function u(m,y){return(Math.max(y.maxX,m.maxX)-Math.min(y.minX,m.minX))*(Math.max(y.maxY,m.maxY)-Math.min(y.minY,m.minY))}function v(m,y){var T=Math.max(m.minX,y.minX),S=Math.max(m.minY,y.minY),C=Math.min(m.maxX,y.maxX),P=Math.min(m.maxY,y.maxY);return Math.max(0,C-T)*Math.max(0,P-S)}function d(m,y){return m.minX<=y.minX&&m.minY<=y.minY&&y.maxX<=m.maxX&&y.maxY<=m.maxY}function p(m,y){return y.minX<=m.maxX&&y.minY<=m.maxY&&y.maxX>=m.minX&&y.maxY>=m.minY}function x(m){return{children:m,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(m,y,T,S,C){for(var P=[y,T],A;P.length;)T=P.pop(),y=P.pop(),!(T-y<=S)&&(A=y+Math.ceil((T-y)/S/2)*S,s(m,A,y,T,C),P.push(y,A,A,T))}c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){return!(f.right<=s.left||f.bottom<=s.top||f.position.x>=s.right||f.position.y>=s.bottom)};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(55),f=t(0),h=t(50),i=t(48),r=t(3),n=new f({initialize:function(l,a){var o=a.displayWidth?a.displayWidth:64,u=a.displayHeight?a.displayHeight:64;this.world=l,this.gameObject=a,this.debugShowBody=l.defaults.debugShowStaticBody,this.debugBodyColor=l.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new r,this.position=new r(a.x-o*a.originX,a.y-u*a.originY),this.width=o,this.height=u,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new r(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=r.ZERO,this.allowGravity=!1,this.gravity=r.ZERO,this.bounce=r.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.physicsType=h.STATIC_BODY,this._dx=0,this._dy=0},setGameObject:function(e,l){return e&&e!==this.gameObject&&(this.gameObject.body=null,e.body=this,this.gameObject=e),l&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var e=this.gameObject;return e.getTopLeft(this.position),this.width=e.displayWidth,this.height=e.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(e,l){return l===void 0&&(l=e),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(e,l),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(e,l,a){a===void 0&&(a=!0);var o=this.gameObject;if(!e&&o.frame&&(e=o.frame.realWidth),!l&&o.frame&&(l=o.frame.realHeight),this.world.staticTree.remove(this),this.width=e,this.height=l,this.halfWidth=Math.floor(e/2),this.halfHeight=Math.floor(l/2),a&&o.getCenter){var u=o.displayWidth/2,v=o.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(u-this.halfWidth,v-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(e,l,a){return l===void 0&&(l=this.offset.x),a===void 0&&(a=this.offset.y),e>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=e,this.width=e*2,this.height=e*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(l,a),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(e,l){var a=this.gameObject;e===void 0&&(e=a.x),l===void 0&&(l=a.y),this.world.staticTree.remove(this),a.setPosition(e,l),a.getTopLeft(this.position),this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(e){return e.x=this.x,e.y=this.y,e.right=this.right,e.bottom=this.bottom,e},hitTest:function(e,l){return this.isCircle?s(this,e,l):i(this,e,l)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(e){var l=this.position,a=l.x+this.halfWidth,o=l.y+this.halfHeight;this.debugShowBody&&(e.lineStyle(e.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?e.strokeCircle(a,o,this.width/2):e.strokeRect(l.x,l.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(e){return e<=0&&(e=.1),this.mass=e,this},x:{get:function(){return this.position.x},set:function(e){this.world.staticTree.remove(this),this.position.x=e,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(e){this.world.staticTree.remove(this),this.position.y=e,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});c.exports=n},function(c,E){var t={};c.exports=t,function(){t.create=function(s,f){var h=s.bodyA,i=s.bodyB,r={id:t.id(h,i),bodyA:h,bodyB:i,activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:h.isSensor||i.isSensor,timeCreated:f,timeUpdated:f,collision:null,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return t.update(r,s,f),r},t.update=function(s,f,h){if(s.collision=f,f.collided){var i=f.supports,r=s.activeContacts,n=f.parentA,e=f.parentB;s.inverseMass=n.inverseMass+e.inverseMass,s.friction=Math.min(n.friction,e.friction),s.frictionStatic=Math.max(n.frictionStatic,e.frictionStatic),s.restitution=Math.max(n.restitution,e.restitution),s.slop=Math.max(n.slop,e.slop);for(var l=0;l<i.length;l++)r[l]=i[l].contact;var a=i.length;a<r.length&&(r.length=a),s.separation=f.depth,t.setActive(s,!0,h)}else s.isActive===!0&&t.setActive(s,!1,h)},t.setActive=function(s,f,h){f?(s.isActive=!0,s.timeUpdated=h):(s.isActive=!1,s.activeContacts.length=0)},t.id=function(s,f){return s.id<f.id?"A"+s.id+"B"+f.id:"A"+f.id+"B"+s.id}}()},function(c,E,t){/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2020 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var s=t(0),f=new s({initialize:function(i){this.pluginManager=i,this.game=i.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(24),f=function(h,i,r,n,e,l,a){for(var o=s(r,n,e,l,null,a),u=0;u<o.length;u++)o[u]&&o[u].index===h&&(o[u].index=i)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(101),f=function(h,i,r){if(s(h,i,r)){var n=r.data[i][h];return n!==null&&n.index>-1}else return!1};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(74),f=t(101),h=t(220),i=function(r,n,e,l,a){if(e===void 0&&(e=!1),l===void 0&&(l=!0),!f(r,n,a))return null;var o=a.data[n][r];if(o)a.data[n][r]=e?null:new s(a,-1,r,n,o.width,o.height);else return null;return l&&o&&o.collides&&h(r,n,a),o};c.exports=i},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(32),f=t(223),h=t(479),i=t(480),r=t(491),n=function(e,l,a,o,u,v){var d;switch(l){case s.ARRAY_2D:d=f(e,a,o,u,v);break;case s.CSV:d=h(e,a,o,u,v);break;case s.TILED_JSON:d=i(e,a,v);break;case s.WELTMEISTER:d=r(e,a,v);break;default:console.warn("Unrecognized tilemap data format: "+l),d=null}return d};c.exports=n},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(32),f=t(223),h=function(i,r,n,e,l){var a=r.trim().split(`
`).map(function(u){return u.split(",")}),o=f(i,a,n,e,l);return o.format=s.CSV,o};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(32),f=t(103),h=t(481),i=t(483),r=t(484),n=t(487),e=t(489),l=t(490),a=function(o,u,v){if(u.orientation!=="orthogonal")return console.warn("Only orthogonal map types are supported in this version of Phaser"),null;var d=new f({width:u.width,height:u.height,name:o,tileWidth:u.tilewidth,tileHeight:u.tileheight,orientation:u.orientation,format:s.TILED_JSON,version:u.version,properties:u.properties,renderOrder:u.renderorder,infinite:u.infinite});d.layers=h(u,v),d.images=i(u);var p=r(u);return d.tilesets=p.tilesets,d.imageCollections=p.imageCollections,d.objects=n(u),d.tiles=e(d),l(d),d};c.exports=a},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(482),f=t(2),h=t(102),i=t(224),r=t(74),n=t(225),e=function(l,a){for(var o=f(l,"infinite",!1),u=[],v=[],d=n(l);d.i<d.layers.length||v.length>0;){if(d.i>=d.layers.length){if(v.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}d=v.pop();continue}var p=d.layers[d.i];if(d.i++,p.type!=="tilelayer"){if(p.type==="group"){var x=n(l,p,d);v.push(d),d=x}continue}if(p.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+p.name+"'");continue}else if(p.encoding&&p.encoding==="base64"){if(p.chunks)for(var g=0;g<p.chunks.length;g++)p.chunks[g].data=s(p.chunks[g].data);p.data&&(p.data=s(p.data)),delete p.encoding}var m,y,T,S,C=[],P=0;if(o){var A=f(p,"startx",0)+p.x,M=f(p,"starty",0)+p.y;m=new h({name:d.name+p.name,x:d.x+f(p,"offsetx",0)+A*l.tilewidth,y:d.y+f(p,"offsety",0)+M*l.tileheight,width:p.width,height:p.height,tileWidth:l.tilewidth,tileHeight:l.tileheight,alpha:d.opacity*p.opacity,visible:d.visible&&p.visible,properties:f(p,"properties",[])});for(var O=0;O<p.height;O++){C.push([null]);for(var I=0;I<p.width;I++)C[O][I]=null}for(O=0,U=p.chunks.length;O<U;O++)for(var B=p.chunks[O],G=B.x-A,z=B.y-M,N=0,L=0,R=B.data.length;L<R;L++){var F=P+G,Y=N+z;y=i(B.data[L]),y.gid>0?(T=new r(m,y.gid,F,Y,l.tilewidth,l.tileheight),T.rotation=y.rotation,T.flipX=y.flipped,C[Y][F]=T):(S=a?null:new r(m,-1,F,Y,l.tilewidth,l.tileheight),C[Y][F]=S),P++,P===B.width&&(N++,P=0)}}else{m=new h({name:d.name+p.name,x:d.x+f(p,"offsetx",0)+p.x,y:d.y+f(p,"offsety",0)+p.y,width:p.width,height:p.height,tileWidth:l.tilewidth,tileHeight:l.tileheight,alpha:d.opacity*p.opacity,visible:d.visible&&p.visible,properties:f(p,"properties",[])});for(var D=[],X=0,U=p.data.length;X<U;X++)y=i(p.data[X]),y.gid>0?(T=new r(m,y.gid,P,C.length,l.tilewidth,l.tileheight),T.rotation=y.rotation,T.flipX=y.flipped,D.push(T)):(S=a?null:new r(m,-1,P,C.length,l.tilewidth,l.tileheight),D.push(S)),P++,P===p.width&&(C.push(D),P=0,D=[])}m.data=C,u.push(m)}return u};c.exports=e},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){for(var f=window.atob(s),h=f.length,i=new Array(h/4),r=0;r<h;r+=4)i[r/4]=(f.charCodeAt(r)|f.charCodeAt(r+1)<<8|f.charCodeAt(r+2)<<16|f.charCodeAt(r+3)<<24)>>>0;return i};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(2),f=t(225),h=function(i){for(var r=[],n=[],e=f(i);e.i<e.layers.length||n.length>0;){if(e.i>=e.layers.length){if(n.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}e=n.pop();continue}var l=e.layers[e.i];if(e.i++,l.type!=="imagelayer"){if(l.type==="group"){var a=f(i,l,e);n.push(e),e=a}continue}var o=s(l,"offsetx",0)+s(l,"startx",0),u=s(l,"offsety",0)+s(l,"starty",0);r.push({name:e.name+l.name,image:l.image,x:e.x+o+l.x,y:e.y+u+l.y,alpha:e.opacity*l.opacity,visible:e.visible&&l.visible,properties:s(l,"properties",{})})}return r};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(104),f=t(485),h=t(226),i=function(r){for(var n=[],e=[],l=null,a,o=0;o<r.tilesets.length;o++){var u=r.tilesets[o];if(u.source)console.warn("Phaser can't load external tilesets. Use the Embed Tileset button and then export the map again.");else if(u.image){var v=new s(u.name,u.firstgid,u.tilewidth,u.tileheight,u.margin,u.spacing);if(r.version>1){if(Array.isArray(u.tiles)){for(var d={},p={},x=0;x<u.tiles.length;x++){var g=u.tiles[x];if(g.properties){var m={};g.properties.forEach(function(M){m[M.name]=M.value}),p[g.id]=m}if(g.objectgroup&&(d[g.id]={objectgroup:g.objectgroup},g.objectgroup.objects)){var y=g.objectgroup.objects.map(function(M){return h(M)});d[g.id].objectgroup.objects=y}g.animation&&(d.hasOwnProperty(g.id)?d[g.id].animation=g.animation:d[g.id]={animation:g.animation})}v.tileData=d,v.tileProperties=p}}else if(u.tileproperties&&(v.tileProperties=u.tileproperties),u.tiles){v.tileData=u.tiles;for(a in v.tileData){var T=v.tileData[a].objectgroup;if(T&&T.objects){var S=T.objects.map(function(M){return h(M)});v.tileData[a].objectgroup.objects=S}}}v.updateTileData(u.imagewidth,u.imageheight),n.push(v)}else{var C=new f(u.name,u.firstgid,u.tilewidth,u.tileheight,u.margin,u.spacing,u.properties);for(a in u.tiles){var P=u.tiles[a].image,A=u.firstgid+parseInt(a,10);C.addImage(A,P)}e.push(C)}l&&(l.lastgid=u.firstgid-1),l=u}return{tilesets:n,imageCollections:e}};c.exports=i},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=new s({initialize:function(i,r,n,e,l,a,o){(n===void 0||n<=0)&&(n=32),(e===void 0||e<=0)&&(e=32),l===void 0&&(l=0),a===void 0&&(a=0),this.name=i,this.firstgid=r|0,this.imageWidth=n|0,this.imageHeight=e|0,this.imageMargin=l|0,this.imageSpacing=a|0,this.properties=o||{},this.images=[],this.total=0},containsImageIndex:function(h){return h>=this.firstgid&&h<this.firstgid+this.total},addImage:function(h,i){return this.images.push({gid:h,image:i}),this.total++,this}});c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(108),f=function(h,i){for(var r={},n=0;n<i.length;n++){var e=i[n];s(h,e)&&(r[e]=h[e])}return r};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(2),f=t(226),h=t(488),i=t(225),r=function(n){for(var e=[],l=[],a=i(n);a.i<a.layers.length||l.length>0;){if(a.i>=a.layers.length){if(l.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}a=l.pop();continue}var o=a.layers[a.i];if(a.i++,o.opacity*=a.opacity,o.visible=a.visible&&o.visible,o.type!=="objectgroup"){if(o.type==="group"){var u=i(n,o,a);l.push(a),a=u}continue}o.name=a.name+o.name;for(var v=a.x+s(o,"startx",0)+s(o,"offsetx",0),d=a.y+s(o,"starty",0)+s(o,"offsety",0),p=[],x=0;x<o.objects.length;x++){var g=f(o.objects[x],v,d);p.push(g)}var m=new h(o);m.objects=p,e.push(m)}return e};c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(2),h=new s({initialize:function(r){r===void 0&&(r={}),this.name=f(r,"name","object layer"),this.opacity=f(r,"opacity",1),this.properties=f(r,"properties",{}),this.propertyTypes=f(r,"propertytypes",{}),this.type=f(r,"type","objectgroup"),this.visible=f(r,"visible",!0),this.objects=f(r,"objects",[])}});c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(104),f=function(h){var i,r,n=[];for(i=0;i<h.imageCollections.length;i++)for(var e=h.imageCollections[i],l=e.images,a=0;a<l.length;a++){var o=l[a];r=new s(o.image,o.gid,e.imageWidth,e.imageHeight,0,0),r.updateTileData(e.imageWidth,e.imageHeight),h.tilesets.push(r)}for(i=0;i<h.tilesets.length;i++){r=h.tilesets[i];for(var u=r.tileMargin,v=r.tileMargin,d=0,p=0,x=0,g=r.firstgid;g<r.firstgid+r.total&&(n[g]=[u,v,i],u+=r.tileWidth+r.tileSpacing,d++,!(d===r.total||(p++,p===r.columns&&(u=r.tileMargin,v+=r.tileHeight+r.tileSpacing,p=0,x++,x===r.rows))));g++);}return n};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(18),f=function(h){for(var i,r,n,e,l,a=0;a<h.layers.length;a++){i=h.layers[a],e=null;for(var o=0;o<i.data.length;o++){l=i.data[o];for(var u=0;u<l.length;u++)r=l[u],!(r===null||r.index<0)&&(n=h.tiles[r.index][2],e=h.tilesets[n],r.width=e.tileWidth,r.height=e.tileHeight,e.tileProperties&&e.tileProperties[r.index-e.firstgid]&&(r.properties=s(r.properties,e.tileProperties[r.index-e.firstgid])))}}};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(32),f=t(103),h=t(492),i=t(493),r=function(n,e,l){if(e.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+n),null;for(var a=0,o=0,u=0;u<e.layer.length;u++)e.layer[u].width>a&&(a=e.layer[u].width),e.layer[u].height>o&&(o=e.layer[u].height);var v=new f({width:a,height:o,name:n,tileWidth:e.layer[0].tilesize,tileHeight:e.layer[0].tilesize,format:s.WELTMEISTER});return v.layers=h(e,l),v.tilesets=i(e),v};c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(102),f=t(74),h=function(i,r){for(var n=[],e=0;e<i.layer.length;e++){for(var l=i.layer[e],a=new s({name:l.name,width:l.width,height:l.height,tileWidth:l.tilesize,tileHeight:l.tilesize,visible:l.visible===1}),o=[],u=[],v=0;v<l.data.length;v++){for(var d=0;d<l.data[v].length;d++){var p=l.data[v][d]-1,x;p>-1?x=new f(a,p,d,v,l.tilesize,l.tilesize):x=r?null:new f(a,-1,d,v,l.tilesize,l.tilesize),o.push(x)}u.push(o),o=[]}a.data=u,n.push(a)}return n};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(104),f=function(h){for(var i=[],r=[],n=0;n<h.layer.length;n++){var e=h.layer[n],l=e.tilesetName;l!==""&&r.indexOf(l)===-1&&(r.push(l),i.push(new s(l,0,e.tilesize,e.tilesize,0,0)))}return i};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(39),h=t(495),i=t(18),r=t(32),n=t(102),e=t(331),l=t(80),a=t(496),o=t(74),u=t(141),v=t(104),d=new s({initialize:function(x,g){this.scene=x,this.tileWidth=g.tileWidth,this.tileHeight=g.tileHeight,this.width=g.width,this.height=g.height,this.orientation=g.orientation,this.renderOrder=g.renderOrder,this.format=g.format,this.version=g.version,this.properties=g.properties,this.widthInPixels=g.widthInPixels,this.heightInPixels=g.heightInPixels,this.imageCollections=g.imageCollections,this.images=g.images,this.layers=g.layers,this.tilesets=g.tilesets,this.objects=g.objects,this.currentLayerIndex=0},setRenderOrder:function(p){var x=["right-down","left-down","right-up","left-up"];return typeof p=="number"&&(p=x[p]),x.indexOf(p)>-1&&(this.renderOrder=p),this},addTilesetImage:function(p,x,g,m,y,T,S){if(p===void 0)return null;if(x==null&&(x=p),!this.scene.sys.textures.exists(x))return console.warn("Invalid Tileset Image: "+x),null;var C=this.scene.sys.textures.get(x),P=this.getTilesetIndex(p);if(P===null&&this.format===r.TILED_JSON)return console.warn("No data found for Tileset: "+p),null;var A=this.tilesets[P];return A?(A.setTileSize(g,m),A.setSpacing(y,T),A.setImage(C),A):(g===void 0&&(g=this.tileWidth),m===void 0&&(m=this.tileHeight),y===void 0&&(y=0),T===void 0&&(T=0),S===void 0&&(S=0),A=new v(p,S,g,m,y,T),A.setImage(C),this.tilesets.push(A),A)},convertLayerToStatic:function(p){if(p=this.getLayer(p),p===null)return null;var x=p.tilemapLayer;if(!x||!(x instanceof h))return null;var g=new a(x.scene,x.tilemap,x.layerIndex,x.tileset,x.x,x.y);return this.scene.sys.displayList.add(g),x.destroy(),g},copy:function(p,x,g,m,y,T,S,C){return C=this.getLayer(C),this._isStaticCall(C,"copy")?this:C!==null?(u.Copy(p,x,g,m,y,T,S,C),this):null},createBlankDynamicLayer:function(p,x,g,m,y,T,S,C){g===void 0&&(g=0),m===void 0&&(m=0),y===void 0&&(y=this.width),T===void 0&&(T=this.height),S===void 0&&(S=this.tileWidth),C===void 0&&(C=this.tileHeight);var P=this.getLayerIndex(p);if(P!==null)return console.warn("Invalid Tilemap Layer ID: "+p),null;for(var A=new n({name:p,tileWidth:S,tileHeight:C,width:y,height:T}),M,O=0;O<T;O++){M=[];for(var I=0;I<y;I++)M.push(new o(A,-1,I,O,S,C,this.tileWidth,this.tileHeight));A.data.push(M)}this.layers.push(A),this.currentLayerIndex=this.layers.length-1;var B=new h(this.scene,this,this.currentLayerIndex,x,g,m);return B.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(B),B},createDynamicLayer:function(p,x,g,m){var y=this.getLayerIndex(p);if(y===null)return console.warn("Invalid Tilemap Layer ID: "+p),typeof p=="string"&&console.warn(`Valid tilelayer names:
	`+this.getTileLayerNames().join(`,
	`)),null;var T=this.layers[y];if(T.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+p),null;this.currentLayerIndex=y,g===void 0&&(g=T.x),m===void 0&&(m=T.y);var S=new h(this.scene,this,y,x,g,m);return S.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(S),S},createFromObjects:function(p,x,g,m){g===void 0&&(g={}),m===void 0&&(m=this.scene);var y=this.getObjectLayer(p);if(!y)return console.warn("Cannot create from object. Invalid objectgroup name given: "+p),typeof layerID=="string"&&console.warn(`Valid objectgroup names:
	`+this.getObjectLayerNames().join(`,
	`)),null;for(var T=y.objects,S=[],C=0;C<T.length;C++){var P=!1,A=T[C];if((A.gid!==void 0&&typeof x=="number"&&A.gid===x||A.id!==void 0&&typeof x=="number"&&A.id===x||A.name!==void 0&&typeof x=="string"&&A.name===x)&&(P=!0),P){var M=i({},g,A.properties);M.x=A.x,M.y=A.y;var O=m.make.sprite(M);O.name=A.name,A.width&&(O.displayWidth=A.width),A.height&&(O.displayHeight=A.height);var I={x:O.originX*A.width,y:(O.originY-1)*A.height};if(A.rotation){var B=f(A.rotation);e(I,B),O.rotation=B}O.x+=I.x,O.y+=I.y,(A.flippedHorizontal!==void 0||A.flippedVertical!==void 0)&&O.setFlip(A.flippedHorizontal,A.flippedVertical),A.visible||(O.visible=!1);for(var G in A.properties)O.hasOwnProperty(G)||O.setData(G,A.properties[G]);S.push(O)}}return S},createFromTiles:function(p,x,g,m,y,T){return T=this.getLayer(T),T===null?null:u.CreateFromTiles(p,x,g,m,y,T)},createStaticLayer:function(p,x,g,m){var y=this.getLayerIndex(p);if(y===null)return console.warn("Invalid Tilemap Layer ID: "+p),typeof p=="string"&&console.warn(`Valid tilelayer names:
	`+this.getTileLayerNames().join(`,
	`)),null;var T=this.layers[y];if(T.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+p),null;this.currentLayerIndex=y,g===void 0&&this.layers[y].x&&(g=this.layers[y].x),m===void 0&&this.layers[y].y&&(m=this.layers[y].y);var S=new a(this.scene,this,y,x,g,m);return S.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(S),S},destroy:function(){this.removeAllLayers(),this.tilesets.length=0,this.objects.length=0,this.scene=void 0},fill:function(p,x,g,m,y,T,S){return S=this.getLayer(S),S===null?null:this._isStaticCall(S,"fill")?this:(u.Fill(p,x,g,m,y,T,S),this)},filterObjects:function(p,x,g){if(typeof p=="string"){var m=p;if(p=this.getObjectLayer(p),!p)return console.warn("No object layer found with the name: "+m),null}return p.objects.filter(x,g)},filterTiles:function(p,x,g,m,y,T,S,C){return C=this.getLayer(C),C===null?null:u.FilterTiles(p,x,g,m,y,T,S,C)},findByIndex:function(p,x,g,m){return m=this.getLayer(m),m===null?null:u.FindByIndex(p,x,g,m)},findObject:function(p,x,g){if(typeof p=="string"){var m=p;if(p=this.getObjectLayer(p),!p)return console.warn("No object layer found with the name: "+m),null}return p.objects.find(x,g)||null},findTile:function(p,x,g,m,y,T,S,C){return C=this.getLayer(C),C===null?null:u.FindTile(p,x,g,m,y,T,S,C)},forEachTile:function(p,x,g,m,y,T,S,C){return C=this.getLayer(C),C===null?null:(u.ForEachTile(p,x,g,m,y,T,S,C),this)},getImageIndex:function(p){return this.getIndex(this.images,p)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(p){return p.name})},getIndex:function(p,x){for(var g=0;g<p.length;g++)if(p[g].name===x)return g;return null},getLayer:function(p){var x=this.getLayerIndex(p);return x!==null?this.layers[x]:null},getObjectLayer:function(p){var x=this.getIndex(this.objects,p);return x!==null?this.objects[x]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(p){return p.name})},getLayerIndex:function(p){return p===void 0?this.currentLayerIndex:typeof p=="string"?this.getLayerIndexByName(p):typeof p=="number"&&p<this.layers.length?p:p instanceof a||p instanceof h?p.layerIndex:null},getLayerIndexByName:function(p){return this.getIndex(this.layers,p)},getTileAt:function(p,x,g,m){return m=this.getLayer(m),m===null?null:u.GetTileAt(p,x,g,m)},getTileAtWorldXY:function(p,x,g,m,y){return y=this.getLayer(y),y===null?null:u.GetTileAtWorldXY(p,x,g,m,y)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(p){return p.name})},getTilesWithin:function(p,x,g,m,y,T){return T=this.getLayer(T),T===null?null:u.GetTilesWithin(p,x,g,m,y,T)},getTilesWithinShape:function(p,x,g,m){return m=this.getLayer(m),m===null?null:u.GetTilesWithinShape(p,x,g,m)},getTilesWithinWorldXY:function(p,x,g,m,y,T,S){return S=this.getLayer(S),S===null?null:u.GetTilesWithinWorldXY(p,x,g,m,y,T,S)},getTileset:function(p){var x=this.getIndex(this.tilesets,p);return x!==null?this.tilesets[x]:null},getTilesetIndex:function(p){return this.getIndex(this.tilesets,p)},hasTileAt:function(p,x,g){return g=this.getLayer(g),g===null?null:u.HasTileAt(p,x,g)},hasTileAtWorldXY:function(p,x,g,m){return m=this.getLayer(m),m===null?null:u.HasTileAtWorldXY(p,x,g,m)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(p){this.setLayer(p)}},putTileAt:function(p,x,g,m,y){return y=this.getLayer(y),this._isStaticCall(y,"putTileAt")||y===null?null:u.PutTileAt(p,x,g,m,y)},putTileAtWorldXY:function(p,x,g,m,y,T){return T=this.getLayer(T),this._isStaticCall(T,"putTileAtWorldXY")||T===null?null:u.PutTileAtWorldXY(p,x,g,m,y,T)},putTilesAt:function(p,x,g,m,y){return y=this.getLayer(y),this._isStaticCall(y,"putTilesAt")?this:y===null?null:(u.PutTilesAt(p,x,g,m,y),this)},randomize:function(p,x,g,m,y,T){return T=this.getLayer(T),this._isStaticCall(T,"randomize")?this:T===null?null:(u.Randomize(p,x,g,m,y,T),this)},calculateFacesAt:function(p,x,g){return g=this.getLayer(g),g===null?null:(u.CalculateFacesAt(p,x,g),this)},calculateFacesWithin:function(p,x,g,m,y){return y=this.getLayer(y),y===null?null:(u.CalculateFacesWithin(p,x,g,m,y),this)},removeLayer:function(p){var x=this.getLayerIndex(p);if(x!==null){l(this.layers,x);for(var g=x;g<this.layers.length;g++)this.layers[g].tilemapLayer&&this.layers[g].tilemapLayer.layerIndex--;return this.currentLayerIndex===x&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(p){var x=this.getLayerIndex(p);return x!==null?(p=this.layers[x],p.destroy(),l(this.layers,x),this.currentLayerIndex===x&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var p=this.layers,x=0;x<p.length;x++)p[x].tilemapLayer&&p[x].tilemapLayer.destroy(!1);return p.length=0,this.currentLayerIndex=0,this},removeTile:function(p,x,g){x===void 0&&(x=-1),g===void 0&&(g=!0);var m=[];Array.isArray(p)||(p=[p]);for(var y=0;y<p.length;y++){var T=p[y];m.push(this.removeTileAt(T.x,T.y,!0,g,T.tilemapLayer)),x>-1&&this.putTileAt(x,T.x,T.y,g,T.tilemapLayer)}return m},removeTileAt:function(p,x,g,m,y){return y=this.getLayer(y),this._isStaticCall(y,"removeTileAt")||y===null?null:u.RemoveTileAt(p,x,g,m,y)},removeTileAtWorldXY:function(p,x,g,m,y,T){return T=this.getLayer(T),this._isStaticCall(T,"removeTileAtWorldXY")||T===null?null:u.RemoveTileAtWorldXY(p,x,g,m,y,T)},renderDebug:function(p,x,g){return g=this.getLayer(g),g===null?null:(u.RenderDebug(p,x,g),this)},renderDebugFull:function(p,x){for(var g=this.layers,m=0;m<g.length;m++)u.RenderDebug(p,x,g[m]);return this},replaceByIndex:function(p,x,g,m,y,T,S){return S=this.getLayer(S),this._isStaticCall(S,"replaceByIndex")?this:S===null?null:(u.ReplaceByIndex(p,x,g,m,y,T,S),this)},setCollision:function(p,x,g,m,y){return m=this.getLayer(m),m===null?null:(u.SetCollision(p,x,g,m,y),this)},setCollisionBetween:function(p,x,g,m,y){return y=this.getLayer(y),y===null?null:(u.SetCollisionBetween(p,x,g,m,y),this)},setCollisionByProperty:function(p,x,g,m){return m=this.getLayer(m),m===null?null:(u.SetCollisionByProperty(p,x,g,m),this)},setCollisionByExclusion:function(p,x,g,m){return m=this.getLayer(m),m===null?null:(u.SetCollisionByExclusion(p,x,g,m),this)},setCollisionFromCollisionGroup:function(p,x,g){return g=this.getLayer(g),g===null?null:(u.SetCollisionFromCollisionGroup(p,x,g),this)},setTileIndexCallback:function(p,x,g,m){return m=this.getLayer(m),m===null?null:(u.SetTileIndexCallback(p,x,g,m),this)},setTileLocationCallback:function(p,x,g,m,y,T,S){return S=this.getLayer(S),S===null?null:(u.SetTileLocationCallback(p,x,g,m,y,T,S),this)},setLayer:function(p){var x=this.getLayerIndex(p);return x!==null&&(this.currentLayerIndex=x),this},setBaseTileSize:function(p,x){this.tileWidth=p,this.tileHeight=x,this.widthInPixels=this.width*p,this.heightInPixels=this.height*x;for(var g=0;g<this.layers.length;g++){this.layers[g].baseTileWidth=p,this.layers[g].baseTileHeight=x;for(var m=this.layers[g].data,y=this.layers[g].width,T=this.layers[g].height,S=0;S<T;S++)for(var C=0;C<y;C++){var P=m[S][C];P!==null&&P.setSize(void 0,void 0,p,x)}}return this},setLayerTileSize:function(p,x,g){if(g=this.getLayer(g),g===null)return this;g.tileWidth=p,g.tileHeight=x;for(var m=g.data,y=g.width,T=g.height,S=0;S<T;S++)for(var C=0;C<y;C++){var P=m[S][C];P!==null&&P.setSize(p,x)}return this},shuffle:function(p,x,g,m,y){return y=this.getLayer(y),this._isStaticCall(y,"shuffle")?this:y===null?null:(u.Shuffle(p,x,g,m,y),this)},swapByIndex:function(p,x,g,m,y,T,S){return S=this.getLayer(S),this._isStaticCall(S,"swapByIndex")?this:S===null?null:(u.SwapByIndex(p,x,g,m,y,T,S),this)},tileToWorldX:function(p,x,g){return g=this.getLayer(g),g===null?null:u.TileToWorldX(p,x,g)},tileToWorldY:function(p,x,g){return g=this.getLayer(g),g===null?null:u.TileToWorldY(p,x,g)},tileToWorldXY:function(p,x,g,m,y){return y=this.getLayer(y),y===null?null:u.TileToWorldXY(p,x,g,m,y)},weightedRandomize:function(p,x,g,m,y,T){return T=this.getLayer(T),this._isStaticCall(T,"weightedRandomize")?this:T===null?null:(u.WeightedRandomize(p,x,g,m,y,T),this)},worldToTileX:function(p,x,g,m){return m=this.getLayer(m),m===null?null:u.WorldToTileX(p,x,g,m)},worldToTileY:function(p,x,g,m){return m=this.getLayer(m),m===null?null:u.WorldToTileY(p,x,g,m)},worldToTileXY:function(p,x,g,m,y,T){return T=this.getLayer(T),T===null?null:u.WorldToTileXY(p,x,g,m,y,T)},_isStaticCall:function(p,x){return p.tilemapLayer instanceof a?(console.warn(x+": You cannot change the tiles in a static tilemap layer"),!0):!1}});c.exports=d},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(12),h=t(1345),i=t(14),r=t(141),n=new s({Extends:i,Mixins:[f.Alpha,f.BlendMode,f.ComputedSize,f.Depth,f.Flip,f.GetBounds,f.Origin,f.Pipeline,f.Transform,f.Visible,f.ScrollFactor,h],initialize:function(l,a,o,u,v,d){i.call(this,l,"DynamicTilemapLayer"),this.isTilemap=!0,this.tilemap=a,this.layerIndex=o,this.layer=a.layers[o],this.layer.tilemapLayer=this,this.tileset=[],this.culledTiles=[],this.skipCull=!1,this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=r.CullTiles,this._renderOrder=0,this.gidMap=[],this.setTilesets(u),this.setAlpha(this.layer.alpha),this.setPosition(v,d),this.setOrigin(),this.setSize(a.tileWidth*this.layer.width,a.tileHeight*this.layer.height),this.initPipeline("TextureTintPipeline")},setTilesets:function(e){var l=[],a=[],o=this.tilemap;Array.isArray(e)||(e=[e]);for(var u=0;u<e.length;u++){var v=e[u];if(typeof v=="string"&&(v=o.getTileset(v)),v){a.push(v);for(var d=v.firstgid,p=0;p<v.total;p++)l[d+p]=v}}this.gidMap=l,this.tileset=a},setRenderOrder:function(e){var l=["right-down","left-down","right-up","left-up"];return typeof e=="string"&&(e=l.indexOf(e)),e>=0&&e<4&&(this._renderOrder=e),this},calculateFacesAt:function(e,l){return r.CalculateFacesAt(e,l,this.layer),this},calculateFacesWithin:function(e,l,a,o){return r.CalculateFacesWithin(e,l,a,o,this.layer),this},createFromTiles:function(e,l,a,o,u){return r.CreateFromTiles(e,l,a,o,u,this.layer)},cull:function(e){return this.cullCallback(this.layer,e,this.culledTiles,this._renderOrder)},copy:function(e,l,a,o,u,v,d){return r.Copy(e,l,a,o,u,v,d,this.layer),this},destroy:function(e){e===void 0&&(e=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),e&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],i.prototype.destroy.call(this))},fill:function(e,l,a,o,u,v){return r.Fill(e,l,a,o,u,v,this.layer),this},filterTiles:function(e,l,a,o,u,v,d){return r.FilterTiles(e,l,a,o,u,v,d,this.layer)},findByIndex:function(e,l,a){return r.FindByIndex(e,l,a,this.layer)},findTile:function(e,l,a,o,u,v,d){return r.FindTile(e,l,a,o,u,v,d,this.layer)},forEachTile:function(e,l,a,o,u,v,d){return r.ForEachTile(e,l,a,o,u,v,d,this.layer),this},getTileAt:function(e,l,a){return r.GetTileAt(e,l,a,this.layer)},getTileAtWorldXY:function(e,l,a,o){return r.GetTileAtWorldXY(e,l,a,o,this.layer)},getTilesWithin:function(e,l,a,o,u){return r.GetTilesWithin(e,l,a,o,u,this.layer)},getTilesWithinShape:function(e,l,a){return r.GetTilesWithinShape(e,l,a,this.layer)},getTilesWithinWorldXY:function(e,l,a,o,u,v){return r.GetTilesWithinWorldXY(e,l,a,o,u,v,this.layer)},hasTileAt:function(e,l){return r.HasTileAt(e,l,this.layer)},hasTileAtWorldXY:function(e,l,a){return r.HasTileAtWorldXY(e,l,a,this.layer)},putTileAt:function(e,l,a,o){return r.PutTileAt(e,l,a,o,this.layer)},putTileAtWorldXY:function(e,l,a,o,u){return r.PutTileAtWorldXY(e,l,a,o,u,this.layer)},putTilesAt:function(e,l,a,o){return r.PutTilesAt(e,l,a,o,this.layer),this},randomize:function(e,l,a,o,u){return r.Randomize(e,l,a,o,u,this.layer),this},removeTileAt:function(e,l,a,o){return r.RemoveTileAt(e,l,a,o,this.layer)},removeTileAtWorldXY:function(e,l,a,o,u){return r.RemoveTileAtWorldXY(e,l,a,o,u,this.layer)},renderDebug:function(e,l){return r.RenderDebug(e,l,this.layer),this},replaceByIndex:function(e,l,a,o,u,v){return r.ReplaceByIndex(e,l,a,o,u,v,this.layer),this},setSkipCull:function(e){return e===void 0&&(e=!0),this.skipCull=e,this},setCullPadding:function(e,l){return e===void 0&&(e=1),l===void 0&&(l=1),this.cullPaddingX=e,this.cullPaddingY=l,this},setCollision:function(e,l,a,o){return r.SetCollision(e,l,a,this.layer,o),this},setCollisionBetween:function(e,l,a,o){return r.SetCollisionBetween(e,l,a,o,this.layer),this},setCollisionByProperty:function(e,l,a){return r.SetCollisionByProperty(e,l,a,this.layer),this},setCollisionByExclusion:function(e,l,a){return r.SetCollisionByExclusion(e,l,a,this.layer),this},setCollisionFromCollisionGroup:function(e,l){return r.SetCollisionFromCollisionGroup(e,l,this.layer),this},setTileIndexCallback:function(e,l,a){return r.SetTileIndexCallback(e,l,a,this.layer),this},setTileLocationCallback:function(e,l,a,o,u,v){return r.SetTileLocationCallback(e,l,a,o,u,v,this.layer),this},shuffle:function(e,l,a,o){return r.Shuffle(e,l,a,o,this.layer),this},swapByIndex:function(e,l,a,o,u,v){return r.SwapByIndex(e,l,a,o,u,v,this.layer),this},tileToWorldX:function(e,l){return r.TileToWorldX(e,l,this.layer)},tileToWorldY:function(e,l){return r.TileToWorldY(e,l,this.layer)},tileToWorldXY:function(e,l,a,o){return r.TileToWorldXY(e,l,a,o,this.layer)},weightedRandomize:function(e,l,a,o,u){return r.WeightedRandomize(e,l,a,o,u,this.layer),this},worldToTileX:function(e,l,a){return r.WorldToTileX(e,l,a,this.layer)},worldToTileY:function(e,l,a){return r.WorldToTileY(e,l,a,this.layer)},worldToTileXY:function(e,l,a,o,u){return r.WorldToTileXY(e,l,a,o,u,this.layer)}});c.exports=n},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(12),h=t(20),i=t(14),r=t(1348),n=t(141),e=t(29),l=t(9),a=new s({Extends:i,Mixins:[f.Alpha,f.BlendMode,f.ComputedSize,f.Depth,f.Flip,f.GetBounds,f.Origin,f.Pipeline,f.Transform,f.Visible,f.ScrollFactor,r],initialize:function(u,v,d,p,x,g){i.call(this,u,"StaticTilemapLayer"),this.isTilemap=!0,this.tilemap=v,this.layerIndex=d,this.layer=v.layers[d],this.layer.tilemapLayer=this,this.tileset=[],this.culledTiles=[],this.skipCull=!1,this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=n.CullTiles,this.renderer=u.sys.game.renderer,this.vertexBuffer=[],this.bufferData=[],this.vertexViewF32=[],this.vertexViewU32=[],this.dirty=[],this.vertexCount=[],this._renderOrder=0,this._tempMatrix=new e,this.gidMap=[],this.setTilesets(p),this.setAlpha(this.layer.alpha),this.setPosition(x,g),this.setOrigin(),this.setSize(v.tileWidth*this.layer.width,v.tileHeight*this.layer.height),this.updateVBOData(),this.initPipeline("TextureTintPipeline"),u.sys.game.events.on(h.CONTEXT_RESTORED,function(){this.updateVBOData()},this)},setTilesets:function(o){var u=[],v=[],d=this.tilemap;Array.isArray(o)||(o=[o]);for(var p=0;p<o.length;p++){var x=o[p];if(typeof x=="string"&&(x=d.getTileset(x)),x){v.push(x);for(var g=x.firstgid,m=0;m<x.total;m++)u[g+m]=x}}this.gidMap=u,this.tileset=v},updateVBOData:function(){for(var o=0;o<this.tileset.length;o++)this.dirty[o]=!0,this.vertexCount[o]=0,this.vertexBuffer[o]=null,this.bufferData[o]=null,this.vertexViewF32[o]=null,this.vertexViewU32[o]=null;return this},upload:function(o,u){var v=this.renderer,d=v.gl,p=v.pipelines.TextureTintPipeline;if(this.dirty[u]){var x=this.tileset[u],g=this.layer.width,m=this.layer.height,y=x.image.source[0].width,T=x.image.source[0].height,S=this.layer.data,C,P,A,M=this._renderOrder,O=x.firstgid,I=x.firstgid+x.total,B=this.vertexBuffer[u],G=this.bufferData[u],z=-1,N=g*m*p.vertexSize*6;if(this.vertexCount[u]=0,G===null&&(G=new ArrayBuffer(N),this.bufferData[u]=G,this.vertexViewF32[u]=new Float32Array(G),this.vertexViewU32[u]=new Uint32Array(G)),M===0)for(P=0;P<m;P++)for(A=0;A<g;A++)C=S[P][A],!(!C||C.index<O||C.index>I||!C.visible)&&(z=this.batchTile(z,C,x,y,T,o,u));else if(M===1)for(P=0;P<m;P++)for(A=g-1;A>=0;A--)C=S[P][A],!(!C||C.index<O||C.index>I||!C.visible)&&(z=this.batchTile(z,C,x,y,T,o,u));else if(M===2)for(P=m-1;P>=0;P--)for(A=0;A<g;A++)C=S[P][A],!(!C||C.index<O||C.index>I||!C.visible)&&(z=this.batchTile(z,C,x,y,T,o,u));else if(M===3)for(P=m-1;P>=0;P--)for(A=g-1;A>=0;A--)C=S[P][A],!(!C||C.index<O||C.index>I||!C.visible)&&(z=this.batchTile(z,C,x,y,T,o,u));this.dirty[u]=!1,B===null?(B=v.createVertexBuffer(G,d.STATIC_DRAW),this.vertexBuffer[u]=B):(v.setVertexBuffer(B),d.bufferSubData(d.ARRAY_BUFFER,0,G))}return this},batchTile:function(o,u,v,d,p,x,g){var m=v.getTileTextureCoordinates(u.index);if(!m)return o;var y=v.tileWidth,T=v.tileHeight,S=y/2,C=T/2,P=m.x/d,A=m.y/p,M=(m.x+y)/d,O=(m.y+T)/p,I=this._tempMatrix,B=-S,G=-C;u.flipX&&(y*=-1,B+=v.tileWidth),u.flipY&&(T*=-1,G+=v.tileHeight);var z=B+y,N=G+T;I.applyITRS(S+u.pixelX,C+u.pixelY,u.rotation,1,1);var L=l.getTintAppendFloatAlpha(16777215,x.alpha*this.alpha*u.alpha),R=I.getX(B,G),F=I.getY(B,G),Y=I.getX(B,N),D=I.getY(B,N),X=I.getX(z,N),U=I.getY(z,N),V=I.getX(z,G),w=I.getY(z,G);x.roundPixels&&(R=Math.round(R),F=Math.round(F),Y=Math.round(Y),D=Math.round(D),X=Math.round(X),U=Math.round(U),V=Math.round(V),w=Math.round(w));var W=this.vertexViewF32[g],H=this.vertexViewU32[g];return W[++o]=R,W[++o]=F,W[++o]=P,W[++o]=A,W[++o]=0,H[++o]=L,W[++o]=Y,W[++o]=D,W[++o]=P,W[++o]=O,W[++o]=0,H[++o]=L,W[++o]=X,W[++o]=U,W[++o]=M,W[++o]=O,W[++o]=0,H[++o]=L,W[++o]=R,W[++o]=F,W[++o]=P,W[++o]=A,W[++o]=0,H[++o]=L,W[++o]=X,W[++o]=U,W[++o]=M,W[++o]=O,W[++o]=0,H[++o]=L,W[++o]=V,W[++o]=w,W[++o]=M,W[++o]=A,W[++o]=0,H[++o]=L,this.vertexCount[g]+=6,o},setRenderOrder:function(o){var u=["right-down","left-down","right-up","left-up"];if(typeof o=="string"&&(o=u.indexOf(o)),o>=0&&o<4){this._renderOrder=o;for(var v=0;v<this.tileset.length;v++)this.dirty[v]=!0}return this},calculateFacesAt:function(o,u){return n.CalculateFacesAt(o,u,this.layer),this},calculateFacesWithin:function(o,u,v,d){return n.CalculateFacesWithin(o,u,v,d,this.layer),this},createFromTiles:function(o,u,v,d,p){return n.CreateFromTiles(o,u,v,d,p,this.layer)},cull:function(o){return this.cullCallback(this.layer,o,this.culledTiles)},setSkipCull:function(o){return o===void 0&&(o=!0),this.skipCull=o,this},setCullPadding:function(o,u){return o===void 0&&(o=1),u===void 0&&(u=1),this.cullPaddingX=o,this.cullPaddingY=u,this},findByIndex:function(o,u,v){return n.FindByIndex(o,u,v,this.layer)},findTile:function(o,u,v,d,p,x,g){return n.FindTile(o,u,v,d,p,x,g,this.layer)},filterTiles:function(o,u,v,d,p,x,g){return n.FilterTiles(o,u,v,d,p,x,g,this.layer)},forEachTile:function(o,u,v,d,p,x,g){return n.ForEachTile(o,u,v,d,p,x,g,this.layer),this},getTileAt:function(o,u,v){return n.GetTileAt(o,u,v,this.layer)},getTileAtWorldXY:function(o,u,v,d){return n.GetTileAtWorldXY(o,u,v,d,this.layer)},getTilesWithin:function(o,u,v,d,p){return n.GetTilesWithin(o,u,v,d,p,this.layer)},getTilesWithinWorldXY:function(o,u,v,d,p,x){return n.GetTilesWithinWorldXY(o,u,v,d,p,x,this.layer)},getTilesWithinShape:function(o,u,v){return n.GetTilesWithinShape(o,u,v,this.layer)},hasTileAt:function(o,u){return n.HasTileAt(o,u,this.layer)},hasTileAtWorldXY:function(o,u,v){return n.HasTileAtWorldXY(o,u,v,this.layer)},renderDebug:function(o,u){return n.RenderDebug(o,u,this.layer),this},setCollision:function(o,u,v,d){return n.SetCollision(o,u,v,this.layer,d),this},setCollisionBetween:function(o,u,v,d){return n.SetCollisionBetween(o,u,v,d,this.layer),this},setCollisionByProperty:function(o,u,v){return n.SetCollisionByProperty(o,u,v,this.layer),this},setCollisionByExclusion:function(o,u,v){return n.SetCollisionByExclusion(o,u,v,this.layer),this},setTileIndexCallback:function(o,u,v){return n.SetTileIndexCallback(o,u,v,this.layer),this},setCollisionFromCollisionGroup:function(o,u){return n.SetCollisionFromCollisionGroup(o,u,this.layer),this},setTileLocationCallback:function(o,u,v,d,p,x){return n.SetTileLocationCallback(o,u,v,d,p,x,this.layer),this},tileToWorldX:function(o,u){return n.TileToWorldX(o,u,this.layer)},tileToWorldY:function(o,u){return n.TileToWorldY(o,u,this.layer)},tileToWorldXY:function(o,u,v,d){return n.TileToWorldXY(o,u,v,d,this.layer)},worldToTileX:function(o,u,v){return n.WorldToTileX(o,u,v,this.layer)},worldToTileY:function(o,u,v){return n.WorldToTileY(o,u,v,this.layer)},worldToTileXY:function(o,u,v,d,p){return n.WorldToTileXY(o,u,v,d,p,this.layer)},destroy:function(o){if(o===void 0&&(o=!0),!!this.tilemap){this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),o&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null;for(var u=0;u<this.tileset.length;u++)this.dirty[u]=!0,this.vertexCount[u]=0,this.vertexBuffer[u]=null,this.bufferData[u]=null,this.vertexViewF32[u]=null,this.vertexViewU32[u]=null;this.gidMap=[],this.tileset=[],i.prototype.destroy.call(this)}}});c.exports=a},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(2),h=new s({initialize:function(r){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(r)},reset:function(i){return this.delay=f(i,"delay",0),this.repeat=f(i,"repeat",0),this.loop=f(i,"loop",!1),this.callback=f(i,"callback",void 0),this.callbackScope=f(i,"callbackScope",this.callback),this.args=f(i,"args",[]),this.timeScale=f(i,"timeScale",1),this.startAt=f(i,"startAt",0),this.paused=f(i,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var i=this.delay+this.delay*this.repeat,r=this.elapsed+this.delay*(this.repeat-this.repeatCount);return r/i}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},remove:function(i){i===void 0&&(i=!1),this.elapsed=this.delay,this.hasDispatched=!i,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(1357),f=function(h){var i,r=[];if(h.hasOwnProperty("props"))for(i in h.props)i.substr(0,1)!=="_"&&r.push({key:i,value:h.props[i]});else for(i in h)s.indexOf(i)===-1&&i.substr(0,1)!=="_"&&r.push({key:i,value:h[i]});return r};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(6),f=function(h){var i=s(h,"tweens",null);return i===null?[]:(typeof i=="function"&&(i=i.call()),Array.isArray(i)||(i=[i]),i)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(230),f=t(15),h=t(88),i=t(69),r=t(145),n=t(6),e=t(229),l=t(231),a=t(233),o=function(u,v,d){d===void 0&&(d=s);var p=n(v,"from",0),x=n(v,"to",1),g=[{value:p}],m=r(v,"delay",d.delay),y=r(v,"duration",d.duration),T=n(v,"easeParams",d.easeParams),S=i(n(v,"ease",d.ease),T),C=r(v,"hold",d.hold),P=r(v,"repeat",d.repeat),A=r(v,"repeatDelay",d.repeatDelay),M=h(v,"yoyo",d.yoyo),O=[],I=e("value",x),B=a(g[0],0,"value",I.getEnd,I.getStart,I.getActive,S,m,y,M,C,P,A,!1,!1);B.start=p,B.current=p,B.to=x,O.push(B);var G=new l(u,O,g);G.offset=f(v,"offset",null),G.completeDelay=f(v,"completeDelay",0),G.loop=Math.round(f(v,"loop",0)),G.loopDelay=Math.round(f(v,"loopDelay",0)),G.paused=h(v,"paused",!1),G.useFrames=h(v,"useFrames",!1);for(var z=n(v,"callbackScope",G),N=[G,null],L=l.TYPES,R=0;R<L.length;R++){var F=L[R],Y=n(v,F,!1);if(Y){var D=n(v,F+"Scope",z),X=n(v,F+"Params",[]);G.setCallback(F,Y,N.concat(X),D)}}return G};c.exports=o},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(69),f=t(6),h=t(13),i=function(r,n){n===void 0&&(n={});var e,l=f(n,"start",0),a=f(n,"ease",null),o=f(n,"grid",null),u=f(n,"from",0),v=u==="first",d=u==="center",p=u==="last",x=typeof u=="number",g=Array.isArray(r),m=parseFloat(g?r[0]:r),y=g?parseFloat(r[1]):0,T=Math.max(m,y);if(g&&(l+=m),o){var S=o[0],C=o[1],P=0,A=0,M=0,O=0,I=[];p?(P=S-1,A=C-1):x?(P=u%S,A=Math.floor(u/S)):d&&(P=(S-1)/2,A=(C-1)/2);for(var B=h.MIN_SAFE_INTEGER,G=0;G<C;G++){I[G]=[];for(var z=0;z<S;z++){M=P-z,O=A-G;var N=Math.sqrt(M*M+O*O);N>B&&(B=N),I[G][z]=N}}}var L=a?s(a):null;return o?e=function(R,F,Y,D){var X=0,U=D%S,V=Math.floor(D/S);U>=0&&U<S&&V>=0&&V<C&&(X=I[V][U]);var w;if(g){var W=y-m;L?w=X/B*W*L(X/B):w=X/B*W}else L?w=X*m*L(X/B):w=X*m;return w+l}:e=function(R,F,Y,D,X){X--;var U;v?U=D:d?U=Math.abs(X/2-D):p?U=X-D:x&&(U=Math.abs(u-D));var V;if(g){var w;d?w=(y-m)/X*(U*2):w=(y-m)/X*U,L?V=w*L(U/X):V=w}else L?V=X*T*L(U/X):V=U*m;return V+l},e};c.exports=i},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(67),f=t(230),h=t(15),i=t(88),r=t(69),n=t(145),e=t(228),l=t(499),a=t(6),o=t(503),u=t(146),v=function(d,p){var x=new o(d);x.completeDelay=h(p,"completeDelay",0),x.loop=Math.round(h(p,"loop",0)),x.loopDelay=Math.round(h(p,"loopDelay",0)),x.paused=i(p,"paused",!1),x.useFrames=i(p,"useFrames",!1);var g=a(p,"callbackScope",x),m=[x],y=a(p,"onStart",!1);if(y){var T=a(p,"onStartScope",g),S=a(p,"onStartParams",[]);x.setCallback("onStart",y,m.concat(S),T)}var C=a(p,"onUpdate",!1);if(C){var P=a(p,"onUpdateScope",g),A=a(p,"onUpdateParams",[]);x.setCallback("onUpdate",C,m.concat(A),P)}var M=a(p,"onLoop",!1);if(M){var O=a(p,"onLoopScope",g),I=a(p,"onLoopParams",[]);x.setCallback("onLoop",M,m.concat(I),O)}var B=a(p,"onYoyo",!1);if(B){var G=a(p,"onYoyoScope",g),z=a(p,"onYoyoParams",[]);x.setCallback("onYoyo",B,m.concat(null,z),G)}var N=a(p,"onComplete",!1);if(N){var L=a(p,"onCompleteScope",g),R=a(p,"onCompleteParams",[]);x.setCallback("onComplete",N,m.concat(R),L)}var F=l(p);if(F.length===0)return x.paused=!0,x;var Y=s(f);Y.targets=e(p);var D=h(p,"totalDuration",0);D>0?Y.duration=Math.floor(D/F.length):Y.duration=n(p,"duration",Y.duration),Y.delay=n(p,"delay",Y.delay),Y.easeParams=a(p,"easeParams",Y.easeParams),Y.ease=r(a(p,"ease",Y.ease),Y.easeParams),Y.hold=n(p,"hold",Y.hold),Y.repeat=n(p,"repeat",Y.repeat),Y.repeatDelay=n(p,"repeatDelay",Y.repeatDelay),Y.yoyo=i(p,"yoyo",Y.yoyo),Y.flipX=i(p,"flipX",Y.flipX),Y.flipY=i(p,"flipY",Y.flipY);for(var X=0;X<F.length;X++)x.queue(u(x,F[X],Y));return x};c.exports=v},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(10),h=t(232),i=t(146),r=t(89),n=new s({Extends:f,initialize:function(l){f.call(this),this.manager=l,this.isTimeline=!0,this.data=[],this.totalData=0,this.useFrames=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=r.PENDING_ADD,this._pausedState=r.PENDING_ADD,this.paused=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.callbacks={onComplete:null,onLoop:null,onStart:null,onUpdate:null,onYoyo:null},this.callbackScope},dispatchTimelineEvent:function(e,l){this.emit(e,this),l&&l.func.apply(l.scope,l.params)},setTimeScale:function(e){return this.timeScale=e,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return this.state===r.ACTIVE},add:function(e){return this.queue(i(this,e))},queue:function(e){return this.isPlaying()||(e.parent=this,e.parentIsTimeline=!0,this.data.push(e),this.totalData=this.data.length),this},hasOffset:function(e){return e.offset!==null},isOffsetAbsolute:function(e){return typeof e=="number"},isOffsetRelative:function(e){var l=typeof e;if(l==="string"){var a=e[0];if(a==="-"||a==="+")return!0}return!1},getRelativeOffset:function(e,l){var a=e[0],o=parseFloat(e.substr(2)),u=l;switch(a){case"+":u+=o;break;case"-":u-=o;break}return Math.max(0,u)},calcDuration:function(){for(var e=0,l=0,a=0,o=0;o<this.totalData;o++){var u=this.data[o];u.init(),this.hasOffset(u)?this.isOffsetAbsolute(u.offset)?(u.calculatedOffset=u.offset,u.offset===0&&(a=0)):this.isOffsetRelative(u.offset)&&(u.calculatedOffset=this.getRelativeOffset(u.offset,e)):u.calculatedOffset=a,e=u.totalDuration+u.calculatedOffset,l+=u.totalDuration,a+=u.totalDuration}this.duration=l,this.loopCounter=this.loop===-1?999999999999:this.loop,this.loopCounter>0?this.totalDuration=this.duration+this.completeDelay+(this.duration+this.loopDelay)*this.loopCounter:this.totalDuration=this.duration+this.completeDelay},init:function(){return this.calcDuration(),this.progress=0,this.totalProgress=0,this.paused?(this.state=r.PAUSED,!1):!0},resetTweens:function(e){for(var l=0;l<this.totalData;l++){var a=this.data[l];a.play(e)}},setCallback:function(e,l,a,o){return n.TYPES.indexOf(e)!==-1&&(this.callbacks[e]={func:l,scope:o,params:a}),this},makeActive:function(e){return this.manager.makeActive(e)},play:function(){if(this.state!==r.ACTIVE){if(this.paused){this.paused=!1,this.manager.makeActive(this);return}else this.resetTweens(!1),this.state=r.ACTIVE;this.dispatchTimelineEvent(h.TIMELINE_START,this.callbacks.onStart)}},nextState:function(){this.loopCounter>0?(this.elapsed=0,this.progress=0,this.loopCounter--,this.resetTweens(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.state=r.LOOP_DELAY):(this.state=r.ACTIVE,this.dispatchTimelineEvent(h.TIMELINE_LOOP,this.callbacks.onLoop))):this.completeDelay>0?(this.state=r.COMPLETE_DELAY,this.countdown=this.completeDelay):(this.state=r.PENDING_REMOVE,this.dispatchTimelineEvent(h.TIMELINE_COMPLETE,this.callbacks.onComplete))},update:function(e,l){if(this.state!==r.PAUSED){switch(this.useFrames&&(l=1*this.manager.timeScale),l*=this.timeScale,this.elapsed+=l,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=l,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),this.state){case r.ACTIVE:for(var a=this.totalData,o=0;o<this.totalData;o++){var u=this.data[o];u.update(e,l)&&a--}this.dispatchTimelineEvent(h.TIMELINE_UPDATE,this.callbacks.onUpdate),a===0&&this.nextState();break;case r.LOOP_DELAY:this.countdown-=l,this.countdown<=0&&(this.state=r.ACTIVE,this.dispatchTimelineEvent(h.TIMELINE_LOOP,this.callbacks.onLoop));break;case r.COMPLETE_DELAY:this.countdown-=l,this.countdown<=0&&(this.state=r.PENDING_REMOVE,this.dispatchTimelineEvent(h.TIMELINE_COMPLETE,this.callbacks.onComplete));break}return this.state===r.PENDING_REMOVE}},stop:function(){this.state=r.PENDING_REMOVE},pause:function(){if(this.state!==r.PAUSED)return this.paused=!0,this._pausedState=this.state,this.state=r.PAUSED,this.emit(h.TIMELINE_PAUSE,this),this},resume:function(){return this.state===r.PAUSED&&(this.paused=!1,this.state=this._pausedState,this.emit(h.TIMELINE_RESUME,this)),this},hasTarget:function(e){for(var l=0;l<this.data.length;l++)if(this.data[l].hasTarget(e))return!0;return!1},destroy:function(){for(var e=0;e<this.data.length;e++)this.data[e].stop()}});n.TYPES=["onStart","onUpdate","onLoop","onComplete","onYoyo"],c.exports=n},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(151),f=t(0),h=t(111),i=new f({initialize:function(n){this.parent=n,this.animationManager=n.scene.sys.anims,this.animationManager.once(h.REMOVE_ANIMATION,this.remove,this),this.isPlaying=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this._timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this._delay=0,this._repeat=0,this._repeatDelay=0,this._yoyo=!1,this.forward=!0,this._reverse=!1,this.accumulator=0,this.nextTick=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(r){return r instanceof s&&(r=r.key),this.nextAnim===null?this.nextAnim=r:this.nextAnimsQueue.push(r),this.parent},setDelay:function(r){return r===void 0&&(r=0),this._delay=r,this.parent},getDelay:function(){return this._delay},delayedPlay:function(r,n,e){return this.play(n,!0,e),this.nextTick+=r,this.parent},getCurrentKey:function(){if(this.currentAnim)return this.currentAnim.key},load:function(r,n){return n===void 0&&(n=0),this.isPlaying&&this.stop(),this.animationManager.load(this,r,n),this.parent},pause:function(r){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),r!==void 0&&this.updateFrame(r),this.parent},resume:function(r){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),r!==void 0&&this.updateFrame(r),this.parent},isPaused:{get:function(){return this._paused}},play:function(r,n,e){return n===void 0&&(n=!1),e===void 0&&(e=0),r instanceof s&&(r=r.key),n&&this.isPlaying&&this.currentAnim.key===r?this.parent:(this.forward=!0,this._reverse=!1,this._paused=!1,this._wasPlaying=!0,this._startAnimation(r,e))},playReverse:function(r,n,e){return n===void 0&&(n=!1),e===void 0&&(e=0),r instanceof s&&(r=r.key),n&&this.isPlaying&&this.currentAnim.key===r?this.parent:(this.forward=!1,this._reverse=!0,this._startAnimation(r,e))},_startAnimation:function(r,n){this.load(r,n);var e=this.currentAnim,l=this.parent;if(!e)return l;this.repeatCounter=this._repeat===-1?Number.MAX_VALUE:this._repeat,e.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,e.showOnStart&&(l.visible=!0);var a=this.currentFrame;return e.emit(h.ANIMATION_START,e,a,l),l.emit(h.SPRITE_ANIMATION_KEY_START+r,e,a,l),l.emit(h.SPRITE_ANIMATION_START,e,a,l),l},reverse:function(){return this.isPlaying&&(this._reverse=!this._reverse,this.forward=!this.forward),this.parent},getProgress:function(){var r=this.currentFrame.progress;return this.forward||(r=1-r),r},setProgress:function(r){return this.forward||(r=1-r),this.setCurrentFrame(this.currentAnim.getFrameByProgress(r)),this.parent},remove:function(r,n){n===void 0&&(n=this.currentAnim),this.isPlaying&&n.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},getRepeat:function(){return this._repeat},setRepeat:function(r){return this._repeat=r,this.repeatCounter=r===-1?Number.MAX_VALUE:r,this.parent},getRepeatDelay:function(){return this._repeatDelay},setRepeatDelay:function(r){return this._repeatDelay=r,this.parent},restart:function(r){r===void 0&&(r=!1);var n=this.currentAnim;n.getFirstTick(this,r),this.forward=!0,this.isPlaying=!0,this.pendingRepeat=!1,this._paused=!1,this.updateFrame(n.frames[0]);var e=this.parent,l=this.currentFrame;return n.emit(h.ANIMATION_RESTART,n,l,e),e.emit(h.SPRITE_ANIMATION_KEY_RESTART+n.key,n,l,e),e.emit(h.SPRITE_ANIMATION_RESTART,n,l,e),this.parent},stop:function(){this._pendingStop=0,this.isPlaying=!1;var r=this.parent,n=this.currentAnim,e=this.currentFrame;if(n&&(n.emit(h.ANIMATION_COMPLETE,n,e,r),r.emit(h.SPRITE_ANIMATION_KEY_COMPLETE+n.key,n,e,r),r.emit(h.SPRITE_ANIMATION_COMPLETE,n,e,r)),this.nextAnim){var l=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(l)}return r},stopAfterDelay:function(r){return this._pendingStop=1,this._pendingStopValue=r,this.parent},stopOnRepeat:function(){return this._pendingStop=2,this.parent},stopOnFrame:function(r){return this._pendingStop=3,this._pendingStopValue=r,this.parent},setTimeScale:function(r){return r===void 0&&(r=1),this._timeScale=r,this.parent},getTimeScale:function(){return this._timeScale},getTotalFrames:function(){return this.currentAnim.frames.length},update:function(r,n){if(!(!this.currentAnim||!this.isPlaying||this.currentAnim.paused)){if(this.accumulator+=n*this._timeScale,this._pendingStop===1&&(this._pendingStopValue-=n,this._pendingStopValue<=0))return this.currentAnim.completeAnimation(this);this.accumulator>=this.nextTick&&this.currentAnim.setFrame(this)}},setCurrentFrame:function(r){var n=this.parent;return this.currentFrame=r,n.texture=r.frame.texture,n.frame=r.frame,n.isCropped&&n.frame.updateCropUVs(n._crop,n.flipX,n.flipY),n.setSizeToFrame(),n._originComponent&&(r.frame.customPivot?n.setOrigin(r.frame.pivotX,r.frame.pivotY):n.updateDisplayOrigin()),n},updateFrame:function(r){var n=this.setCurrentFrame(r);if(this.isPlaying){r.setAlpha&&(n.alpha=r.alpha);var e=this.currentAnim;n.emit(h.SPRITE_ANIMATION_KEY_UPDATE+e.key,e,r,n),n.emit(h.SPRITE_ANIMATION_UPDATE,e,r,n),this._pendingStop===3&&this._pendingStopValue===r&&this.currentAnim.completeAnimation(this)}},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},setYoyo:function(r){return r===void 0&&(r=!1),this._yoyo=r,this.parent},getYoyo:function(){return this._yoyo},destroy:function(){this.animationManager.off(h.REMOVE_ANIMATION,this.remove,this),this.animationManager=null,this.parent=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null}});c.exports=i},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(506),f=t(40),h=t(0),i=t(33),r=t(507),n=t(92),e=t(29),l=new h({initialize:function(o){this.game=o,this.type=i.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.config={clearBeforeRender:o.config.clearBeforeRender,backgroundColor:o.config.backgroundColor,resolution:o.config.resolution,antialias:o.config.antialias,roundPixels:o.config.roundPixels},this.gameCanvas=o.canvas;var u={alpha:o.config.transparent,desynchronized:o.config.desynchronized};this.gameContext=this.game.config.context?this.game.config.context:this.gameCanvas.getContext("2d",u),this.currentContext=this.gameContext,this.antialias=o.config.antialias,this.blendModes=r(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new e,this._tempMatrix2=new e,this._tempMatrix3=new e,this._tempMatrix4=new e,this.init()},init:function(){this.game.scale.on(n.RESIZE,this.onResize,this);var a=this.game.scale.baseSize;this.resize(a.width,a.height)},onResize:function(a,o){(o.width!==this.width||o.height!==this.height)&&this.resize(o.width,o.height)},resize:function(a,o){this.width=a,this.height=o},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(a){return this.currentContext.globalCompositeOperation=a,this},setContext:function(a){return this.currentContext=a||this.gameContext,this},setAlpha:function(a){return this.currentContext.globalAlpha=a,this},preRender:function(){var a=this.gameContext,o=this.config,u=this.width,v=this.height;a.globalAlpha=1,a.globalCompositeOperation="source-over",a.setTransform(1,0,0,1,0,0),o.clearBeforeRender&&a.clearRect(0,0,u,v),o.transparent||(a.fillStyle=o.backgroundColor.rgba,a.fillRect(0,0,u,v)),a.save(),this.drawCount=0},render:function(a,o,u,v){var d=o.list,p=d.length,x=v._cx,g=v._cy,m=v._cw,y=v._ch,T=v.renderToTexture?v.context:a.sys.context;T.save(),this.game.scene.customViewports&&(T.beginPath(),T.rect(x,g,m,y),T.clip()),this.currentContext=T;var S=v.mask;S&&S.preRenderCanvas(this,null,v._maskCamera),v.transparent||(T.fillStyle=v.backgroundColor.rgba,T.fillRect(x,g,m,y)),T.globalAlpha=v.alpha,T.globalCompositeOperation="source-over",this.drawCount+=d.length,v.renderToTexture&&v.emit(f.PRE_RENDER,v),v.matrix.copyToContext(T);for(var C=0;C<p;C++){var P=d[C];P.willRender(v)&&(P.mask&&P.mask.preRenderCanvas(this,P,v),P.renderCanvas(this,P,u,v),P.mask&&P.mask.postRenderCanvas(this,P,v))}T.setTransform(1,0,0,1,0,0),T.globalCompositeOperation="source-over",T.globalAlpha=1,v.flashEffect.postRenderCanvas(T),v.fadeEffect.postRenderCanvas(T),v.dirty=!1,S&&S.postRenderCanvas(this),T.restore(),v.renderToTexture&&(v.emit(f.POST_RENDER,v),v.renderToGame&&a.sys.context.drawImage(v.canvas,x,g))},postRender:function(){var a=this.gameContext;a.restore();var o=this.snapshotState;o.callback&&(s(this.gameCanvas,o),o.callback=null)},snapshotCanvas:function(a,o,u,v,d,p,x,g,m){u===void 0&&(u=!1),this.snapshotArea(v,d,p,x,o,g,m);var y=this.snapshotState;return y.getPixel=u,s(this.canvas,y),y.callback=null,this},snapshot:function(a,o,u){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,a,o,u)},snapshotArea:function(a,o,u,v,d,p,x){var g=this.snapshotState;return g.callback=d,g.type=p,g.encoder=x,g.getPixel=!1,g.x=a,g.y=o,g.width=Math.min(u,this.gameCanvas.width),g.height=Math.min(v,this.gameCanvas.height),this},snapshotPixel:function(a,o,u){return this.snapshotArea(a,o,1,1,u),this.snapshotState.getPixel=!0,this},batchSprite:function(a,o,u,v){var d=u.alpha*a.alpha;if(d!==0){var p=this.currentContext,x=this._tempMatrix1,g=this._tempMatrix2,m=this._tempMatrix3,y=o.canvasData,T=y.x,S=y.y,C=o.cutWidth,P=o.cutHeight,A=o.customPivot,M=o.source.resolution,O=a.displayOriginX,I=a.displayOriginY,B=-O+o.x,G=-I+o.y;if(a.isCropped){var z=a._crop;(z.flipX!==a.flipX||z.flipY!==a.flipY)&&o.updateCropUVs(z,a.flipX,a.flipY),C=z.cw,P=z.ch,T=z.cx,S=z.cy,B=-O+z.x,G=-I+z.y,a.flipX&&(B>=0?B=-(B+C):B<0&&(B=Math.abs(B)-C)),a.flipY&&(G>=0?G=-(G+P):G<0&&(G=Math.abs(G)-P))}var N=1,L=1;a.flipX&&(A||(B+=-o.realWidth+O*2),N=-1),a.flipY&&(A||(G+=-o.realHeight+I*2),L=-1),g.applyITRS(a.x,a.y,a.rotation,a.scaleX*N,a.scaleY*L),x.copyFrom(u.matrix),v?(x.multiplyWithOffset(v,-u.scrollX*a.scrollFactorX,-u.scrollY*a.scrollFactorY),g.e=a.x,g.f=a.y,x.multiply(g,m)):(g.e-=u.scrollX*a.scrollFactorX,g.f-=u.scrollY*a.scrollFactorY,x.multiply(g,m)),p.save(),m.setToContext(p),p.globalCompositeOperation=this.blendModes[a.blendMode],p.globalAlpha=d,p.imageSmoothingEnabled=!(!this.antialias||o.source.scaleMode),a.mask&&a.mask.preRenderCanvas(this,a,u),p.drawImage(o.source.image,T,S,C,P,B,G,C/M,P/M),a.mask&&a.mask.postRenderCanvas(this,a,u),p.restore()}},destroy:function(){this.gameCanvas=null,this.gameContext=null,this.game=null}});c.exports=l},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(26),f=t(31),h=t(2),i=function(r,n){var e=h(n,"callback"),l=h(n,"type","image/png"),a=h(n,"encoder",.92),o=Math.abs(Math.round(h(n,"x",0))),u=Math.abs(Math.round(h(n,"y",0))),v=h(n,"width",r.width),d=h(n,"height",r.height),p=h(n,"getPixel",!1);if(p){var x=r.getContext("2d"),g=x.getImageData(o,u,1,1),m=g.data;e.call(null,new f(m[0],m[1],m[2],m[3]/255))}else if(o!==0||u!==0||v!==r.width||d!==r.height){var y=s.createWebGL(this,v,d),T=y.getContext("2d");T.drawImage(r,o,u,v,d,0,0,v,d);var S=new Image;S.onerror=function(){e.call(null),s.remove(y)},S.onload=function(){e.call(null,S),s.remove(y)},S.src=y.toDataURL(l,a)}else{var C=new Image;C.onerror=function(){e.call(null)},C.onload=function(){e.call(null,C)},C.src=r.toDataURL(l,a)}};c.exports=i},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(52),f=t(316),h=function(){var i=[],r=f.supportNewBlendModes,n="source-over";return i[s.NORMAL]=n,i[s.ADD]="lighter",i[s.MULTIPLY]=r?"multiply":n,i[s.SCREEN]=r?"screen":n,i[s.OVERLAY]=r?"overlay":n,i[s.DARKEN]=r?"darken":n,i[s.LIGHTEN]=r?"lighten":n,i[s.COLOR_DODGE]=r?"color-dodge":n,i[s.COLOR_BURN]=r?"color-burn":n,i[s.HARD_LIGHT]=r?"hard-light":n,i[s.SOFT_LIGHT]=r?"soft-light":n,i[s.DIFFERENCE]=r?"difference":n,i[s.EXCLUSION]=r?"exclusion":n,i[s.HUE]=r?"hue":n,i[s.SATURATION]=r?"saturation":n,i[s.COLOR]=r?"color":n,i[s.LUMINOSITY]=r?"luminosity":n,i[s.ERASE]="destination-out",i[s.SOURCE_IN]="source-in",i[s.SOURCE_OUT]="source-out",i[s.SOURCE_ATOP]="source-atop",i[s.DESTINATION_OVER]="destination-over",i[s.DESTINATION_IN]="destination-in",i[s.DESTINATION_OUT]="destination-out",i[s.DESTINATION_ATOP]="destination-atop",i[s.LIGHTER]="lighter",i[s.COPY]="copy",i[s.XOR]="xor",i};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(91),f=t(40),h=t(0),i=t(33),r=t(20),n=t(120),e=t(1),l=t(92),a=t(80),o=t(121),u=t(29),v=t(9),d=t(509),p=t(510),x=t(511),g=t(237),m=t(512),y=new h({initialize:function(S){var C=S.config,P={alpha:C.transparent,desynchronized:C.desynchronized,depth:!1,antialias:C.antialiasGL,premultipliedAlpha:C.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:C.failIfMajorPerformanceCaveat,powerPreference:C.powerPreference};this.config={clearBeforeRender:C.clearBeforeRender,antialias:C.antialias,backgroundColor:C.backgroundColor,contextCreation:P,resolution:C.resolution,roundPixels:C.roundPixels,maxTextures:C.maxTextures,maxTextureSize:C.maxTextureSize,batchSize:C.batchSize,maxLights:C.maxLights,mipmapFilter:C.mipmapFilter},this.game=S,this.type=i.WEBGL,this.width=0,this.height=0,this.canvas=S.canvas,this.blendModes=[],this.nativeTextures=[],this.contextLost=!1,this.pipelines=null,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.currentActiveTextureUnit=0,this.currentTextures=new Array(16),this.currentFramebuffer=null,this.currentPipeline=null,this.currentProgram=null,this.currentVertexBuffer=null,this.currentIndexBuffer=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=e,this.contextRestoredHandler=e,this.gl=null,this.supportedExtensions=null,this.extensions={},this.glFormats=[],this.compression={ETC1:!1,PVRTC:!1,S3TC:!1},this.drawingBufferHeight=0,this.blankTexture=null,this.defaultCamera=new s(0,0,0,0),this._tempMatrix1=new u,this._tempMatrix2=new u,this._tempMatrix3=new u,this._tempMatrix4=new u,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.mipmapFilter=null,this.init(this.config)},init:function(T){var S,C=this.game,P=this.canvas,A=T.backgroundColor;if(C.config.context?S=C.config.context:S=P.getContext("webgl",T.contextCreation)||P.getContext("experimental-webgl",T.contextCreation),!S||S.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=S;var M=this;this.contextLostHandler=function(N){M.contextLost=!0,M.game.events.emit(r.CONTEXT_LOST,M),N.preventDefault()},this.contextRestoredHandler=function(){M.contextLost=!1,M.init(M.config),M.game.events.emit(r.CONTEXT_RESTORED,M)},P.addEventListener("webglcontextlost",this.contextLostHandler,!1),P.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),C.context=S;for(var O=0;O<=27;O++)this.blendModes.push({func:[S.ONE,S.ONE_MINUS_SRC_ALPHA],equation:S.FUNC_ADD});this.blendModes[1].func=[S.ONE,S.DST_ALPHA],this.blendModes[2].func=[S.DST_COLOR,S.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[S.ONE,S.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[S.ZERO,S.ONE_MINUS_SRC_ALPHA],equation:S.FUNC_REVERSE_SUBTRACT},this.glFormats[0]=S.BYTE,this.glFormats[1]=S.SHORT,this.glFormats[2]=S.UNSIGNED_BYTE,this.glFormats[3]=S.UNSIGNED_SHORT,this.glFormats[4]=S.FLOAT,this.glFuncMap={mat2:{func:S.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:S.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:S.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:S.uniform1f,length:1},"1fv":{func:S.uniform1fv,length:1},"1i":{func:S.uniform1i,length:1},"1iv":{func:S.uniform1iv,length:1},"2f":{func:S.uniform2f,length:2},"2fv":{func:S.uniform2fv,length:1},"2i":{func:S.uniform2i,length:2},"2iv":{func:S.uniform2iv,length:1},"3f":{func:S.uniform3f,length:3},"3fv":{func:S.uniform3fv,length:1},"3i":{func:S.uniform3i,length:3},"3iv":{func:S.uniform3iv,length:1},"4f":{func:S.uniform4f,length:4},"4fv":{func:S.uniform4fv,length:1},"4i":{func:S.uniform4i,length:4},"4iv":{func:S.uniform4iv,length:1}};var I=S.getSupportedExtensions();T.maxTextures||(T.maxTextures=S.getParameter(S.MAX_TEXTURE_IMAGE_UNITS)),T.maxTextureSize||(T.maxTextureSize=S.getParameter(S.MAX_TEXTURE_SIZE));var B="WEBGL_compressed_texture_",G="WEBKIT_"+B;this.compression.ETC1=S.getExtension(B+"etc1")||S.getExtension(G+"etc1"),this.compression.PVRTC=S.getExtension(B+"pvrtc")||S.getExtension(G+"pvrtc"),this.compression.S3TC=S.getExtension(B+"s3tc")||S.getExtension(G+"s3tc"),this.supportedExtensions=I,S.disable(S.DEPTH_TEST),S.disable(S.CULL_FACE),S.enable(S.BLEND),S.clearColor(A.redGL,A.greenGL,A.blueGL,A.alphaGL),this.mipmapFilter=S[T.mipmapFilter];for(var z=0;z<this.currentTextures.length;++z)this.currentTextures[z]=null;return this.pipelines={},this.addPipeline("TextureTintPipeline",new g({game:C,renderer:this})),this.addPipeline("TextureTintStripPipeline",new m({game:C,renderer:this})),this.addPipeline("BitmapMaskPipeline",new p({game:C,renderer:this})),this.addPipeline("Light2D",new x({game:C,renderer:this,maxLights:T.maxLights})),this.setBlendMode(i.BlendModes.NORMAL),C.textures.once(o.READY,this.boot,this),this},boot:function(){for(var T in this.pipelines)this.pipelines[T].boot();var S=this.game.textures.getFrame("__DEFAULT");this.pipelines.TextureTintPipeline.currentFrame=S,this.blankTexture=S;var C=this.gl;C.bindFramebuffer(C.FRAMEBUFFER,null),C.enable(C.SCISSOR_TEST),this.setPipeline(this.pipelines.TextureTintPipeline),this.game.scale.on(l.RESIZE,this.onResize,this);var P=this.game.scale.baseSize;this.resize(P.width,P.height,this.game.scale.resolution)},onResize:function(T,S,C,P){(S.width!==this.width||S.height!==this.height||P!==this.resolution)&&this.resize(S.width,S.height,P)},resize:function(T,S,C){var P=this.gl,A=this.pipelines;this.width=T,this.height=S,this.resolution=C,P.viewport(0,0,T,S);for(var M in A)A[M].resize(T,S,C);return this.drawingBufferHeight=P.drawingBufferHeight,P.scissor(0,P.drawingBufferHeight-S,T,S),this.defaultCamera.setSize(T,S),this},hasExtension:function(T){return this.supportedExtensions?this.supportedExtensions.indexOf(T):!1},getExtension:function(T){return this.hasExtension(T)?(T in this.extensions||(this.extensions[T]=this.gl.getExtension(T)),this.extensions[T]):null},flush:function(){this.currentPipeline&&this.currentPipeline.flush()},hasPipeline:function(T){return T in this.pipelines},getPipeline:function(T){return this.hasPipeline(T)?this.pipelines[T]:null},removePipeline:function(T){return delete this.pipelines[T],this},addPipeline:function(T,S){return this.hasPipeline(T)?console.warn("Pipeline exists: "+T):this.pipelines[T]=S,S.name=T,this.pipelines[T].resize(this.width,this.height,this.config.resolution),S},pushScissor:function(T,S,C,P,A){A===void 0&&(A=this.drawingBufferHeight);var M=this.scissorStack,O=[T,S,C,P];return M.push(O),this.setScissor(T,S,C,P,A),this.currentScissor=O,O},setScissor:function(T,S,C,P,A){A===void 0&&(A=this.drawingBufferHeight);var M=this.gl,O=this.currentScissor,I=C>0&&P>0;if(O&&I){var B=O[0],G=O[1],z=O[2],N=O[3];I=B!==T||G!==S||z!==C||N!==P}I&&(this.flush(),M.scissor(T,A-S-P,C,P))},popScissor:function(){var T=this.scissorStack;T.pop();var S=T[T.length-1];S&&this.setScissor(S[0],S[1],S[2],S[3]),this.currentScissor=S},setPipeline:function(T,S){return(this.currentPipeline!==T||this.currentPipeline.vertexBuffer!==this.currentVertexBuffer||this.currentPipeline.program!==this.currentProgram)&&(this.flush(),this.currentPipeline=T,this.currentPipeline.bind()),this.currentPipeline.onBind(S),this.currentPipeline},hasActiveStencilMask:function(){var T=this.currentMask.mask,S=this.currentCameraMask.mask;return T&&T.isStencil||S&&S.isStencil},rebindPipeline:function(T){var S=this.gl;S.disable(S.DEPTH_TEST),S.disable(S.CULL_FACE),this.hasActiveStencilMask()?S.clear(S.DEPTH_BUFFER_BIT):(S.disable(S.STENCIL_TEST),S.clear(S.DEPTH_BUFFER_BIT|S.STENCIL_BUFFER_BIT)),S.viewport(0,0,this.width,this.height),this.setBlendMode(0,!0),S.activeTexture(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,this.blankTexture.glTexture),this.currentActiveTextureUnit=0,this.currentTextures[0]=this.blankTexture.glTexture,this.currentPipeline=T,this.currentPipeline.bind(),this.currentPipeline.onBind()},clearPipeline:function(){this.flush(),this.currentPipeline=null,this.currentProgram=null,this.currentVertexBuffer=null,this.currentIndexBuffer=null,this.setBlendMode(0,!0)},setBlendMode:function(T,S){S===void 0&&(S=!1);var C=this.gl,P=this.blendModes[T];return S||T!==i.BlendModes.SKIP_CHECK&&this.currentBlendMode!==T?(this.flush(),C.enable(C.BLEND),C.blendEquation(P.equation),P.func.length>2?C.blendFuncSeparate(P.func[0],P.func[1],P.func[2],P.func[3]):C.blendFunc(P.func[0],P.func[1]),this.currentBlendMode=T,!0):!1},addBlendMode:function(T,S){var C=this.blendModes.push({func:T,equation:S});return C-1},updateBlendMode:function(T,S,C){return this.blendModes[T]&&(this.blendModes[T].func=S,C&&(this.blendModes[T].equation=C)),this},removeBlendMode:function(T){return T>17&&this.blendModes[T]&&this.blendModes.splice(T,1),this},setBlankTexture:function(T){T===void 0&&(T=!1),(T||this.currentActiveTextureUnit!==0||!this.currentTextures[0])&&this.setTexture2D(this.blankTexture.glTexture,0)},setTexture2D:function(T,S,C){C===void 0&&(C=!0);var P=this.gl;return T!==this.currentTextures[S]&&(C&&this.flush(),this.currentActiveTextureUnit!==S&&(P.activeTexture(P.TEXTURE0+S),this.currentActiveTextureUnit=S),P.bindTexture(P.TEXTURE_2D,T),this.currentTextures[S]=T),this},setFramebuffer:function(T,S){S===void 0&&(S=!1);var C=this.gl,P=this.width,A=this.height;return T!==this.currentFramebuffer&&(T&&T.renderTexture?(P=T.renderTexture.width,A=T.renderTexture.height):this.flush(),C.bindFramebuffer(C.FRAMEBUFFER,T),C.viewport(0,0,P,A),S&&(T?(this.drawingBufferHeight=A,this.pushScissor(0,0,P,A)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=T),this},setProgram:function(T){var S=this.gl;return T!==this.currentProgram&&(this.flush(),S.useProgram(T),this.currentProgram=T),this},setVertexBuffer:function(T){var S=this.gl;return T!==this.currentVertexBuffer&&(this.flush(),S.bindBuffer(S.ARRAY_BUFFER,T),this.currentVertexBuffer=T),this},setIndexBuffer:function(T){var S=this.gl;return T!==this.currentIndexBuffer&&(this.flush(),S.bindBuffer(S.ELEMENT_ARRAY_BUFFER,T),this.currentIndexBuffer=T),this},createTextureFromSource:function(T,S,C,P){var A=this.gl,M=A.NEAREST,O=A.NEAREST,I=A.CLAMP_TO_EDGE,B=null;S=T?T.width:S,C=T?T.height:C;var G=n(S,C);return G&&(I=A.REPEAT),P===i.ScaleModes.LINEAR&&this.config.antialias&&(M=G?this.mipmapFilter:A.LINEAR,O=A.LINEAR),!T&&typeof S=="number"&&typeof C=="number"?B=this.createTexture2D(0,M,O,I,I,A.RGBA,null,S,C):B=this.createTexture2D(0,M,O,I,I,A.RGBA,T),B},createTexture2D:function(T,S,C,P,A,M,O,I,B,G,z,N){G=G??!0,z===void 0&&(z=!1),N===void 0&&(N=!1);var L=this.gl,R=L.createTexture();return this.setTexture2D(R,0),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MIN_FILTER,S),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MAG_FILTER,C),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_S,A),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_T,P),L.pixelStorei(L.UNPACK_PREMULTIPLY_ALPHA_WEBGL,G),L.pixelStorei(L.UNPACK_FLIP_Y_WEBGL,N),O==null?L.texImage2D(L.TEXTURE_2D,T,M,I,B,0,M,L.UNSIGNED_BYTE,null):(z||(I=O.width,B=O.height),L.texImage2D(L.TEXTURE_2D,T,M,M,L.UNSIGNED_BYTE,O)),n(I,B)&&L.generateMipmap(L.TEXTURE_2D),this.setTexture2D(null,0),R.isAlphaPremultiplied=G,R.isRenderTexture=!1,R.width=I,R.height=B,this.nativeTextures.push(R),R},createFramebuffer:function(T,S,C,P){var A=this.gl,M=A.createFramebuffer(),O=0;if(this.setFramebuffer(M),P){var I=A.createRenderbuffer();A.bindRenderbuffer(A.RENDERBUFFER,I),A.renderbufferStorage(A.RENDERBUFFER,A.DEPTH_STENCIL,T,S),A.framebufferRenderbuffer(A.FRAMEBUFFER,A.DEPTH_STENCIL_ATTACHMENT,A.RENDERBUFFER,I)}if(C.isRenderTexture=!0,C.isAlphaPremultiplied=!1,A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,C,0),O=A.checkFramebufferStatus(A.FRAMEBUFFER),O!==A.FRAMEBUFFER_COMPLETE){var B={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"};throw new Error("Framebuffer incomplete. Framebuffer status: "+B[O])}return M.renderTexture=C,this.setFramebuffer(null),M},createProgram:function(T,S){var C=this.gl,P=C.createProgram(),A=C.createShader(C.VERTEX_SHADER),M=C.createShader(C.FRAGMENT_SHADER);if(C.shaderSource(A,T),C.shaderSource(M,S),C.compileShader(A),C.compileShader(M),!C.getShaderParameter(A,C.COMPILE_STATUS))throw new Error(`Failed to compile Vertex Shader:
`+C.getShaderInfoLog(A));if(!C.getShaderParameter(M,C.COMPILE_STATUS))throw new Error(`Failed to compile Fragment Shader:
`+C.getShaderInfoLog(M));if(C.attachShader(P,A),C.attachShader(P,M),C.linkProgram(P),!C.getProgramParameter(P,C.LINK_STATUS))throw new Error(`Failed to link program:
`+C.getProgramInfoLog(P));return P},createVertexBuffer:function(T,S){var C=this.gl,P=C.createBuffer();return this.setVertexBuffer(P),C.bufferData(C.ARRAY_BUFFER,T,S),this.setVertexBuffer(null),P},createIndexBuffer:function(T,S){var C=this.gl,P=C.createBuffer();return this.setIndexBuffer(P),C.bufferData(C.ELEMENT_ARRAY_BUFFER,T,S),this.setIndexBuffer(null),P},deleteTexture:function(T){var S=this.nativeTextures.indexOf(T);return S!==-1&&a(this.nativeTextures,S),this.gl.deleteTexture(T),this.currentTextures[0]===T&&!this.game.pendingDestroy&&this.setBlankTexture(!0),this},deleteFramebuffer:function(T){return this.gl.deleteFramebuffer(T),this},deleteProgram:function(T){return this.gl.deleteProgram(T),this},deleteBuffer:function(T){return this.gl.deleteBuffer(T),this},preRenderCamera:function(T){var S=T._cx,C=T._cy,P=T._cw,A=T._ch,M=this.pipelines.TextureTintPipeline,O=T.backgroundColor;if(T.renderToTexture){this.flush(),this.pushScissor(S,C,P,-A),this.setFramebuffer(T.framebuffer);var I=this.gl;I.clearColor(0,0,0,0),I.clear(I.COLOR_BUFFER_BIT),M.projOrtho(S,P+S,C,A+C,-1e3,1e3),T.mask&&(this.currentCameraMask.mask=T.mask,this.currentCameraMask.camera=T._maskCamera,T.mask.preRenderWebGL(this,T,T._maskCamera)),O.alphaGL>0&&M.drawFillRect(S,C,P+S,A+C,v.getTintFromFloats(O.redGL,O.greenGL,O.blueGL,1),O.alphaGL),T.emit(f.PRE_RENDER,T)}else this.pushScissor(S,C,P,A),T.mask&&(this.currentCameraMask.mask=T.mask,this.currentCameraMask.camera=T._maskCamera,T.mask.preRenderWebGL(this,T,T._maskCamera)),O.alphaGL>0&&M.drawFillRect(S,C,P,A,v.getTintFromFloats(O.redGL,O.greenGL,O.blueGL,1),O.alphaGL)},getCurrentStencilMask:function(){var T=null,S=this.maskStack,C=this.currentCameraMask;return S.length>0?T=S[S.length-1]:C.mask&&C.mask.isStencil&&(T=C),T},postRenderCamera:function(T){this.setPipeline(this.pipelines.TextureTintPipeline);var S=this.pipelines.TextureTintPipeline;if(T.flashEffect.postRenderWebGL(S,v.getTintFromFloats),T.fadeEffect.postRenderWebGL(S,v.getTintFromFloats),T.dirty=!1,this.popScissor(),T.renderToTexture){if(S.flush(),this.setFramebuffer(null),T.emit(f.POST_RENDER,T),T.renderToGame){S.projOrtho(0,S.width,S.height,0,-1e3,1e3);var C=v.getTintAppendFloatAlpha,P=T.pipeline?T.pipeline:S;P.batchTexture(T,T.glTexture,T.width,T.height,T.x,T.y,T.width,T.height,T.zoom,T.zoom,T.rotation,T.flipX,!T.flipY,1,1,0,0,0,0,T.width,T.height,C(T._tintTL,T._alphaTL),C(T._tintTR,T._alphaTR),C(T._tintBL,T._alphaBL),C(T._tintBR,T._alphaBR),T._isTinted&&T.tintFill,0,0,this.defaultCamera,null)}this.setBlankTexture(!0)}T.mask&&(this.currentCameraMask.mask=null,T.mask.postRenderWebGL(this,T._maskCamera))},preRender:function(){if(!this.contextLost){var T=this.gl,S=this.pipelines;if(T.bindFramebuffer(T.FRAMEBUFFER,null),this.config.clearBeforeRender){var C=this.config.backgroundColor;T.clearColor(C.redGL,C.greenGL,C.blueGL,C.alphaGL),T.clear(T.COLOR_BUFFER_BIT|T.DEPTH_BUFFER_BIT|T.STENCIL_BUFFER_BIT)}T.enable(T.SCISSOR_TEST);for(var P in S)S[P].onPreRender();this.currentScissor=[0,0,this.width,this.height],this.scissorStack=[this.currentScissor],this.game.scene.customViewports&&T.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.setPipeline(this.pipelines.TextureTintPipeline)}},render:function(T,S,C,P){if(!this.contextLost){var A=S.list,M=A.length,O=this.pipelines;for(var I in O)O[I].onRender(T,P);if(this.preRenderCamera(P),M===0){this.setBlendMode(i.BlendModes.NORMAL),this.postRenderCamera(P);return}this.currentType="";for(var B=this.currentMask,G=0;G<M;G++){var z=A[G];if(z.willRender(P)){z.blendMode!==this.currentBlendMode&&this.setBlendMode(z.blendMode);var N=z.mask;B=this.currentMask,B.mask&&B.mask!==N&&B.mask.postRenderWebGL(this,B.camera),N&&B.mask!==N&&N.preRenderWebGL(this,z,P);var L=z.type;L!==this.currentType&&(this.newType=!0,this.currentType=L),this.nextTypeMatch=G<M-1?A[G+1].type===this.currentType:!1,z.renderWebGL(this,z,C,P),this.newType=!1}}B=this.currentMask,B.mask&&B.mask.postRenderWebGL(this,B.camera),this.setBlendMode(i.BlendModes.NORMAL),this.postRenderCamera(P)}},postRender:function(){if(!this.contextLost){this.flush();var T=this.snapshotState;T.callback&&(d(this.canvas,T),T.callback=null);var S=this.pipelines;for(var C in S)S[C].onPostRender()}},snapshot:function(T,S,C){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,T,S,C)},snapshotArea:function(T,S,C,P,A,M,O){var I=this.snapshotState;return I.callback=A,I.type=M,I.encoder=O,I.getPixel=!1,I.x=T,I.y=S,I.width=Math.min(C,this.gl.drawingBufferWidth),I.height=Math.min(P,this.gl.drawingBufferHeight),this},snapshotPixel:function(T,S,C){return this.snapshotArea(T,S,1,1,C),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(T,S,C,P,A,M,O,I,B,G,z){A===void 0&&(A=!1),M===void 0&&(M=0),O===void 0&&(O=0),I===void 0&&(I=S),B===void 0&&(B=C);var N=this.currentFramebuffer;this.snapshotArea(M,O,I,B,P,G,z);var L=this.snapshotState;return L.getPixel=A,L.isFramebuffer=!0,L.bufferWidth=S,L.bufferHeight=C,this.setFramebuffer(T),d(this.canvas,L),this.setFramebuffer(N),L.callback=null,L.isFramebuffer=!1,this},canvasToTexture:function(T,S,C,P){return C===void 0&&(C=!1),P===void 0&&(P=!1),S?this.updateCanvasTexture(T,S,P):this.createCanvasTexture(T,C,P)},createCanvasTexture:function(T,S,C){S===void 0&&(S=!1),C===void 0&&(C=!1);var P=this.gl,A=P.NEAREST,M=P.NEAREST,O=T.width,I=T.height,B=P.CLAMP_TO_EDGE,G=n(O,I);return!S&&G&&(B=P.REPEAT),this.config.antialias&&(A=G?this.mipmapFilter:P.LINEAR,M=P.LINEAR),this.createTexture2D(0,A,M,B,B,P.RGBA,T,O,I,!0,!1,C)},updateCanvasTexture:function(T,S,C){C===void 0&&(C=!1);var P=this.gl,A=T.width,M=T.height;return A>0&&M>0&&(this.setTexture2D(S,0),P.pixelStorei(P.UNPACK_FLIP_Y_WEBGL,C),P.texImage2D(P.TEXTURE_2D,0,P.RGBA,P.RGBA,P.UNSIGNED_BYTE,T),S.width=A,S.height=M,this.setTexture2D(null,0)),S},createVideoTexture:function(T,S,C){S===void 0&&(S=!1),C===void 0&&(C=!1);var P=this.gl,A=P.NEAREST,M=P.NEAREST,O=T.videoWidth,I=T.videoHeight,B=P.CLAMP_TO_EDGE,G=n(O,I);return!S&&G&&(B=P.REPEAT),this.config.antialias&&(A=G?this.mipmapFilter:P.LINEAR,M=P.LINEAR),this.createTexture2D(0,A,M,B,B,P.RGBA,T,O,I,!0,!0,C)},updateVideoTexture:function(T,S,C){C===void 0&&(C=!1);var P=this.gl,A=T.videoWidth,M=T.videoHeight;return A>0&&M>0&&(this.setTexture2D(S,0),P.pixelStorei(P.UNPACK_FLIP_Y_WEBGL,C),P.texImage2D(P.TEXTURE_2D,0,P.RGBA,P.RGBA,P.UNSIGNED_BYTE,T),S.width=A,S.height=M,this.setTexture2D(null,0)),S},setTextureFilter:function(T,S){var C=this.gl,P=[C.LINEAR,C.NEAREST][S];return this.setTexture2D(T,0),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MIN_FILTER,P),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MAG_FILTER,P),this.setTexture2D(null,0),this},setFloat1:function(T,S,C){return this.setProgram(T),this.gl.uniform1f(this.gl.getUniformLocation(T,S),C),this},setFloat2:function(T,S,C,P){return this.setProgram(T),this.gl.uniform2f(this.gl.getUniformLocation(T,S),C,P),this},setFloat3:function(T,S,C,P,A){return this.setProgram(T),this.gl.uniform3f(this.gl.getUniformLocation(T,S),C,P,A),this},setFloat4:function(T,S,C,P,A,M){return this.setProgram(T),this.gl.uniform4f(this.gl.getUniformLocation(T,S),C,P,A,M),this},setFloat1v:function(T,S,C){return this.setProgram(T),this.gl.uniform1fv(this.gl.getUniformLocation(T,S),C),this},setFloat2v:function(T,S,C){return this.setProgram(T),this.gl.uniform2fv(this.gl.getUniformLocation(T,S),C),this},setFloat3v:function(T,S,C){return this.setProgram(T),this.gl.uniform3fv(this.gl.getUniformLocation(T,S),C),this},setFloat4v:function(T,S,C){return this.setProgram(T),this.gl.uniform4fv(this.gl.getUniformLocation(T,S),C),this},setInt1:function(T,S,C){return this.setProgram(T),this.gl.uniform1i(this.gl.getUniformLocation(T,S),C),this},setInt2:function(T,S,C,P){return this.setProgram(T),this.gl.uniform2i(this.gl.getUniformLocation(T,S),C,P),this},setInt3:function(T,S,C,P,A){return this.setProgram(T),this.gl.uniform3i(this.gl.getUniformLocation(T,S),C,P,A),this},setInt4:function(T,S,C,P,A,M){return this.setProgram(T),this.gl.uniform4i(this.gl.getUniformLocation(T,S),C,P,A,M),this},setMatrix2:function(T,S,C,P){return this.setProgram(T),this.gl.uniformMatrix2fv(this.gl.getUniformLocation(T,S),C,P),this},setMatrix3:function(T,S,C,P){return this.setProgram(T),this.gl.uniformMatrix3fv(this.gl.getUniformLocation(T,S),C,P),this},setMatrix4:function(T,S,C,P){return this.setProgram(T),this.gl.uniformMatrix4fv(this.gl.getUniformLocation(T,S),C,P),this},getMaxTextures:function(){return this.config.maxTextures},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){for(var T=0;T<this.nativeTextures.length;T++)this.gl.deleteTexture(this.nativeTextures[T]);this.nativeTextures=[];for(var S in this.pipelines)this.pipelines[S].destroy(),delete this.pipelines[S];this.defaultCamera.destroy(),this.currentMask=null,this.currentCameraMask=null,this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1),this.game=null,this.gl=null,this.canvas=null,this.maskStack=[],this.contextLost=!0,this.extensions={}}});c.exports=y},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(26),f=t(31),h=t(2),i=function(r,n){var e=r.getContext("experimental-webgl"),l=h(n,"callback"),a=h(n,"type","image/png"),o=h(n,"encoder",.92),u=h(n,"x",0),v=h(n,"y",0),d=h(n,"getPixel",!1),p=h(n,"isFramebuffer",!1),x=p?h(n,"bufferWidth",1):e.drawingBufferWidth,g=p?h(n,"bufferHeight",1):e.drawingBufferHeight;if(d){var m=new Uint8Array(4),y=p?v:g-v;e.readPixels(u,y,1,1,e.RGBA,e.UNSIGNED_BYTE,m),l.call(null,new f(m[0],m[1],m[2],m[3]/255))}else{var T=h(n,"width",x),S=h(n,"height",g),C=T*S*4,P=new Uint8Array(C);e.readPixels(u,g-v-S,T,S,e.RGBA,e.UNSIGNED_BYTE,P);for(var A=s.createWebGL(this,T,S),M=A.getContext("2d"),O=M.getImageData(0,0,T,S),I=O.data,B=0;B<S;B++)for(var G=0;G<T;G++){var z=((S-B)*T+G)*4,N=p?C-(B*T+(T-G))*4:(B*T+G)*4;I[N+0]=P[z+0],I[N+1]=P[z+1],I[N+2]=P[z+2],I[N+3]=P[z+3]}M.putImageData(O,0,0);var L=new Image;L.onerror=function(){l.call(null),s.remove(A)},L.onload=function(){l.call(null,L),s.remove(A)},L.src=A.toDataURL(a,o)}};c.exports=i},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(786),h=t(787),i=t(147),r=new s({Extends:i,initialize:function(e){i.call(this,{game:e.game,renderer:e.renderer,gl:e.renderer.gl,topology:e.topology?e.topology:e.renderer.gl.TRIANGLES,vertShader:e.vertShader?e.vertShader:h,fragShader:e.fragShader?e.fragShader:f,vertexCapacity:e.vertexCapacity?e.vertexCapacity:3,vertexSize:e.vertexSize?e.vertexSize:Float32Array.BYTES_PER_ELEMENT*2,vertices:new Float32Array([-1,1,-1,-7,7,1]).buffer,attributes:[{name:"inPosition",size:2,type:e.renderer.gl.FLOAT,normalized:!1,offset:0}]}),this.vertexViewF32=new Float32Array(this.vertexData),this.maxQuads=1,this.resolutionDirty=!0},onBind:function(){i.prototype.onBind.call(this);var n=this.renderer,e=this.program;return this.resolutionDirty&&(n.setFloat2(e,"uResolution",this.width,this.height),n.setInt1(e,"uMainSampler",0),n.setInt1(e,"uMaskSampler",1),this.resolutionDirty=!1),this},resize:function(n,e,l){return i.prototype.resize.call(this,n,e,l),this.resolutionDirty=!0,this},beginMask:function(n,e,l){var a=this.renderer,o=this.gl,u=n.bitmapMask;u&&o&&(a.flush(),n.prevFramebuffer=a.currentFramebuffer,a.setFramebuffer(n.mainFramebuffer),o.disable(o.STENCIL_TEST),o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT),a.currentCameraMask.mask!==n&&(a.currentMask.mask=n,a.currentMask.camera=l))},endMask:function(n,e){var l=this.gl,a=this.renderer,o=n.bitmapMask;if(o&&l){a.flush(),a.setFramebuffer(n.maskFramebuffer),l.clearColor(0,0,0,0),l.clear(l.COLOR_BUFFER_BIT),a.setBlendMode(0,!0),o.renderWebGL(a,o,0,e),a.flush(),a.setFramebuffer(n.prevFramebuffer);var u=a.getCurrentStencilMask();u?(l.enable(l.STENCIL_TEST),u.mask.applyStencil(a,u.camera,!0)):a.currentMask.mask=null,a.setPipeline(this),l.activeTexture(l.TEXTURE1),l.bindTexture(l.TEXTURE_2D,n.maskTexture),l.activeTexture(l.TEXTURE0),l.bindTexture(l.TEXTURE_2D,n.mainTexture),l.uniform1i(l.getUniformLocation(this.program,"uInvertMaskAlpha"),n.invertAlpha),l.drawArrays(this.topology,0,3)}}});c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(788),h=t(237),i=10,r=new s({Extends:h,initialize:function(e){i=e.maxLights,e.fragShader=f.replace("%LIGHT_COUNT%",i.toString()),h.call(this,e),this.defaultNormalMap,this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1])},boot:function(){this.defaultNormalMap=this.game.textures.getFrame("__DEFAULT")},onBind:function(n){h.prototype.onBind.call(this);var e=this.renderer,l=this.program;return this.mvpUpdate(),e.setInt1(l,"uNormSampler",1),e.setFloat2(l,"uResolution",this.width,this.height),n&&this.setNormalMap(n),this},onRender:function(n,e){this.active=!1;var l=n.sys.lights;if(!l||l.lights.length<=0||!l.active)return this;var a=l.cull(e),o=Math.min(a.length,i);if(o===0)return this;this.active=!0;var u=this.renderer,v=this.program,d=e.matrix,p={x:0,y:0},x=u.height,g;for(g=0;g<i;++g)u.setFloat1(v,"uLights["+g+"].radius",0);for(u.setFloat4(v,"uCamera",e.x,e.y,e.rotation,e.zoom),u.setFloat3(v,"uAmbientLightColor",l.ambientColor.r,l.ambientColor.g,l.ambientColor.b),g=0;g<o;++g){var m=a[g],y="uLights["+g+"].";d.transformPoint(m.x,m.y,p),u.setFloat2(v,y+"position",p.x-e.scrollX*m.scrollFactorX*e.zoom,x-(p.y-e.scrollY*m.scrollFactorY*e.zoom)),u.setFloat3(v,y+"color",m.r,m.g,m.b),u.setFloat1(v,y+"intensity",m.intensity),u.setFloat1(v,y+"radius",m.radius)}return this.currentNormalMapRotation=null,this},batchTexture:function(n,e,l,a,o,u,v,d,p,x,g,m,y,T,S,C,P,A,M,O,I,B,G,z,N,L,R,F,Y,D){if(this.active){this.renderer.setPipeline(this);var X;if(n.displayTexture?X=n.displayTexture.dataSource[n.displayFrame.sourceIndex]:n.texture?X=n.texture.dataSource[n.frame.sourceIndex]:n.tileset&&(Array.isArray(n.tileset)?X=n.tileset[0].image.dataSource[0]:X=n.tileset.image.dataSource[0]),!X){console.warn("Normal map missing or invalid");return}this.setTexture2D(X.glTexture,1),this.setNormalMapRotation(g);var U=this._tempMatrix1,V=this._tempMatrix2,w=this._tempMatrix3,W=A/l+R,H=M/a+F,K=(A+O)/l+R,J=(M+I)/a+F,Z=v,q=d,k=-C,j=-P;if(n.isCropped){var b=n._crop;Z=b.width,q=b.height,v=b.width,d=b.height,A=b.x,M=b.y;var _=A,it=M;m&&(_=O-b.x-b.width),y&&!e.isRenderTexture&&(it=I-b.y-b.height),W=_/l+R,H=it/a+F,K=(_+b.width)/l+R,J=(it+b.height)/a+F,k=-C+A,j=-P+M}y=y^(e.isRenderTexture?1:0),m&&(Z*=-1,k+=v),y&&(q*=-1,j+=d);var Q=k+Z,et=j+q;V.applyITRS(o,u,g,p,x),U.copyFrom(Y.matrix),D?(U.multiplyWithOffset(D,-Y.scrollX*T,-Y.scrollY*S),V.e=o,V.f=u,U.multiply(V,w)):(V.e-=Y.scrollX*T,V.f-=Y.scrollY*S,U.multiply(V,w));var $=w.getX(k,j),tt=w.getY(k,j),at=w.getX(k,et),st=w.getY(k,et),nt=w.getX(Q,et),rt=w.getY(Q,et),ot=w.getX(Q,j),ht=w.getY(Q,j);Y.roundPixels&&($=Math.round($),tt=Math.round(tt),at=Math.round(at),st=Math.round(st),nt=Math.round(nt),rt=Math.round(rt),ot=Math.round(ot),ht=Math.round(ht)),this.setTexture2D(e,0),this.batchQuad($,tt,at,st,nt,rt,ot,ht,W,H,K,J,B,G,z,N,L,e,0)}},setNormalMap:function(n){if(!(!this.active||!n)){var e;n.texture&&(e=n.texture.dataSource[n.frame.sourceIndex]),e||(e=this.defaultNormalMap),this.setTexture2D(e.glTexture,1),this.renderer.setPipeline(n.defaultPipeline)}},setNormalMapRotation:function(n){if(n!==this.currentNormalMapRotation||this.batches.length===0){this.batches.length>0&&this.flush();var e=this.inverseRotationMatrix;if(n){var l=-n,a=Math.cos(l),o=Math.sin(l);e[1]=o,e[3]=-o,e[0]=e[4]=a}else e[0]=e[4]=1,e[1]=e[3]=0;this.renderer.setMatrix3(this.program,"uInverseRotationMatrix",!1,e),this.currentNormalMapRotation=n}},batchSprite:function(n,e,l){if(this.active){var a=n.texture.dataSource[n.frame.sourceIndex];a&&(this.renderer.setPipeline(this),this.setTexture2D(a.glTexture,1),this.setNormalMapRotation(n.rotation),h.prototype.batchSprite.call(this,n,e,l))}}});r.LIGHT_COUNT=i,c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(2),h=t(238),i=t(340),r=t(341),n=t(29),e=t(147),l=new s({Extends:e,Mixins:[h],initialize:function(o){var u=o.renderer.config;e.call(this,{game:o.game,renderer:o.renderer,gl:o.renderer.gl,topology:o.renderer.gl.TRIANGLE_STRIP,vertShader:f(o,"vertShader",r),fragShader:f(o,"fragShader",i),vertexCapacity:f(o,"vertexCapacity",6*u.batchSize),vertexSize:f(o,"vertexSize",Float32Array.BYTES_PER_ELEMENT*5+Uint8Array.BYTES_PER_ELEMENT*4),attributes:[{name:"inPosition",size:2,type:o.renderer.gl.FLOAT,normalized:!1,offset:0},{name:"inTexCoord",size:2,type:o.renderer.gl.FLOAT,normalized:!1,offset:Float32Array.BYTES_PER_ELEMENT*2},{name:"inTintEffect",size:1,type:o.renderer.gl.FLOAT,normalized:!1,offset:Float32Array.BYTES_PER_ELEMENT*4},{name:"inTint",size:4,type:o.renderer.gl.UNSIGNED_BYTE,normalized:!0,offset:Float32Array.BYTES_PER_ELEMENT*5}]}),this.vertexViewF32=new Float32Array(this.vertexData),this.vertexViewU32=new Uint32Array(this.vertexData),this.maxQuads=u.batchSize,this.batches=[],this._tempMatrix1=new n,this._tempMatrix2=new n,this._tempMatrix3=new n,this.mvpInit()},onBind:function(){return e.prototype.onBind.call(this),this.mvpUpdate(),this},resize:function(a,o,u){return e.prototype.resize.call(this,a,o,u),this.projOrtho(0,this.width,this.height,0,-1e3,1e3),this},setTexture2D:function(a,o){return a===void 0&&(a=this.renderer.blankTexture.glTexture),o===void 0&&(o=0),this.requireTextureBatch(a,o)&&this.pushBatch(a,o),this},requireTextureBatch:function(a,o){var u=this.batches,v=u.length;if(v>0){var d=o>0?u[v-1].textures[o-1]:u[v-1].texture;return d!==a}return!0},pushBatch:function(a,o){if(o===0)this.batches.push({first:this.vertexCount,texture:a,textures:[]});else{var u=[];u[o-1]=a,this.batches.push({first:this.vertexCount,texture:null,textures:u})}},flush:function(){if(this.flushLocked)return this;this.flushLocked=!0;var a=this.gl,o=this.vertexCount,u=this.topology,v=this.vertexSize,d=this.renderer,p=this.batches,x=p.length,g=0,m=null,y,T,S;if(x===0||o===0)return this.flushLocked=!1,this;a.bufferSubData(a.ARRAY_BUFFER,0,this.bytes.subarray(0,o*v));for(var C=0;C<x-1;C++){if(m=p[C],y=p[C+1],m.textures.length>0){for(T=0;T<m.textures.length;++T)S=m.textures[T],S&&d.setTexture2D(S,1+T,!1);a.activeTexture(a.TEXTURE0)}g=y.first-m.first,!(m.texture===null||g<=0)&&(d.setTexture2D(m.texture,0,!1),a.drawArrays(u,m.first,g))}if(m=p[x-1],m.textures.length>0){for(T=0;T<m.textures.length;++T)S=m.textures[T],S&&d.setTexture2D(S,1+T,!1);a.activeTexture(a.TEXTURE0)}return g=o-m.first,m.texture&&g>0&&(d.setTexture2D(m.texture,0,!1),a.drawArrays(u,m.first,g)),this.vertexCount=0,p.length=0,this.flushLocked=!1,this}});c.exports=l},function(c,E,t){var s={};c.exports=s;var f=t(99),h=t(42);(function(){s.fromVertices=function(i){for(var r={},n=0;n<i.length;n++){var e=(n+1)%i.length,l=f.normalise({x:i[e].y-i[n].y,y:i[n].x-i[e].x}),a=l.y===0?1/0:l.x/l.y;a=a.toFixed(3).toString(),r[a]=l}return h.values(r)},s.rotate=function(i,r){if(r!==0)for(var n=Math.cos(r),e=Math.sin(r),l=0;l<i.length;l++){var a=i[l],o;o=a.x*n-a.y*e,a.y=a.x*e+a.y*n,a.x=o}}})()},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Bounce:t(1397),Collision:t(1398),Force:t(1399),Friction:t(1400),Gravity:t(1401),Mass:t(1402),Static:t(1403),Sensor:t(1404),SetBody:t(1405),Sleep:t(1406),Transform:t(1423),Velocity:t(1424)}},function(c,E,t){var s={};c.exports=s;var f=t(516),h=t(473),i=t(100);(function(){s.collisions=function(r,n){for(var e=[],l=n.pairs.table,a=n.metrics,o=0;o<r.length;o++){var u=r[o][0],v=r[o][1];if(!((u.isStatic||u.isSleeping)&&(v.isStatic||v.isSleeping))&&s.canCollide(u.collisionFilter,v.collisionFilter)&&(a.midphaseTests+=1,i.overlaps(u.bounds,v.bounds)))for(var d=u.parts.length>1?1:0;d<u.parts.length;d++)for(var p=u.parts[d],x=v.parts.length>1?1:0;x<v.parts.length;x++){var g=v.parts[x];if(p===u&&g===v||i.overlaps(p.bounds,g.bounds)){var m=h.id(p,g),y=l[m],T;y&&y.isActive?T=y.collision:T=null;var S=f.collides(p,g,T);a.narrowphaseTests+=1,S.reused&&(a.narrowReuseCount+=1),S.collided&&(e.push(S),a.narrowDetections+=1)}}}return e},s.canCollide=function(r,n){return r.group===n.group&&r.group!==0?r.group>0:(r.mask&n.category)!==0&&(n.mask&r.category)!==0}})()},function(c,E,t){var s={};c.exports=s;var f=t(86),h=t(99);(function(){s.collides=function(i,r,n){var e,l,a,o,u=!1;if(n){var v=i.parent,d=r.parent,p=v.speed*v.speed+v.angularSpeed*v.angularSpeed+d.speed*d.speed+d.angularSpeed*d.angularSpeed;u=n&&n.collided&&p<.2,o=n}else o={collided:!1,bodyA:i,bodyB:r};if(n&&u){var x=o.axisBody,g=x===i?r:i,m=[x.axes[n.axisNumber]];if(a=s._overlapAxes(x.vertices,g.vertices,m),o.reused=!0,a.overlap<=0)return o.collided=!1,o}else{if(e=s._overlapAxes(i.vertices,r.vertices,i.axes),e.overlap<=0||(l=s._overlapAxes(r.vertices,i.vertices,r.axes),l.overlap<=0))return o.collided=!1,o;e.overlap<l.overlap?(a=e,o.axisBody=i):(a=l,o.axisBody=r),o.axisNumber=a.axisNumber}o.bodyA=i.id<r.id?i:r,o.bodyB=i.id<r.id?r:i,o.collided=!0,o.depth=a.overlap,o.parentA=o.bodyA.parent,o.parentB=o.bodyB.parent,i=o.bodyA,r=o.bodyB,h.dot(a.axis,h.sub(r.position,i.position))<0?o.normal={x:a.axis.x,y:a.axis.y}:o.normal={x:-a.axis.x,y:-a.axis.y},o.tangent=h.perp(o.normal),o.penetration=o.penetration||{},o.penetration.x=o.normal.x*o.depth,o.penetration.y=o.normal.y*o.depth;var y=s._findSupports(i,r,o.normal),T=[];if(f.contains(i.vertices,y[0])&&T.push(y[0]),f.contains(i.vertices,y[1])&&T.push(y[1]),T.length<2){var S=s._findSupports(r,i,h.neg(o.normal));f.contains(r.vertices,S[0])&&T.push(S[0]),T.length<2&&f.contains(r.vertices,S[1])&&T.push(S[1])}return T.length<1&&(T=[y[0]]),o.supports=T,o},s._overlapAxes=function(i,r,n){for(var e=h._temp[0],l=h._temp[1],a={overlap:Number.MAX_VALUE},o,u,v=0;v<n.length;v++){if(u=n[v],s._projectToAxis(e,i,u),s._projectToAxis(l,r,u),o=Math.min(e.max-l.min,l.max-e.min),o<=0)return a.overlap=o,a;o<a.overlap&&(a.overlap=o,a.axis=u,a.axisNumber=v)}return a},s._projectToAxis=function(i,r,n){for(var e=h.dot(r[0],n),l=e,a=1;a<r.length;a+=1){var o=h.dot(r[a],n);o>l?l=o:o<e&&(e=o)}i.min=e,i.max=l},s._findSupports=function(i,r,n){for(var e=Number.MAX_VALUE,l=h._temp[0],a=r.vertices,o=i.position,u,v,d,p,x=0;x<a.length;x++)v=a[x],l.x=v.x-o.x,l.y=v.y-o.y,u=-h.dot(n,l),u<e&&(e=u,d=v);var g=d.index-1>=0?d.index-1:a.length-1;v=a[g],l.x=v.x-o.x,l.y=v.y-o.y,e=-h.dot(n,l),p=v;var m=(d.index+1)%a.length;return v=a[m],l.x=v.x-o.x,l.y=v.y-o.y,u=-h.dot(n,l),u<e&&(p=v),[d,p]}})()},function(c,E){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch{typeof window=="object"&&(t=window)}c.exports=t},function(c,E,t){t(519),t(520),t(521),t(522),t(523),t(524),t(525),t(526)},function(c,E){Array.prototype.forEach||(Array.prototype.forEach=function(t){if(this===void 0||this===null)throw new TypeError;var s=Object(this),f=s.length>>>0;if(typeof t!="function")throw new TypeError;for(var h=arguments.length>=2?arguments[1]:void 0,i=0;i<f;i++)i in s&&t.call(h,s[i],i,s)})},function(c,E){Array.isArray||(Array.isArray=function(t){return Object.prototype.toString.call(t)==="[object Array]"})},function(c,E){(function(){function t(s){s&&(s.setTargetAtTime||(s.setTargetAtTime=s.setTargetValueAtTime))}window.hasOwnProperty("webkitAudioContext")&&!window.hasOwnProperty("AudioContext")&&(window.AudioContext=webkitAudioContext,AudioContext.prototype.hasOwnProperty("createGain")||(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),AudioContext.prototype.hasOwnProperty("createDelay")||(AudioContext.prototype.createDelay=AudioContext.prototype.createDelayNode),AudioContext.prototype.hasOwnProperty("createScriptProcessor")||(AudioContext.prototype.createScriptProcessor=AudioContext.prototype.createJavaScriptNode),AudioContext.prototype.hasOwnProperty("createPeriodicWave")||(AudioContext.prototype.createPeriodicWave=AudioContext.prototype.createWaveTable),AudioContext.prototype.internal_createGain=AudioContext.prototype.createGain,AudioContext.prototype.createGain=function(){var s=this.internal_createGain();return t(s.gain),s},AudioContext.prototype.internal_createDelay=AudioContext.prototype.createDelay,AudioContext.prototype.createDelay=function(s){var f=s?this.internal_createDelay(s):this.internal_createDelay();return t(f.delayTime),f},AudioContext.prototype.internal_createBufferSource=AudioContext.prototype.createBufferSource,AudioContext.prototype.createBufferSource=function(){var s=this.internal_createBufferSource();return s.start?(s.internal_start=s.start,s.start=function(f,h,i){typeof i<"u"?s.internal_start(f||0,h,i):s.internal_start(f||0,h||0)}):s.start=function(f,h,i){h||i?this.noteGrainOn(f||0,h,i):this.noteOn(f||0)},s.stop?(s.internal_stop=s.stop,s.stop=function(f){s.internal_stop(f||0)}):s.stop=function(f){this.noteOff(f||0)},t(s.playbackRate),s},AudioContext.prototype.internal_createDynamicsCompressor=AudioContext.prototype.createDynamicsCompressor,AudioContext.prototype.createDynamicsCompressor=function(){var s=this.internal_createDynamicsCompressor();return t(s.threshold),t(s.knee),t(s.ratio),t(s.reduction),t(s.attack),t(s.release),s},AudioContext.prototype.internal_createBiquadFilter=AudioContext.prototype.createBiquadFilter,AudioContext.prototype.createBiquadFilter=function(){var s=this.internal_createBiquadFilter();return t(s.frequency),t(s.detune),t(s.Q),t(s.gain),s},AudioContext.prototype.hasOwnProperty("createOscillator")&&(AudioContext.prototype.internal_createOscillator=AudioContext.prototype.createOscillator,AudioContext.prototype.createOscillator=function(){var s=this.internal_createOscillator();return s.start?(s.internal_start=s.start,s.start=function(f){s.internal_start(f||0)}):s.start=function(f){this.noteOn(f||0)},s.stop?(s.internal_stop=s.stop,s.stop=function(f){s.internal_stop(f||0)}):s.stop=function(f){this.noteOff(f||0)},s.setPeriodicWave||(s.setPeriodicWave=s.setWaveTable),t(s.frequency),t(s.detune),s})),window.hasOwnProperty("webkitOfflineAudioContext")&&!window.hasOwnProperty("OfflineAudioContext")&&(window.OfflineAudioContext=webkitOfflineAudioContext)})()},function(c,E){window.console||(window.console={},window.console.log=window.console.assert=function(){},window.console.warn=window.console.assert=function(){})},function(c,E){Math.trunc||(Math.trunc=function(s){return s<0?Math.ceil(s):Math.floor(s)})},function(c,E){(function(){if("performance"in window||(window.performance={}),Date.now=Date.now||function(){return new Date().getTime()},!("now"in window.performance)){var t=Date.now();performance.timing&&performance.timing.navigationStart&&(t=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-t}}})()},function(c,E){for(var t=Date.now(),s=["ms","moz","webkit","o"],f=0;f<s.length&&!window.requestAnimationFrame;f++)window.requestAnimationFrame=window[s[f]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[s[f]+"CancelAnimationFrame"]||window[s[f]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(h){if(typeof h!="function")throw new TypeError(h+"is not a function");var i=Date.now(),r=16+t-i;return r<0&&(r=0),t=i,setTimeout(function(){t=Date.now(),h(performance.now())},r)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(h){clearTimeout(h)})},function(c,E){if(typeof window.Uint32Array!="function"&&typeof window.Uint32Array!="object"){var t=function(s){var f=new Array;window[s]=function(h){if(typeof h=="number"){Array.call(this,h),this.length=h;for(var i=0;i<this.length;i++)this[i]=0}else{Array.call(this,h.length),this.length=h.length;for(var i=0;i<this.length;i++)this[i]=h[i]}},window[s].prototype=f,window[s].constructor=window[s]};t("Float32Array"),t("Uint32Array"),t("Uint16Array"),t("Int16Array"),t("ArrayBuffer")}},function(c,E,t){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(242),f=function(h,i,r,n){for(var e=h[0],l=1;l<h.length;l++){var a=h[l];s(a,e,i,r,n),e=a}return h};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(38),f=function(h,i,r,n,e){return s(h,"angle",i,r,n,e)};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){for(var i=0;i<s.length;i++){var r=s[i];f.call(h,r)}return s};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){h===void 0&&(h=0);for(var i=h;i<s.length;i++){var r=s[i],n=!0;for(var e in f)r[e]!==f[e]&&(n=!1);if(n)return r}return null};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){h===void 0&&(h=0);for(var i=h;i<s.length;i++){var r=s[i],n=!0;for(var e in f)r[e]!==f[e]&&(n=!1);if(n)return r}return null};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(255),f=t(105),h=t(2),i=t(1),r=t(110),n=new r({sys:{queueDepthSort:i,events:{once:i}}},0,0,1,1),e=function(l,a){a===void 0&&(a={});var o=a.hasOwnProperty("width"),u=a.hasOwnProperty("height"),v=h(a,"width",-1),d=h(a,"height",-1),p=h(a,"cellWidth",1),x=h(a,"cellHeight",p),g=h(a,"position",f.TOP_LEFT),m=h(a,"x",0),y=h(a,"y",0),T=0,S=0,C=v*p,P=d*x;n.setPosition(m,y),n.setSize(p,x);for(var A=0;A<l.length;A++)if(s(l[A],n,g),o&&v===-1)n.x+=p;else if(u&&d===-1)n.y+=x;else if(T+=p,n.x+=p,T===C&&(T=0,S+=x,n.x=m,n.y+=x,S===P))break;return l};c.exports=e},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(19),f=2,h={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(i,r,n,e){return i===void 0&&(i=1),r===void 0?this.alpha=i:(this._alphaTL=s(i,0,1),this._alphaTR=s(r,0,1),this._alphaBL=s(n,0,1),this._alphaBR=s(e,0,1)),this},alpha:{get:function(){return this._alpha},set:function(i){var r=s(i,0,1);this._alpha=r,this._alphaTL=r,this._alphaTR=r,this._alphaBL=r,this._alphaBR=r,r===0?this.renderFlags&=~f:this.renderFlags|=f}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(i){var r=s(i,0,1);this._alphaTL=r,r!==0&&(this.renderFlags|=f)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(i){var r=s(i,0,1);this._alphaTR=r,r!==0&&(this.renderFlags|=f)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(i){var r=s(i,0,1);this._alphaBL=r,r!==0&&(this.renderFlags|=f)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(i){var r=s(i,0,1);this._alphaBR=r,r!==0&&(this.renderFlags|=f)}}};c.exports=h},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="add"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="repeat"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="restart"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="start"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pauseall"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="remove"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resumeall"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationcomplete"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationcomplete-"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationrepeat-"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationrestart-"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationstart-"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationupdate-"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationrepeat"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationrestart"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationstart"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="animationupdate"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(s){this.scaleX=s/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(s){this.scaleY=s/this.height}},setSize:function(s,f){return this.width=s,this.height=f,this},setDisplaySize:function(s,f){return this.displayWidth=s,this.displayHeight=f,this}};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={texture:null,frame:null,isCropped:!1,setCrop:function(s,f,h,i){if(s===void 0)this.isCropped=!1;else if(this.frame){if(typeof s=="number")this.frame.setCropUVs(this._crop,s,f,h,i,this.flipX,this.flipY);else{var r=s;this.frame.setCropUVs(this._crop,r.x,r.y,r.width,r.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(s){return this.flipX=s,this},setFlipY:function(s){return this.flipY=s,this},setFlip:function(s,f){return this.flipX=s,this.flipY=f,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(11),f=t(276),h=t(3),i={prepareBoundsOutput:function(r,n){if(n===void 0&&(n=!1),this.rotation!==0&&f(r,this.x,this.y,this.rotation),n&&this.parentContainer){var e=this.parentContainer.getBoundsTransformMatrix();e.transformPoint(r.x,r.y,r)}return r},getCenter:function(r){return r===void 0&&(r=new h),r.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,r},getTopLeft:function(r,n){return r||(r=new h),r.x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,n)},getTopCenter:function(r,n){return r||(r=new h),r.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,n)},getTopRight:function(r,n){return r||(r=new h),r.x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,n)},getLeftCenter:function(r,n){return r||(r=new h),r.x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(r,n)},getRightCenter:function(r,n){return r||(r=new h),r.x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(r,n)},getBottomLeft:function(r,n){return r||(r=new h),r.x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,n)},getBottomCenter:function(r,n){return r||(r=new h),r.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,n)},getBottomRight:function(r,n){return r||(r=new h),r.x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,n)},getBounds:function(r){r===void 0&&(r=new s);var n,e,l,a,o,u,v,d;if(this.parentContainer){var p=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(r),p.transformPoint(r.x,r.y,r),n=r.x,e=r.y,this.getTopRight(r),p.transformPoint(r.x,r.y,r),l=r.x,a=r.y,this.getBottomLeft(r),p.transformPoint(r.x,r.y,r),o=r.x,u=r.y,this.getBottomRight(r),p.transformPoint(r.x,r.y,r),v=r.x,d=r.y}else this.getTopLeft(r),n=r.x,e=r.y,this.getTopRight(r),l=r.x,a=r.y,this.getBottomLeft(r),o=r.x,u=r.y,this.getBottomRight(r),v=r.x,d=r.y;return r.x=Math.min(n,l,o,v),r.y=Math.min(e,a,u,d),r.width=Math.max(n,l,o,v)-r.x,r.height=Math.max(e,a,u,d)-r.y,r}};c.exports=i},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="blur"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="boot"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="contextlost"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="contextrestored"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="destroy"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="focus"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="hidden"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="postrender"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="poststep"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="prerender"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="prestep"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="ready"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="step"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="visible"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(s){this._displayOriginX=s,this.originX=s/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(s){this._displayOriginY=s,this.originY=s/this.height}},setOrigin:function(s,f){return s===void 0&&(s=.5),f===void 0&&(f=s),this.originX=s,this.originY=f,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(s,f){return s===void 0&&(s=0),f===void 0&&(f=s),this.displayOriginX=s,this.displayOriginY=f,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(39),f=t(88),h=t(6),i=t(89),r=t(3),n={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:i.PLAYING_FORWARD,setPath:function(e,l){l===void 0&&(l=this.pathConfig);var a=this.pathTween;return a&&a.isPlaying()&&a.stop(),this.path=e,l&&this.startFollow(l),this},setRotateToPath:function(e,l){return l===void 0&&(l=0),this.rotateToPath=e,this.pathRotationOffset=l,this},isFollowing:function(){var e=this.pathTween;return e&&e.isPlaying()},startFollow:function(e,l){e===void 0&&(e={}),l===void 0&&(l=0);var a=this.pathTween;a&&a.isPlaying()&&a.stop(),typeof e=="number"&&(e={duration:e}),e.from=h(e,"from",0),e.to=h(e,"to",1);var o=f(e,"positionOnPath",!1);this.rotateToPath=f(e,"rotateToPath",!1),this.pathRotationOffset=h(e,"rotationOffset",0);var u=h(e,"startAt",l);if(u&&(e.onStart=function(d){var p=d.data[0];p.progress=u,p.elapsed=p.duration*u;var x=p.ease(p.progress);p.current=p.start+(p.end-p.start)*x,p.target[p.key]=p.current}),this.pathOffset||(this.pathOffset=new r(this.x,this.y)),this.pathVector||(this.pathVector=new r),this.pathDelta||(this.pathDelta=new r),this.pathDelta.reset(),this.pathTween=this.scene.sys.tweens.addCounter(e),this.path.getStartPoint(this.pathOffset),o&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=i.PLAYING_FORWARD,this.rotateToPath){var v=this.path.getPoint(.1);this.rotation=Math.atan2(v.y-this.y,v.x-this.x)+s(this.pathRotationOffset)}return this.pathConfig=e,this},pauseFollow:function(){var e=this.pathTween;return e&&e.isPlaying()&&e.pause(),this},resumeFollow:function(){var e=this.pathTween;return e&&e.isPaused()&&e.resume(),this},stopFollow:function(){var e=this.pathTween;return e&&e.isPlaying()&&e.stop(),this},pathUpdate:function(){var e=this.pathTween;if(e){var l=e.data[0],a=this.pathDelta,o=this.pathVector;if(a.copy(o).negate(),l.state===i.COMPLETE){this.path.getPoint(1,o),a.add(o),o.add(this.pathOffset),this.setPosition(o.x,o.y);return}else if(l.state!==i.PLAYING_FORWARD&&l.state!==i.PLAYING_BACKWARD)return;this.path.getPoint(e.getValue(),o),a.add(o),o.add(this.pathOffset);var u=this.x,v=this.y;this.setPosition(o.x,o.y);var d=this.x-u,p=this.y-v;if(d===0&&p===0)return;if(l.state!==this._prevDirection){this._prevDirection=l.state;return}this.rotateToPath&&(this.rotation=Math.atan2(p,d)+s(this.pathRotationOffset))}}};c.exports=n},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(s){this.scaleX=s/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(s){this.scaleY=s/this.frame.realHeight}},setSizeToFrame:function(s){return s===void 0&&(s=this.frame),this.width=s.realWidth,this.height=s.realHeight,this},setSize:function(s,f){return this.width=s,this.height=f,this},setDisplaySize:function(s,f){return this.displayWidth=s,this.displayHeight=f,this}};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=8,s={texture:null,frame:null,isCropped:!1,setTexture:function(f,h){return this.texture=this.scene.sys.textures.get(f),this.setFrame(h)},setFrame:function(f,h,i){return h===void 0&&(h=!0),i===void 0&&(i=!0),this.frame=this.texture.get(f),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~t:this.renderFlags|=t,this._sizeComponent&&h&&this.setSizeToFrame(),this._originComponent&&i&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};c.exports=s},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=8,s={texture:null,frame:null,isCropped:!1,setCrop:function(f,h,i,r){if(f===void 0)this.isCropped=!1;else if(this.frame){if(typeof f=="number")this.frame.setCropUVs(this._crop,f,h,i,r,this.flipX,this.flipY);else{var n=f;this.frame.setCropUVs(this._crop,n.x,n.y,n.width,n.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(f,h){return this.texture=this.scene.sys.textures.get(f),this.setFrame(h)},setFrame:function(f,h,i){return h===void 0&&(h=!0),i===void 0&&(i=!0),this.frame=this.texture.get(f),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~t:this.renderFlags|=t,this._sizeComponent&&h&&this.setSizeToFrame(),this._originComponent&&i&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};c.exports=s},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(f){return(f>>16)+(f&65280)+((f&255)<<16)},s={_tintTL:16777215,_tintTR:16777215,_tintBL:16777215,_tintBR:16777215,_isTinted:!1,tintFill:!1,clearTint:function(){return this.setTint(16777215),this._isTinted=!1,this},setTint:function(f,h,i,r){return f===void 0&&(f=16777215),h===void 0&&(h=f,i=f,r=f),this._tintTL=t(f),this._tintTR=t(h),this._tintBL=t(i),this._tintBR=t(r),this._isTinted=!0,this.tintFill=!1,this},setTintFill:function(f,h,i,r){return this.setTint(f,h,i,r),this.tintFill=!0,this},tintTopLeft:{get:function(){return this._tintTL},set:function(f){this._tintTL=t(f),this._isTinted=!0}},tintTopRight:{get:function(){return this._tintTR},set:function(f){this._tintTR=t(f),this._isTinted=!0}},tintBottomLeft:{get:function(){return this._tintBL},set:function(f){this._tintBL=t(f),this._isTinted=!0}},tintBottomRight:{get:function(){return this._tintBR},set:function(f){this._tintBR=t(f),this._isTinted=!0}},tint:{set:function(f){this.setTint(f,f,f,f)}},isTinted:{get:function(){return this._isTinted}}};c.exports=s},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="changedata"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="changedata-"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="removedata"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="setdata"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="destroy"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="created"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="error"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="loop"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="play"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="seeked"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="seeking"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="stop"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="timeout"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="unlocked"},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(38),f=function(h,i,r,n,e){return s(h,"alpha",i,r,n,e)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(38),f=function(h,i,r,n,e){return s(h,"x",i,r,n,e)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(38),f=function(h,i,r,n,e,l,a){return r==null&&(r=i),s(h,"x",i,n,l,a),s(h,"y",r,e,l,a)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(38),f=function(h,i,r,n,e){return s(h,"y",i,r,n,e)};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i){h===void 0&&(h=0),i===void 0&&(i=6.28);for(var r=h,n=(i-h)/s.length,e=0;e<s.length;e++)s[e].x=f.x+f.radius*Math.cos(r),s[e].y=f.y+f.radius*Math.sin(r),r+=n;return s};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i){h===void 0&&(h=0),i===void 0&&(i=6.28);for(var r=h,n=(i-h)/s.length,e=f.width/2,l=f.height/2,a=0;a<s.length;a++)s[a].x=f.x+e*Math.cos(r),s[a].y=f.y+l*Math.sin(r),r+=n;return s};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(153),f=function(h,i){for(var r=s(i,h.length),n=0;n<h.length;n++){var e=h[n],l=r[n];e.x=l.x,e.y=l.y}return h};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(285),f=t(286),h=t(287),i=function(r,n,e){e===void 0&&(e=0);var l=s(n,!1,r.length);e>0?f(l,e):e<0&&h(l,Math.abs(e));for(var a=0;a<r.length;a++)r[a].x=l[a].x,r[a].y=l[a].y;return r};c.exports=i},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(288),f=function(h,i,r){var n=s({x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2},r),e=s({x1:i.x2,y1:i.y2,x2:i.x3,y2:i.y3},r),l=s({x1:i.x3,y1:i.y3,x2:i.x1,y2:i.y1},r);n.pop(),e.pop(),l.pop(),n=n.concat(e,l);for(var a=n.length/h.length,o=0,u=0;u<h.length;u++){var v=h[u],d=n[Math.floor(o)];v.x=d.x,v.y=d.y,o+=a}return h};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){for(var i=0;i<s.length;i++)s[i].anims.play(f,h);return s};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(150),f=function(h,i){for(var r=0;r<h.length;r++)s(i,h[r]);return h};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(157),f=function(h,i){for(var r=0;r<h.length;r++)s(i,h[r]);return h};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(154),f=function(h,i){for(var r=0;r<h.length;r++)s(i,h[r]);return h};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(155),f=function(h,i){for(var r=0;r<h.length;r++)s(i,h[r]);return h};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(158),f=function(h,i){for(var r=0;r<h.length;r++)s(i,h[r]);return h};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(38),f=function(h,i,r,n,e){return s(h,"rotation",i,r,n,e)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(159),f=t(53),h=function(i,r,n){for(var e=r.x,l=r.y,a=0;a<i.length;a++){var o=i[a];s(o,e,l,n,Math.max(1,f(o.x,o.y,e,l)))}return i};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(159),f=function(h,i,r,n){var e=i.x,l=i.y;if(n===0)return h;for(var a=0;a<h.length;a++)s(h[a],e,l,r,n);return h};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(38),f=function(h,i,r,n,e){return s(h,"scaleX",i,r,n,e)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(38),f=function(h,i,r,n,e,l,a){return r==null&&(r=i),s(h,"scaleX",i,n,l,a),s(h,"scaleY",r,e,l,a)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(38),f=function(h,i,r,n,e){return s(h,"scaleY",i,r,n,e)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(25),f=function(h,i,r,n,e){return s(h,"alpha",i,r,n,e)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(25),f=function(h,i,r,n){return s(h,"blendMode",i,0,r,n)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(25),f=function(h,i,r,n,e){return s(h,"depth",i,r,n,e)};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){for(var i=0;i<s.length;i++)s[i].setInteractive(f,h);return s};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(25),f=function(h,i,r,n,e,l,a){return r==null&&(r=i),s(h,"originX",i,n,l,a),s(h,"originY",r,e,l,a)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(25),f=function(h,i,r,n,e){return s(h,"rotation",i,r,n,e)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(25),f=function(h,i,r,n,e,l,a){return r==null&&(r=i),s(h,"scaleX",i,n,l,a),s(h,"scaleY",r,e,l,a)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(25),f=function(h,i,r,n,e){return s(h,"scaleX",i,r,n,e)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(25),f=function(h,i,r,n,e){return s(h,"scaleY",i,r,n,e)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(25),f=function(h,i,r,n,e,l,a){return r==null&&(r=i),s(h,"scrollFactorX",i,n,l,a),s(h,"scrollFactorY",r,e,l,a)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(25),f=function(h,i,r,n,e){return s(h,"scrollFactorX",i,r,n,e)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(25),f=function(h,i,r,n,e){return s(h,"scrollFactorY",i,r,n,e)};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i,r){for(var n=0;n<s.length;n++)s[n].setTint(f,h,i,r);return s};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(25),f=function(h,i,r,n){return s(h,"visible",i,0,r,n)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(25),f=function(h,i,r,n,e){return s(h,"x",i,r,n,e)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(25),f=function(h,i,r,n,e,l,a){return r==null&&(r=i),s(h,"x",i,n,l,a),s(h,"y",r,e,l,a)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(25),f=function(h,i,r,n,e){return s(h,"y",i,r,n,e)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(3),f=function(h,i,r,n,e){n===void 0&&(n=0),e===void 0&&(e=new s);var l,a;if(h.length>1){var o,u,v,d;if(n===0){var p=h.length-1;for(l=h[p].x,a=h[p].y,o=p-1;o>=0;o--)d=h[o],u=d.x,v=d.y,d.x=l,d.y=a,l=u,a=v;h[p].x=i,h[p].y=r}else{for(l=h[0].x,a=h[0].y,o=1;o<h.length;o++)d=h[o],u=d.x,v=d.y,d.x=l,d.y=a,l=u,a=v;h[0].x=i,h[0].y=r}}else l=h[0].x,a=h[0].y,h[0].x=i,h[0].y=r;return e.x=l,e.y=a,e};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(114),f=function(h){return s(h)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(160),f=function(h,i,r,n,e){e===void 0&&(e=!1);var l=Math.abs(n-r)/h.length,a;if(e)for(a=0;a<h.length;a++)h[a][i]+=s(a*l,r,n);else for(a=0;a<h.length;a++)h[a][i]=s(a*l,r,n);return h};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(161),f=function(h,i,r,n,e){e===void 0&&(e=!1);var l=Math.abs(n-r)/h.length,a;if(e)for(a=0;a<h.length;a++)h[a][i]+=s(a*l,r,n);else for(a=0;a<h.length;a++)h[a][i]=s(a*l,r,n);return h};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i,r){r===void 0&&(r=!1);var n=Math.abs(i-h)/s.length,e;if(r)for(e=0;e<s.length;e++)s[e][f]+=e*n+h;else for(e=0;e<s.length;e++)s[e][f]=e*n+h;return s};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){for(var f=0;f<s.length;f++)s[f].visible=!s[f].visible;return s};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(58),f=function(h,i,r){r===void 0&&(r=0);for(var n=0;n<h.length;n++){var e=h[n];e.x=s(e.x,i.left-r,i.right+r),e.y=s(e.y,i.top-r,i.bottom+r)}return h};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Animation:t(151),AnimationFrame:t(271),AnimationManager:t(289),Events:t(111)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BaseCache:t(290),CacheManager:t(292),Events:t(291)}},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="add"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="remove"},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Controls:t(643),Scene2D:t(646)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={FixedKeyControl:t(644),SmoothedKeyControl:t(645)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(6),h=new s({initialize:function(r){this.camera=f(r,"camera",null),this.left=f(r,"left",null),this.right=f(r,"right",null),this.up=f(r,"up",null),this.down=f(r,"down",null),this.zoomIn=f(r,"zoomIn",null),this.zoomOut=f(r,"zoomOut",null),this.zoomSpeed=f(r,"zoomSpeed",.01),this.speedX=0,this.speedY=0;var n=f(r,"speed",null);typeof n=="number"?(this.speedX=n,this.speedY=n):(this.speedX=f(r,"speed.x",0),this.speedY=f(r,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(i){return this.camera=i,this},update:function(i){if(this.active){i===void 0&&(i=1);var r=this.camera;this.up&&this.up.isDown?r.scrollY-=this.speedY*i|0:this.down&&this.down.isDown&&(r.scrollY+=this.speedY*i|0),this.left&&this.left.isDown?r.scrollX-=this.speedX*i|0:this.right&&this.right.isDown&&(r.scrollX+=this.speedX*i|0),this.zoomIn&&this.zoomIn.isDown?(r.zoom-=this.zoomSpeed,r.zoom<.1&&(r.zoom=.1)):this.zoomOut&&this.zoomOut.isDown&&(r.zoom+=this.zoomSpeed)}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(6),h=new s({initialize:function(r){this.camera=f(r,"camera",null),this.left=f(r,"left",null),this.right=f(r,"right",null),this.up=f(r,"up",null),this.down=f(r,"down",null),this.zoomIn=f(r,"zoomIn",null),this.zoomOut=f(r,"zoomOut",null),this.zoomSpeed=f(r,"zoomSpeed",.01),this.accelX=0,this.accelY=0;var n=f(r,"acceleration",null);typeof n=="number"?(this.accelX=n,this.accelY=n):(this.accelX=f(r,"acceleration.x",0),this.accelY=f(r,"acceleration.y",0)),this.dragX=0,this.dragY=0;var e=f(r,"drag",null);typeof e=="number"?(this.dragX=e,this.dragY=e):(this.dragX=f(r,"drag.x",0),this.dragY=f(r,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var l=f(r,"maxSpeed",null);typeof l=="number"?(this.maxSpeedX=l,this.maxSpeedY=l):(this.maxSpeedX=f(r,"maxSpeed.x",0),this.maxSpeedY=f(r,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(i){return this.camera=i,this},update:function(i){if(this.active){i===void 0&&(i=1);var r=this.camera;this._speedX>0?(this._speedX-=this.dragX*i,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*i,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*i,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*i,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(r.scrollX-=this._speedX*i|0),this._speedY!==0&&(r.scrollY-=this._speedY*i|0),this._zoom!==0&&(r.zoom+=this._zoom,r.zoom<.001&&(r.zoom=.001))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Camera:t(293),BaseCamera:t(91),CameraManager:t(702),Effects:t(301),Events:t(40)}},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="cameradestroy"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerafadeincomplete"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerafadeinstart"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerafadeoutcomplete"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerafadeoutstart"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="cameraflashcomplete"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="cameraflashstart"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerapancomplete"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerapanstart"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="postrender"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="prerender"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerarotatecomplete"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerarotatestart"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerashakecomplete"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerashakestart"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerazoomcomplete"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="camerazoomstart"},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(19),f=t(0),h=t(40),i=new f({initialize:function(n){this.camera=n,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(r,n,e,l,a,o,u,v){if(r===void 0&&(r=!0),n===void 0&&(n=1e3),e===void 0&&(e=0),l===void 0&&(l=0),a===void 0&&(a=0),o===void 0&&(o=!1),u===void 0&&(u=null),v===void 0&&(v=this.camera.scene),!o&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=n,this.direction=r,this.progress=0,this.red=e,this.green=l,this.blue=a,this.alpha=r?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=u,this._onUpdateScope=v;var d=r?h.FADE_OUT_START:h.FADE_IN_START;return this.camera.emit(d,this.camera,this,n,e,l,a),this.camera},update:function(r,n){this.isRunning&&(this._elapsed+=n,this.progress=s(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(r){if(!this.isRunning&&!this.isComplete)return!1;var n=this.camera;return r.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",r.fillRect(n._cx,n._cy,n._cw,n._ch),!0},postRenderWebGL:function(r,n){if(!this.isRunning&&!this.isComplete)return!1;var e=this.camera,l=this.red/255,a=this.blue/255,o=this.green/255;return r.drawFillRect(e._cx,e._cy,e._cw,e._ch,n(l,o,a,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var r=this.direction?h.FADE_OUT_COMPLETE:h.FADE_IN_COMPLETE;this.camera.emit(r,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});c.exports=i},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(19),f=t(0),h=t(40),i=new f({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(r,n,e,l,a,o,u){return r===void 0&&(r=250),n===void 0&&(n=255),e===void 0&&(e=255),l===void 0&&(l=255),a===void 0&&(a=!1),o===void 0&&(o=null),u===void 0&&(u=this.camera.scene),!a&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=r,this.progress=0,this.red=n,this.green=e,this.blue=l,this.alpha=1,this._elapsed=0,this._onUpdate=o,this._onUpdateScope=u,this.camera.emit(h.FLASH_START,this.camera,this,r,n,e,l),this.camera)},update:function(r,n){this.isRunning&&(this._elapsed+=n,this.progress=s(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=1-this.progress:this.effectComplete())},postRenderCanvas:function(r){if(!this.isRunning)return!1;var n=this.camera;return r.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",r.fillRect(n._cx,n._cy,n._cw,n._ch),!0},postRenderWebGL:function(r,n){if(!this.isRunning)return!1;var e=this.camera,l=this.red/255,a=this.blue/255,o=this.green/255;return r.drawFillRect(e._cx,e._cy,e._cw,e._ch,n(l,o,a,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(h.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});c.exports=i},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(19),f=t(0),h=t(115),i=t(40),r=t(3),n=new f({initialize:function(l){this.camera=l,this.isRunning=!1,this.duration=0,this.source=new r,this.current=new r,this.destination=new r,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(e,l,a,o,u,v,d){a===void 0&&(a=1e3),o===void 0&&(o=h.Linear),u===void 0&&(u=!1),v===void 0&&(v=null),d===void 0&&(d=this.camera.scene);var p=this.camera;return!u&&this.isRunning||(this.isRunning=!0,this.duration=a,this.progress=0,this.source.set(p.scrollX,p.scrollY),this.destination.set(e,l),p.getScroll(e,l,this.current),typeof o=="string"&&h.hasOwnProperty(o)?this.ease=h[o]:typeof o=="function"&&(this.ease=o),this._elapsed=0,this._onUpdate=v,this._onUpdateScope=d,this.camera.emit(i.PAN_START,this.camera,this,a,e,l)),p},update:function(e,l){if(this.isRunning){this._elapsed+=l;var a=s(this._elapsed/this.duration,0,1);this.progress=a;var o=this.camera;if(this._elapsed<this.duration){var u=this.ease(a);o.getScroll(this.destination.x,this.destination.y,this.current);var v=this.source.x+(this.current.x-this.source.x)*u,d=this.source.y+(this.current.y-this.source.y)*u;o.setScroll(v,d),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,o,a,v,d)}else o.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,o,a,o.scrollX,o.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(i.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});c.exports=n},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){return f===void 0&&(f=1.70158),s*s*((f+1)*s-f)};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){return f===void 0&&(f=1.70158),--s*s*((f+1)*s+f)+1};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){f===void 0&&(f=1.70158);var h=f*1.525;return(s*=2)<1?.5*(s*s*((h+1)*s-h)):.5*((s-=2)*s*((h+1)*s+h)+2)};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return s=1-s,s<.36363636363636365?1-7.5625*s*s:s<.7272727272727273?1-(7.5625*(s-=.5454545454545454)*s+.75):s<.9090909090909091?1-(7.5625*(s-=.8181818181818182)*s+.9375):1-(7.5625*(s-=.9545454545454546)*s+.984375)};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return s<.36363636363636365?7.5625*s*s:s<.7272727272727273?7.5625*(s-=.5454545454545454)*s+.75:s<.9090909090909091?7.5625*(s-=.8181818181818182)*s+.9375:7.5625*(s-=.9545454545454546)*s+.984375};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){var f=!1;return s<.5?(s=1-s*2,f=!0):s=s*2-1,s<.36363636363636365?s=7.5625*s*s:s<.7272727272727273?s=7.5625*(s-=.5454545454545454)*s+.75:s<.9090909090909091?s=7.5625*(s-=.8181818181818182)*s+.9375:s=7.5625*(s-=.9545454545454546)*s+.984375,f?(1-s)*.5:s*.5+.5};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return 1-Math.sqrt(1-s*s)};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return Math.sqrt(1- --s*s)};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return(s*=2)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1)};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return s*s*s};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return--s*s*s+1};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return(s*=2)<1?.5*s*s*s:.5*((s-=2)*s*s+2)};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){if(f===void 0&&(f=.1),h===void 0&&(h=.1),s===0)return 0;if(s===1)return 1;var i=h/4;return f<1?f=1:i=h*Math.asin(1/f)/(2*Math.PI),-(f*Math.pow(2,10*(s-=1))*Math.sin((s-i)*(2*Math.PI)/h))};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){if(f===void 0&&(f=.1),h===void 0&&(h=.1),s===0)return 0;if(s===1)return 1;var i=h/4;return f<1?f=1:i=h*Math.asin(1/f)/(2*Math.PI),f*Math.pow(2,-10*s)*Math.sin((s-i)*(2*Math.PI)/h)+1};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){if(f===void 0&&(f=.1),h===void 0&&(h=.1),s===0)return 0;if(s===1)return 1;var i=h/4;return f<1?f=1:i=h*Math.asin(1/f)/(2*Math.PI),(s*=2)<1?-.5*(f*Math.pow(2,10*(s-=1))*Math.sin((s-i)*(2*Math.PI)/h)):f*Math.pow(2,-10*(s-=1))*Math.sin((s-i)*(2*Math.PI)/h)*.5+1};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return Math.pow(2,10*(s-1))-.001};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return 1-Math.pow(2,-10*s)};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return(s*=2)<1?.5*Math.pow(2,10*(s-1)):.5*(2-Math.pow(2,-10*(s-1)))};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return s};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return s*s};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return s*(2-s)};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return(s*=2)<1?.5*s*s:-.5*(--s*(s-2)-1)};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return s*s*s*s};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return 1- --s*s*s*s};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return(s*=2)<1?.5*s*s*s*s:-.5*((s-=2)*s*s*s-2)};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return s*s*s*s*s};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return--s*s*s*s*s+1};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return(s*=2)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2)};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return s===0?0:s===1?1:1-Math.cos(s*Math.PI/2)};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return s===0?0:s===1?1:Math.sin(s*Math.PI/2)};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return s===0?0:s===1?1:.5*(1-Math.cos(Math.PI*s))};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){return f===void 0&&(f=1),s<=0?0:s>=1?1:((f*s|0)+1)*(1/f)};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(19),f=t(0),h=t(40),i=t(3),r=new f({initialize:function(e){this.camera=e,this.isRunning=!1,this.duration=0,this.intensity=new i,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(n,e,l,a,o){return n===void 0&&(n=100),e===void 0&&(e=.05),l===void 0&&(l=!1),a===void 0&&(a=null),o===void 0&&(o=this.camera.scene),!l&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=n,this.progress=0,typeof e=="number"?this.intensity.set(e):this.intensity.set(e.x,e.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=a,this._onUpdateScope=o,this.camera.emit(h.SHAKE_START,this.camera,this,n,e),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(n,e){if(this.isRunning)if(this._elapsed+=e,this.progress=s(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var l=this.intensity,a=this.camera._cw,o=this.camera._ch,u=this.camera.zoom;this._offsetX=(Math.random()*l.x*a*2-l.x*a)*u,this._offsetY=(Math.random()*l.y*o*2-l.y*o)*u,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(h.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});c.exports=r},function(c,E,t){/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var s=t(19),f=t(0),h=t(40),i=t(115),r=new f({initialize:function(e){this.camera=e,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(n,e,l,a,o,u,v){l===void 0&&(l=1e3),a===void 0&&(a=i.Linear),o===void 0&&(o=!1),u===void 0&&(u=null),v===void 0&&(v=this.camera.scene),e===void 0&&(e=!1),this.shortestPath=e;var d=n;n<0?(d=-1*n,this.clockwise=!1):this.clockwise=!0;var p=360*Math.PI/180;d=d-Math.floor(d/p)*p;var x=this.camera;if(!o&&this.isRunning)return x;if(this.isRunning=!0,this.duration=l,this.progress=0,this.source=x.rotation,this.destination=d,typeof a=="string"&&i.hasOwnProperty(a)?this.ease=i[a]:typeof a=="function"&&(this.ease=a),this._elapsed=0,this._onUpdate=u,this._onUpdateScope=v,this.shortestPath){var g=0,m=0;this.destination>this.source?g=Math.abs(this.destination-this.source):g=Math.abs(this.destination+p)-this.source,this.source>this.destination?m=Math.abs(this.source-this.destination):m=Math.abs(this.source+p)-this.destination,g<m?this.clockwise=!0:g>m&&(this.clockwise=!1)}return this.camera.emit(h.ROTATE_START,this.camera,this,l,d),x},update:function(n,e){if(this.isRunning){this._elapsed+=e;var l=s(this._elapsed/this.duration,0,1);this.progress=l;var a=this.camera;if(this._elapsed<this.duration){var o=this.ease(l);this.current=a.rotation;var u=0,v=360*Math.PI/180,d=this.destination,p=this.current;this.clockwise===!1&&(d=this.current,p=this.destination),d>=p?u=Math.abs(d-p):u=Math.abs(d+v)-p;var x=0;this.clockwise?x=a.rotation+u*o:x=a.rotation-u*o,a.rotation=x,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,a,l,x)}else a.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,a,l,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(h.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(19),f=t(0),h=t(115),i=t(40),r=new f({initialize:function(e){this.camera=e,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(n,e,l,a,o,u){e===void 0&&(e=1e3),l===void 0&&(l=h.Linear),a===void 0&&(a=!1),o===void 0&&(o=null),u===void 0&&(u=this.camera.scene);var v=this.camera;return!a&&this.isRunning||(this.isRunning=!0,this.duration=e,this.progress=0,this.source=v.zoom,this.destination=n,typeof l=="string"&&h.hasOwnProperty(l)?this.ease=h[l]:typeof l=="function"&&(this.ease=l),this._elapsed=0,this._onUpdate=o,this._onUpdateScope=u,this.camera.emit(i.ZOOM_START,this.camera,this,e,n)),v},update:function(n,e){this.isRunning&&(this._elapsed+=e,this.progress=s(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(i.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(293),f=t(0),h=t(2),i=t(23),r=t(48),n=t(92),e=t(22),l=new f({initialize:function(o){this.scene=o,this.systems=o.sys,this.roundPixels=o.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,o.sys.events.once(e.BOOT,this.boot,this),o.sys.events.on(e.START,this.start,this)},boot:function(){var a=this.systems;a.settings.cameras?this.fromJSON(a.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new s(0,0,a.scale.width,a.scale.height).setScene(this.scene),a.game.scale.on(n.RESIZE,this.onResize,this),this.systems.events.once(e.DESTROY,this.destroy,this)},start:function(){if(!this.main){var a=this.systems;a.settings.cameras?this.fromJSON(a.settings.cameras):this.add(),this.main=this.cameras[0]}var o=this.systems.events;o.on(e.UPDATE,this.update,this),o.once(e.SHUTDOWN,this.shutdown,this)},add:function(a,o,u,v,d,p){a===void 0&&(a=0),o===void 0&&(o=0),u===void 0&&(u=this.scene.sys.scale.width),v===void 0&&(v=this.scene.sys.scale.height),d===void 0&&(d=!1),p===void 0&&(p="");var x=new s(a,o,u,v);return x.setName(p),x.setScene(this.scene),x.setRoundPixels(this.roundPixels),x.id=this.getNextID(),this.cameras.push(x),d&&(this.main=x),x},addExisting:function(a,o){o===void 0&&(o=!1);var u=this.cameras.indexOf(a);return u===-1?(a.id=this.getNextID(),a.setRoundPixels(this.roundPixels),this.cameras.push(a),o&&(this.main=a),a):null},getNextID:function(){for(var a=this.cameras,o=1,u=0;u<32;u++){for(var v=!1,d=0;d<a.length;d++){var p=a[d];if(p&&p.id===o){v=!0;continue}}if(v)o=o<<1;else return o}return 0},getTotal:function(a){a===void 0&&(a=!1);for(var o=0,u=this.cameras,v=0;v<u.length;v++){var d=u[v];(!a||a&&d.visible)&&o++}return o},fromJSON:function(a){Array.isArray(a)||(a=[a]);for(var o=this.scene.sys.scale.width,u=this.scene.sys.scale.height,v=0;v<a.length;v++){var d=a[v],p=h(d,"x",0),x=h(d,"y",0),g=h(d,"width",o),m=h(d,"height",u),y=this.add(p,x,g,m);y.name=h(d,"name",""),y.zoom=h(d,"zoom",1),y.rotation=h(d,"rotation",0),y.scrollX=h(d,"scrollX",0),y.scrollY=h(d,"scrollY",0),y.roundPixels=h(d,"roundPixels",!1),y.visible=h(d,"visible",!0);var T=h(d,"backgroundColor",!1);T&&y.setBackgroundColor(T);var S=h(d,"bounds",null);if(S){var C=h(S,"x",0),P=h(S,"y",0),A=h(S,"width",o),M=h(S,"height",u);y.setBounds(C,P,A,M)}}return this},getCamera:function(a){for(var o=this.cameras,u=0;u<o.length;u++)if(o[u].name===a)return o[u];return null},getCamerasBelowPointer:function(a){for(var o=this.cameras,u=a.x,v=a.y,d=[],p=0;p<o.length;p++){var x=o[p];x.visible&&x.inputEnabled&&r(x,u,v)&&d.unshift(x)}return d},remove:function(a,o){o===void 0&&(o=!0),Array.isArray(a)||(a=[a]);for(var u=0,v=this.cameras,d=0;d<a.length;d++){var p=v.indexOf(a[d]);p!==-1&&(o&&v[p].destroy(),v.splice(p,1),u++)}return!this.main&&v[0]&&(this.main=v[0]),u},render:function(a,o,u){for(var v=this.scene,d=this.cameras,p=0;p<this.cameras.length;p++){var x=d[p];x.visible&&x.alpha>0&&(x.preRender(1),a.render(v,o,u,x))}},resetAll:function(){for(var a=0;a<this.cameras.length;a++)this.cameras[a].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(a,o){for(var u=0;u<this.cameras.length;u++)this.cameras[u].update(a,o)},onResize:function(a,o,u,v,d,p){for(var x=0;x<this.cameras.length;x++){var g=this.cameras[x];g._x===0&&g._y===0&&g._width===d&&g._height===p&&g.setSize(o.width,o.height)}},resize:function(a,o){for(var u=0;u<this.cameras.length;u++)this.cameras[u].setSize(a,o)},shutdown:function(){this.main=void 0;for(var a=0;a<this.cameras.length;a++)this.cameras[a].destroy();this.cameras=[];var o=this.systems.events;o.off(e.UPDATE,this.update,this),o.off(e.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.scene.sys.events.off(e.START,this.start,this),this.scene=null,this.systems=null}});i.register("CameraManager",l,"cameras"),c.exports=l},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="enterfullscreen"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="fullscreenfailed"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="fullscreenunsupported"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="leavefullscreen"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="orientationchange"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resize"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="boot"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="create"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="destroy"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="postupdate"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="preupdate"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="ready"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="render"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="shutdown"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="sleep"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="start"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="transitioncomplete"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="transitioninit"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="transitionout"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="transitionstart"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="transitionwake"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="update"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="wake"},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Config:t(314),CreateRenderer:t(338),DebugHeader:t(342),Events:t(20),TimeStep:t(343),VisibilityHandler:t(345)}},function(c,E){var t=c.exports={},s,f;function h(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?s=setTimeout:s=h}catch{s=h}try{typeof clearTimeout=="function"?f=clearTimeout:f=i}catch{f=i}})();function r(x){if(s===setTimeout)return setTimeout(x,0);if((s===h||!s)&&setTimeout)return s=setTimeout,setTimeout(x,0);try{return s(x,0)}catch{try{return s.call(null,x,0)}catch{return s.call(this,x,0)}}}function n(x){if(f===clearTimeout)return clearTimeout(x);if((f===i||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(x);try{return f(x)}catch{try{return f.call(null,x)}catch{return f.call(this,x)}}}var e=[],l=!1,a,o=-1;function u(){!l||!a||(l=!1,a.length?e=a.concat(e):o=-1,e.length&&v())}function v(){if(!l){var x=r(u);l=!0;for(var g=e.length;g;){for(a=e,e=[];++o<g;)a&&a[o].run();o=-1,g=e.length}a=null,l=!1,n(x)}}t.nextTick=function(x){var g=new Array(arguments.length-1);if(arguments.length>1)for(var m=1;m<arguments.length;m++)g[m-1]=arguments[m];e.push(new d(x,g)),e.length===1&&!l&&r(v)};function d(x,g){this.fun=x,this.array=g}d.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function p(){}t.on=p,t.addListener=p,t.once=p,t.off=p,t.removeListener=p,t.removeAllListeners=p,t.emit=p,t.prependListener=p,t.prependOnceListener=p,t.listeners=function(x){return[]},t.binding=function(x){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(x){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(118),f={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function h(){return("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(f.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(f.mspointer=!0),navigator.getGamepads&&(f.gamepads=!0),"onwheel"in window||s.ie&&"WheelEvent"in window?f.wheelEvent="wheel":"onmousewheel"in window?f.wheelEvent="mousewheel":s.firefox&&"MouseScrollEvent"in window&&(f.wheelEvent="DOMMouseScroll"),f}c.exports=h()},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(118),f={audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function h(){f.audioData=!!window.Audio,f.webAudio=!!(window.AudioContext||window.webkitAudioContext);var i=document.createElement("audio"),r=!!i.canPlayType;try{if(r&&(i.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,"")&&(f.ogg=!0),(i.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,"")||i.canPlayType("audio/opus;").replace(/^no$/,""))&&(f.opus=!0),i.canPlayType("audio/mpeg;").replace(/^no$/,"")&&(f.mp3=!0),i.canPlayType('audio/wav; codecs="1"').replace(/^no$/,"")&&(f.wav=!0),(i.canPlayType("audio/x-m4a;")||i.canPlayType("audio/aac;").replace(/^no$/,""))&&(f.m4a=!0),i.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")&&(f.webm=!0),i.canPlayType('audio/mp4;codecs="ec-3"')!=="")){if(s.edge)f.dolby=!0;else if(s.safari&&s.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var n=parseInt(RegExp.$1,10),e=parseInt(RegExp.$2,10);(n===10&&e>=11||n>10)&&(f.dolby=!0)}}}catch{}return f}c.exports=h()},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={h264:!1,hls:!1,mp4:!1,ogg:!1,vp9:!1,webm:!1};function s(){var f=document.createElement("video"),h=!!f.canPlayType;try{h&&(f.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,"")&&(t.ogg=!0),f.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,"")&&(t.h264=!0,t.mp4=!0),f.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")&&(t.webm=!0),f.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,"")&&(t.vp9=!0),f.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,"")&&(t.hls=!0))}catch{}return t}c.exports=s()},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={available:!1,cancel:"",keyboard:!1,request:""};function s(){var f,h="Fullscreen",i="FullScreen",r=["request"+h,"request"+i,"webkitRequest"+h,"webkitRequest"+i,"msRequest"+h,"msRequest"+i,"mozRequest"+i,"mozRequest"+h];for(f=0;f<r.length;f++)if(document.documentElement[r[f]]){t.available=!0,t.request=r[f];break}var n=["cancel"+i,"exit"+h,"webkitCancel"+i,"webkitExit"+h,"msCancel"+i,"msExit"+h,"mozCancel"+i,"mozExit"+h];if(t.available){for(f=0;f<n.length;f++)if(document[n[f]]){t.cancel=n[f];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(t.keyboard=!0),Object.defineProperty(t,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),t}c.exports=s()},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Between:t(317),BetweenPoints:t(318),BetweenPointsY:t(735),BetweenY:t(736),CounterClockwise:t(737),Normalize:t(319),Random:t(738),RandomDegrees:t(739),Reverse:t(740),RotateTo:t(741),ShortestBetween:t(742),Wrap:t(235),WrapDegrees:t(236)}},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){return Math.atan2(f.x-s.x,f.y-s.y)};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i){return Math.atan2(h-s,i-f)};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(13),f=function(h){return h>Math.PI&&(h-=s.PI2),Math.abs(((h+s.TAU)%s.PI2-s.PI2)%s.PI2)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(119),f=function(){return s(-Math.PI,Math.PI)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(119),f=function(){return s(-180,180)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(319),f=function(h){return s(h+Math.PI)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(13),f=function(h,i,r){return r===void 0&&(r=.05),h===i||(Math.abs(i-h)<=r||Math.abs(i-h)>=s.PI2-r?h=i:(Math.abs(i-h)>Math.PI&&(i<h?i+=s.PI2:i-=s.PI2),i>h?h+=r:i<h&&(h-=r))),h};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){var h=f-s;if(h===0)return 0;var i=Math.floor((h- -180)/360);return h-i*360};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Between:t(53),BetweenPoints:t(320),BetweenPointsSquared:t(744),Chebyshev:t(745),Power:t(746),Snake:t(747),Squared:t(321)}},function(c,E){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){var h=s.x-f.x,i=s.y-f.y;return h*h+i*i};c.exports=t},function(c,E){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i){return Math.max(Math.abs(s-h),Math.abs(f-i))};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i,r){return r===void 0&&(r=2),Math.sqrt(Math.pow(h-s,r)+Math.pow(i-f,r))};c.exports=t},function(c,E){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i){return Math.abs(s-h)+Math.abs(f-i)};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Back:t(302),Bounce:t(303),Circular:t(304),Cubic:t(305),Elastic:t(306),Expo:t(307),Linear:t(308),Quadratic:t(309),Quartic:t(310),Quintic:t(311),Sine:t(312),Stepped:t(313)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Ceil:t(750),Equal:t(106),Floor:t(751),GreaterThan:t(322),LessThan:t(323)}},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){return f===void 0&&(f=1e-4),Math.ceil(s-f)};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){return f===void 0&&(f=1e-4),Math.floor(s+f)};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Bezier:t(753),CatmullRom:t(754),CubicBezier:t(326),Linear:t(755),QuadraticBezier:t(327),SmoothStep:t(328),SmootherStep:t(756)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(324),f=function(h,i){for(var r=0,n=h.length-1,e=0;e<=n;e++)r+=Math.pow(1-i,n-e)*Math.pow(i,e)*h[e]*s(n,e);return r};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(171),f=function(h,i){var r=h.length-1,n=r*i,e=Math.floor(n);return h[0]===h[r]?(i<0&&(e=Math.floor(n=r*(1+i))),s(n-e,h[(e-1+r)%r],h[e],h[(e+1)%r],h[(e+2)%r])):i<0?h[0]-(s(-n,h[0],h[0],h[1],h[1])-h[0]):i>1?h[r]-(s(n-r,h[r],h[r],h[r-1],h[r-1])-h[r]):s(n-e,h[e?e-1:0],h[e],h[r<e+1?r:e+1],h[r<e+2?r:e+2])};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(116),f=function(h,i){var r=h.length-1,n=r*i,e=Math.floor(n);return i<0?s(h[0],h[1],n):i>1?s(h[r],h[r-1],r-n):s(h[e],h[e+1>r?r:e+1],n-e)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(160),f=function(h,i,r){return i+(r-i)*s(h,0,1)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={GetNext:t(329),IsSize:t(120),IsValue:t(758)}},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return s>0&&(s&s-1)===0};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Ceil:t(330),Floor:t(93),To:t(760)}},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i){return h===void 0&&(h=0),f===0?s:(s-=h,s=f*Math.round(s/f),i?(h+s)/f:h+s)};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=new s({initialize:function(i){i===void 0&&(i=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],i&&this.init(i)},rnd:function(){var h=2091639*this.s0+this.c*23283064365386963e-26;return this.c=h|0,this.s0=this.s1,this.s1=this.s2,this.s2=h-this.c,this.s2},hash:function(h){var i,r=this.n;h=h.toString();for(var n=0;n<h.length;n++)r+=h.charCodeAt(n),i=.02519603282416938*r,r=i>>>0,i-=r,i*=r,r=i>>>0,i-=r,r+=i*4294967296;return this.n=r,(r>>>0)*23283064365386963e-26},init:function(h){typeof h=="string"?this.state(h):this.sow(h)},sow:function(h){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!h)for(var i=0;i<h.length&&h[i]!=null;i++){var r=h[i];this.s0-=this.hash(r),this.s0+=~~(this.s0<0),this.s1-=this.hash(r),this.s1+=~~(this.s1<0),this.s2-=this.hash(r),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(h,i){return Math.floor(this.realInRange(0,i-h+1)+h)},between:function(h,i){return Math.floor(this.realInRange(0,i-h+1)+h)},realInRange:function(h,i){return this.frac()*(i-h)+h},normal:function(){return 1-2*this.frac()},uuid:function(){var h="",i="";for(i=h="";h++<36;i+=~h%5|h*3&4?(h^15?8^this.frac()*(h^20?16:4):4).toString(16):"-");return i},pick:function(h){return h[this.integerInRange(0,h.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(h){return h[~~(Math.pow(this.frac(),2)*(h.length-1)+.5)]},timestamp:function(h,i){return this.realInRange(h||9466848e5,i||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(h){return typeof h=="string"&&h.match(/^!rnd/)&&(h=h.split(","),this.c=parseFloat(h[1]),this.s0=parseFloat(h[2]),this.s1=parseFloat(h[3]),this.s2=parseFloat(h[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(h){for(var i=h.length-1,r=i;r>0;r--){var n=Math.floor(this.frac()*(r+1)),e=h[n];h[n]=h[r],h[r]=e}return h}});c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){for(var f=0,h=0;h<s.length;h++)f+=+s[h];return f/s.length};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){f===void 0&&(f=0),h===void 0&&(h=10);var i=Math.pow(h,-f);return Math.ceil(s*i)/i};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){return Math.abs(s-f)};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){f===void 0&&(f=0),h===void 0&&(h=10);var i=Math.pow(h,-f);return Math.floor(s*i)/i};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){return s/f/1e3};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return s==parseFloat(s)?!(s%2):void 0};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return s===parseFloat(s)?!(s%2):void 0};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){return Math.min(s+f,h)};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){return Math.max(s-f,h)};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i){h===void 0&&(h=f+1);var r=(s-f)/(h-f);return r>1?i!==void 0?(r=(i-s)/(i-h),r<0&&(r=0)):r=1:r<0&&(r=0),r};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){f===void 0&&(f=1);var h=Math.random()*2*Math.PI;return s.x=Math.cos(h)*f,s.y=Math.sin(h)*f,s};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){f===void 0&&(f=1);var h=Math.random()*2*Math.PI,i=Math.random()*2-1,r=Math.sqrt(1-i*i)*f;return s.x=Math.cos(h)*r,s.y=Math.sin(h)*r,s.z=i*f,s};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){return f===void 0&&(f=1),s.x=(Math.random()*2-1)*f,s.y=(Math.random()*2-1)*f,s.z=(Math.random()*2-1)*f,s.w=(Math.random()*2-1)*f,s};c.exports=t},function(c,E){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i,r){return s.x=f+r*Math.cos(i),s.y=h+r*Math.sin(i),s};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){f===void 0&&(f=0),h===void 0&&(h=10);var i=Math.pow(h,-f);return Math.round(s*i)/i};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i){f===void 0&&(f=1),h===void 0&&(h=1),i===void 0&&(i=1),i*=Math.PI/s;for(var r=[],n=[],e=0;e<s;e++)h-=f*i,f+=h*i,r[e]=h,n[e]=f;return{sin:n,cos:r,length:s}};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(3),f=function(h,i,r,n){n===void 0&&(n=new s);var e=0,l=0,a=i*r;return h>0&&h<=a&&(h>i-1?(l=Math.floor(h/i),e=h-l*i):e=h,n.set(e,l)),n};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){return Math.abs(s-f)<=h};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(174),f=t(336),h=t(337),i=new f,r=new h,n=new s,e=function(l,a,o){return r.setAxisAngle(a,o),i.fromRotationTranslation(r,n.set(0,0,0)),l.transformMat4(i)};c.exports=e},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="addtexture"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="onerror"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="onload"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="ready"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="removetexture"},function(c,E){c.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","","precision mediump float;","","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","","void main()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    float alpha = mainColor.a;","","    if (!uInvertMaskAlpha)","    {","        alpha *= (maskColor.a);","    }","    else","    {","        alpha *= (1.0 - maskColor.a);","    }","","    gl_FragColor = vec4(mainColor.rgb * alpha, alpha);","}",""].join(`
`)},function(c,E){c.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","","precision mediump float;","","attribute vec2 inPosition;","","void main()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}",""].join(`
`)},function(c,E){c.exports=["#define SHADER_NAME PHASER_FORWARD_DIFFUSE_FS","","precision mediump float;","","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","","const int kMaxLights = %LIGHT_COUNT%;","","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","","varying vec2 outTexCoord;","varying vec4 outTint;","","void main()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 color = texture2D(uMainSampler, outTexCoord) * vec4(outTint.rgb * outTint.a, outTint.a);","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","","    for (int index = 0; index < kMaxLights; ++index)","    {","        Light light = uLights[index];","        vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","        vec3 lightNormal = normalize(lightDir);","        float distToSurf = length(lightDir) * uCamera.w;","        float diffuseFactor = max(dot(normal, lightNormal), 0.0);","        float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","        float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","        vec3 diffuse = light.color * diffuseFactor;","        finalColor += (attenuation * diffuse) * light.intensity;","    }","","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","","}",""].join(`
`)},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={GenerateTexture:t(346),Palettes:t(790)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ARNE16:t(347),C64:t(791),CGA:t(792),JMP:t(793),MSX:t(794)}},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Path:t(796),CubicBezier:t(348),Curve:t(81),Ellipse:t(349),Line:t(350),QuadraticBezier:t(351),Spline:t(352)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(348),h=t(349),i=t(5),r=t(350),n=t(797),e=t(351),l=t(11),a=t(352),o=t(3),u=t(13),v=new s({initialize:function(p,x){p===void 0&&(p=0),x===void 0&&(x=0),this.name="",this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new o,this._tmpVec2A=new o,this._tmpVec2B=new o,typeof p=="object"?this.fromJSON(p):this.startPoint.set(p,x)},add:function(d){return this.curves.push(d),this},circleTo:function(d,p,x){return p===void 0&&(p=!1),this.ellipseTo(d,d,0,360,p,x)},closePath:function(){var d=this.curves[0].getPoint(0),p=this.curves[this.curves.length-1].getPoint(1);return d.equals(p)||this.curves.push(new r(p,d)),this},cubicBezierTo:function(d,p,x,g,m,y){var T=this.getEndPoint(),S,C,P;return d instanceof o?(S=d,C=p,P=x):(S=new o(x,g),C=new o(m,y),P=new o(d,p)),this.add(new f(T,S,C,P))},quadraticBezierTo:function(d,p,x,g){var m=this.getEndPoint(),y,T;return d instanceof o?(y=d,T=p):(y=new o(x,g),T=new o(d,p)),this.add(new e(m,y,T))},draw:function(d,p){for(var x=0;x<this.curves.length;x++){var g=this.curves[x];g.active&&g.draw(d,p)}return d},ellipseTo:function(d,p,x,g,m,y){var T=new h(0,0,d,p,x,g,m,y),S=this.getEndPoint(this._tmpVec2A),C=T.getStartPoint(this._tmpVec2B);return S.subtract(C),T.x=S.x,T.y=S.y,this.add(T)},fromJSON:function(d){this.curves=[],this.cacheLengths=[],this.startPoint.set(d.x,d.y),this.autoClose=d.autoClose;for(var p=0;p<d.curves.length;p++){var x=d.curves[p];switch(x.type){case"LineCurve":this.add(r.fromJSON(x));break;case"EllipseCurve":this.add(h.fromJSON(x));break;case"SplineCurve":this.add(a.fromJSON(x));break;case"CubicBezierCurve":this.add(f.fromJSON(x));break;case"QuadraticBezierCurve":this.add(e.fromJSON(x));break}}return this},getBounds:function(d,p){d===void 0&&(d=new l),p===void 0&&(p=16),d.x=Number.MAX_VALUE,d.y=Number.MAX_VALUE;for(var x=new l,g=u.MIN_SAFE_INTEGER,m=u.MIN_SAFE_INTEGER,y=0;y<this.curves.length;y++){var T=this.curves[y];T.active&&(T.getBounds(x,p),d.x=Math.min(d.x,x.x),d.y=Math.min(d.y,x.y),g=Math.max(g,x.right),m=Math.max(m,x.bottom))}return d.right=g,d.bottom=m,d},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var d=[],p=0,x=0;x<this.curves.length;x++)p+=this.curves[x].getLength(),d.push(p);return this.cacheLengths=d,d},getEndPoint:function(d){return d===void 0&&(d=new o),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,d):d.copy(this.startPoint),d},getLength:function(){var d=this.getCurveLengths();return d[d.length-1]},getPoint:function(d,p){p===void 0&&(p=new o);for(var x=d*this.getLength(),g=this.getCurveLengths(),m=0;m<g.length;){if(g[m]>=x){var y=g[m]-x,T=this.curves[m],S=T.getLength(),C=S===0?0:1-y/S;return T.getPointAt(C,p)}m++}return null},getPoints:function(d){d===void 0&&(d=12);for(var p=[],x,g=0;g<this.curves.length;g++){var m=this.curves[g];if(m.active)for(var y=m.getResolution(d),T=m.getPoints(y),S=0;S<T.length;S++){var C=T[S];x&&x.equals(C)||(p.push(C),x=C)}}return this.autoClose&&p.length>1&&!p[p.length-1].equals(p[0])&&p.push(p[0]),p},getRandomPoint:function(d){return d===void 0&&(d=new o),this.getPoint(Math.random(),d)},getSpacedPoints:function(d){d===void 0&&(d=40);for(var p=[],x=0;x<=d;x++)p.push(this.getPoint(x/d));return this.autoClose&&p.push(p[0]),p},getStartPoint:function(d){return d===void 0&&(d=new o),d.copy(this.startPoint)},getTangent:function(d,p){p===void 0&&(p=new o);for(var x=d*this.getLength(),g=this.getCurveLengths(),m=0;m<g.length;){if(g[m]>=x){var y=g[m]-x,T=this.curves[m],S=T.getLength(),C=S===0?0:1-y/S;return T.getTangentAt(C,p)}m++}return null},lineTo:function(d,p){d instanceof o?this._tmpVec2B.copy(d):this._tmpVec2B.set(d,p);var x=this.getEndPoint(this._tmpVec2A);return this.add(new r([x.x,x.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(d){return d.unshift(this.getEndPoint()),this.add(new a(d))},moveTo:function(d,p){return d instanceof o?this.add(new n(d.x,d.y)):this.add(new n(d,p))},toJSON:function(){for(var d=[],p=0;p<this.curves.length;p++)d.push(this.curves[p].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:d}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});i.register("path",function(d,p){return new v(d,p)}),c.exports=v},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(3),h=new s({initialize:function(r,n){this.active=!1,this.p0=new f(r,n)},getPoint:function(i,r){return r===void 0&&(r=new f),r.copy(this.p0)},getPointAt:function(i,r){return this.getPoint(i,r)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={DataManager:t(113),DataManagerPlugin:t(799),Events:t(284)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(113),h=t(23),i=t(22),r=new s({Extends:f,initialize:function(e){f.call(this,e,e.sys.events),this.scene=e,this.systems=e.sys,e.sys.events.once(i.BOOT,this.boot,this),e.sys.events.on(i.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(i.DESTROY,this.destroy,this)},start:function(){this.events.once(i.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(i.SHUTDOWN,this.shutdown,this)},destroy:function(){f.prototype.destroy.call(this),this.events.off(i.START,this.start,this),this.scene=null,this.systems=null}});h.register("DataManagerPlugin",r,"data"),c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Align:t(801),BaseShader:t(353),Bounds:t(804),Canvas:t(808),Color:t(354),Masks:t(817)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(105),f=t(18),h={In:t(802),To:t(803)};h=f(!1,h,s),c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BottomCenter:t(256),BottomLeft:t(257),BottomRight:t(258),Center:t(259),LeftCenter:t(261),QuickSet:t(255),RightCenter:t(262),TopCenter:t(263),TopLeft:t(264),TopRight:t(265)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BottomCenter:t(243),BottomLeft:t(244),BottomRight:t(245),LeftBottom:t(246),LeftCenter:t(247),LeftTop:t(248),QuickSet:t(242),RightBottom:t(249),RightCenter:t(250),RightTop:t(251),TopCenter:t(252),TopLeft:t(253),TopRight:t(254)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CenterOn:t(260),GetBottom:t(34),GetBounds:t(805),GetCenterX:t(76),GetCenterY:t(78),GetLeft:t(35),GetOffsetX:t(806),GetOffsetY:t(807),GetRight:t(36),GetTop:t(37),SetBottom:t(46),SetCenterX:t(77),SetCenterY:t(79),SetLeft:t(44),SetRight:t(45),SetTop:t(43)}},function(c,E,t){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(34),f=t(35),h=t(36),i=t(37),r=function(n,e){e===void 0&&(e={});var l=f(n),a=i(n);return e.x=l,e.y=a,e.width=h(n)-l,e.height=s(n)-a,e};c.exports=r},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return s.width*s.originX};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return s.height*s.originY};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CanvasInterpolation:t(339),CanvasPool:t(26),Smoothing:t(167),TouchAction:t(809),UserSelect:t(810)}},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){return f===void 0&&(f="none"),s.style.msTouchAction=f,s.style["ms-touch-action"]=f,s.style["touch-action"]=f,s};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){f===void 0&&(f="none");var h=["-webkit-","-khtml-","-moz-","-ms-",""];return h.forEach(function(i){s.style[i+"user-select"]=f}),s.style["-webkit-touch-callout"]=f,s.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",s};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){var f={r:s>>16&255,g:s>>8&255,b:s&255,a:255};return s>16777215&&(f.a=s>>>24),f};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(31),f=t(356),h=function(i,r,n){var e=n,l=n,a=n;if(r!==0){var o=n<.5?n*(1+r):n+r-n*r,u=2*n-o;e=f(u,o,i+1/3),l=f(u,o,i),a=f(u,o,i-1/3)}var v=new s;return v.setGLTo(e,l,a,1)};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(166),f=function(h,i){h===void 0&&(h=1),i===void 0&&(i=1);for(var r=[],n=0;n<=359;n++)r.push(s(n/359,h,i));return r};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(116),f=function(r,n,e,l,a,o,u,v){u===void 0&&(u=100),v===void 0&&(v=0);var d=v/u;return{r:s(r,l,d),g:s(n,a,d),b:s(e,o,d)}},h=function(r,n,e,l){return e===void 0&&(e=100),l===void 0&&(l=0),f(r.r,r.g,r.b,n.r,n.g,n.b,e,l)},i=function(r,n,e,l,a,o){return a===void 0&&(a=100),o===void 0&&(o=0),f(r.r,r.g,r.b,n,e,l,a,o)};c.exports={RGBWithRGB:f,ColorWithRGB:i,ColorWithColor:h}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(172),f=t(31),h=function(i,r){return i===void 0&&(i=0),r===void 0&&(r=255),new f(s(i,r),s(i,r),s(i,r))};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(355),f=function(h,i,r,n,e){return n===void 0&&(n=255),e===void 0&&(e="#"),e==="#"?"#"+((1<<24)+(h<<16)+(i<<8)+r).toString(16).slice(1):"0x"+s(n)+s(h)+s(i)+s(r)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BitmapMask:t(278),GeometryMask:t(279)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s={AddToDOM:t(122),DOMContentLoaded:t(357),GetScreenOrientation:t(358),GetTarget:t(363),ParseXML:t(364),RemoveFromDOM:t(178),RequestAnimationFrame:t(344)};c.exports=s},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={EventEmitter:t(820)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(10),h=t(23),i=new s({Extends:f,initialize:function(){f.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});h.register("EventEmitter",i,"events"),c.exports=i},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(122),f=t(289),h=t(292),i=t(26),r=t(0),n=t(314),e=t(822),l=t(338),a=t(113),o=t(342),u=t(315),v=t(357),d=t(10),p=t(20),x=t(365),g=t(23),m=t(370),y=t(371),T=t(373),S=t(121),C=t(376),P=t(343),A=t(345),M=t(380),O=new r({initialize:function(B){this.config=new n(B),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new d,this.anims=new f(this),this.textures=new C(this),this.cache=new h(this),this.registry=new a(this),this.input=new x(this,this.config),this.scene=new T(this,this.config.sceneConfig),this.device=u,this.scale=new y(this,this.config),this.sound=null,this.sound=M.create(this),this.loop=new P(this,this.config.fps),this.plugins=new m(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,v(this.boot.bind(this))},boot:function(){if(!g.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),l(this),e(this),o(this),s(this.canvas,this.config.parent),this.textures.once(S.READY,this.texturesReady,this),this.events.emit(p.BOOT)},texturesReady:function(){this.events.emit(p.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),A(this);var I=this.events;I.on(p.HIDDEN,this.onHidden,this),I.on(p.VISIBLE,this.onVisible,this),I.on(p.BLUR,this.onBlur,this),I.on(p.FOCUS,this.onFocus,this)},step:function(I,B){if(this.pendingDestroy)return this.runDestroy();var G=this.events;G.emit(p.PRE_STEP,I,B),G.emit(p.STEP,I,B),this.scene.update(I,B),G.emit(p.POST_STEP,I,B);var z=this.renderer;z.preRender(),G.emit(p.PRE_RENDER,z,I,B),this.scene.render(z),z.postRender(),G.emit(p.POST_RENDER,z,I,B)},headlessStep:function(I,B){if(this.pendingDestroy)return this.runDestroy();var G=this.events;G.emit(p.PRE_STEP,I,B),G.emit(p.STEP,I,B),this.scene.update(I,B),G.emit(p.POST_STEP,I,B),G.emit(p.PRE_RENDER),G.emit(p.POST_RENDER)},onHidden:function(){this.loop.pause(),this.events.emit(p.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(p.RESUME)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(I,B){B===void 0&&(B=!1),this.pendingDestroy=!0,this.removeCanvas=I,this.noReturn=B},runDestroy:function(){this.scene.destroy(),this.events.emit(p.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(i.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});c.exports=O},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(122),f=function(h){var i=h.config;if(!(!i.parent||!i.domCreateContainer)){var r=document.createElement("div");r.style.cssText=["display: block;","width: "+h.scale.width+"px;","height: "+h.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: none;","transform: scale(1);","transform-origin: left top;"].join(" "),h.domContainer=r,s(r,i.parent)}};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="boot"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="destroy"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragend"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragenter"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="drag"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragleave"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragover"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragstart"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="drop"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameout"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameover"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectdown"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragend"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragenter"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="drag"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragleave"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragover"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragstart"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="drop"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectmove"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectout"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectover"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerdown"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointermove"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerout"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerover"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerup"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="wheel"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectup"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="gameobjectwheel"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="boot"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="process"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="update"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerdown"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerdownoutside"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointermove"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerout"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerover"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerup"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerupoutside"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="wheel"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pointerlockchange"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="preupdate"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="shutdown"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="start"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="update"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){if(!s)return window.innerHeight;var f=Math.abs(window.orientation),h={w:0,h:0},i=document.createElement("div");return i.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(i),h.w=f===90?i.offsetHeight:window.innerWidth,h.h=f===90?window.innerWidth:i.offsetHeight,document.documentElement.removeChild(i),i=null,Math.abs(window.orientation)!==90?h.h:h.w};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="addfile"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="filecomplete"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="filecomplete-"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="loaderror"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="load"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="fileprogress"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="postprocess"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="progress"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="start"},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(2),f=t(181),h=function(i){var r=i.game.config.defaultPhysicsSystem,n=s(i.settings,"physics",!1);if(!(!r&&!n)){var e=[];if(r&&e.push(f(r+"Physics")),n)for(var l in n)l=f(l.concat("Physics")),e.indexOf(l)===-1&&e.push(l);return e}};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(2),f=function(h){var i=h.plugins.getDefaultScenePlugins(),r=s(h.settings,"plugins",!1);return Array.isArray(r)?r:i||[]};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s={game:"game",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};c.exports=s},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){if(!h.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var i=s.source[f];s.add("__BASE",f,0,0,i.width,i.height);for(var r=h.getElementsByTagName("SubTexture"),n,e=0;e<r.length;e++){var l=r[e].attributes,a=l.name.value,o=parseInt(l.x.value,10),u=parseInt(l.y.value,10),v=parseInt(l.width.value,10),d=parseInt(l.height.value,10);if(n=s.add(a,f,o,u,v,d),l.frameX){var p=Math.abs(parseInt(l.frameX.value,10)),x=Math.abs(parseInt(l.frameY.value,10)),g=parseInt(l.frameWidth.value,10),m=parseInt(l.frameHeight.value,10);n.setTrim(v,d,p,x,g,m)}}return s};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){var h=s.source[f];return s.add("__BASE",f,0,0,h.width,h.height),s};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){var h=s.source[f];return s.add("__BASE",f,0,0,h.width,h.height),s};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(67),f=function(h,i,r){if(!r.frames&&!r.textures){console.warn("Invalid Texture Atlas JSON Array");return}var n=h.source[i];h.add("__BASE",i,0,0,n.width,n.height);for(var e=Array.isArray(r.textures)?r.textures[i].frames:r.frames,l,a=0;a<e.length;a++){var o=e[a];l=h.add(o.filename,i,o.frame.x,o.frame.y,o.frame.w,o.frame.h),o.trimmed&&l.setTrim(o.sourceSize.w,o.sourceSize.h,o.spriteSourceSize.x,o.spriteSourceSize.y,o.spriteSourceSize.w,o.spriteSourceSize.h),o.rotated&&(l.rotated=!0,l.updateUVsInverted());var u=o.anchor||o.pivot;u&&(l.customPivot=!0,l.pivotX=u.x,l.pivotY=u.y),l.customData=s(o)}for(var v in r)v!=="frames"&&(Array.isArray(r[v])?h.customData[v]=r[v].slice(0):h.customData[v]=r[v]);return h};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(67),f=function(h,i,r){if(!r.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var n=h.source[i];h.add("__BASE",i,0,0,n.width,n.height);var e=r.frames,l;for(var a in e){var o=e[a];l=h.add(a,i,o.frame.x,o.frame.y,o.frame.w,o.frame.h),o.trimmed&&l.setTrim(o.sourceSize.w,o.sourceSize.h,o.spriteSourceSize.x,o.spriteSourceSize.y,o.spriteSourceSize.w,o.spriteSourceSize.h),o.rotated&&(l.rotated=!0,l.updateUVsInverted());var u=o.anchor||o.pivot;u&&(l.customPivot=!0,l.pivotX=u.x,l.pivotY=u.y),l.customData=s(o)}for(var v in r)v!=="frames"&&(Array.isArray(r[v])?h.customData[v]=r[v].slice(0):h.customData[v]=r[v]);return h};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(2),f=function(h,i,r,n,e,l,a){var o=s(a,"frameWidth",null),u=s(a,"frameHeight",o);if(o===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var v=h.source[i];h.add("__BASE",i,0,0,v.width,v.height);var d=s(a,"startFrame",0),p=s(a,"endFrame",-1),x=s(a,"margin",0),g=s(a,"spacing",0),m=Math.floor((e-x+g)/(o+g)),y=Math.floor((l-x+g)/(u+g)),T=m*y;T===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",h.key),(d>T||d<-T)&&(d=0),d<0&&(d=T+d),p!==-1&&(T=d+(p+1));for(var S=x,C=x,P=0,A=0,M=0;M<T;M++){P=0,A=0;var O=S+o,I=C+u;O>e&&(P=O-e),I>l&&(A=I-l),h.add(M,i,r+S,n+C,o-P,u-A),S+=o+g,S+o>e&&(S=x,C+=u+g)}return h};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(2),f=function(h,i,r){var n=s(r,"frameWidth",null),e=s(r,"frameHeight",n);if(!n)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var l=h.source[0];h.add("__BASE",0,0,0,l.width,l.height),s(r,"startFrame",0),s(r,"endFrame",-1);for(var a=s(r,"margin",0),o=s(r,"spacing",0),u=i.cutX,v=i.cutY,d=i.cutWidth,p=i.cutHeight,x=i.realWidth,g=i.realHeight,m=Math.floor((x-a+o)/(n+o)),y=Math.floor((g-a+o)/(e+o)),T=i.x,S=n-T,C=n-(x-d-T),P=i.y,A=e-P,M=e-(g-p-P),O,I=a,B=a,G=0,z=i.sourceIndex,N=0;N<y;N++){for(var L=N===0,R=N===y-1,F=0;F<m;F++){var Y=F===0,D=F===m-1;if(O=h.add(G,z,u+I,v+B,n,e),Y||L||D||R){var X=Y?T:0,U=L?P:0,V=0,w=0;Y&&(V+=n-S),D&&(V+=n-C),L&&(w+=e-A),R&&(w+=e-M);var W=n-V,H=e-w;O.cutWidth=W,O.cutHeight=H,O.setTrim(n,e,X,U,W,H)}I+=o,Y?I+=S:D?I+=C:I+=n,G++}I=a,B+=o,L?B+=A:R?B+=M:B+=e}return h};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=0,s=function(h,i,r,n){var e=t-n.y-n.height;h.add(r,i,n.x,e,n.width,n.height)},f=function(h,i,r){var n=h.source[i];h.add("__BASE",i,0,0,n.width,n.height),t=n.height;for(var e=r.split(`
`),l=/^[ ]*(- )*(\w+)+[: ]+(.*)/,a="",o="",u={x:0,y:0,width:0,height:0},v=0;v<e.length;v++){var d=e[v].match(l);if(d){var p=d[1]==="- ",x=d[2],g=d[3];if(p&&(o!==a&&(s(h,i,o,u),a=o),u={x:0,y:0,width:0,height:0}),x==="name"){o=g;continue}switch(x){case"x":case"y":case"width":case"height":u[x]=parseInt(g,10);break}}}return o!==a&&s(h,i,o,u),h};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="decoded"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="decodedall"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="destroy"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="detune"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="detune"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="mute"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="rate"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="volume"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="loop"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="looped"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="mute"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pauseall"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="play"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="rate"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resumeall"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="seek"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="stopall"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="stop"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="unlocked"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="volume"},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s={Events:t(90),DisplayList:t(915),GameObjectCreator:t(16),GameObjectFactory:t(5),UpdateList:t(941),Components:t(12),BuildGameObject:t(27),BuildGameObjectAnimation:t(393),GameObject:t(14),BitmapText:t(132),Blitter:t(188),Container:t(189),DOMElement:t(395),DynamicBitmapText:t(190),Extern:t(397),Graphics:t(191),Group:t(97),Image:t(107),Particles:t(973),PathFollower:t(409),RenderTexture:t(195),RetroFont:t(982),Rope:t(197),Sprite:t(75),Text:t(198),TileSprite:t(199),Zone:t(110),Video:t(200),Shape:t(30),Arc:t(410),Curve:t(411),Ellipse:t(412),Grid:t(413),IsoBox:t(414),IsoTriangle:t(415),Line:t(416),Polygon:t(417),Rectangle:t(422),Star:t(423),Triangle:t(424),Factories:{Blitter:t(1033),Container:t(1034),DOMElement:t(1035),DynamicBitmapText:t(1036),Extern:t(1037),Graphics:t(1038),Group:t(1039),Image:t(1040),Particles:t(1041),PathFollower:t(1042),RenderTexture:t(1043),Rope:t(1044),Sprite:t(1045),StaticBitmapText:t(1046),Text:t(1047),TileSprite:t(1048),Zone:t(1049),Video:t(1050),Arc:t(1051),Curve:t(1052),Ellipse:t(1053),Grid:t(1054),IsoBox:t(1055),IsoTriangle:t(1056),Line:t(1057),Polygon:t(1058),Rectangle:t(1059),Star:t(1060),Triangle:t(1061)},Creators:{Blitter:t(1062),Container:t(1063),DynamicBitmapText:t(1064),Graphics:t(1065),Group:t(1066),Image:t(1067),Particles:t(1068),RenderTexture:t(1069),Rope:t(1070),Sprite:t(1071),StaticBitmapText:t(1072),Text:t(1073),TileSprite:t(1074),Zone:t(1075),Video:t(1076)}};s.Mesh=t(134),s.Quad=t(203),s.Shader=t(204),s.Factories.Mesh=t(1083),s.Factories.Quad=t(1084),s.Factories.Shader=t(1085),s.Creators.Mesh=t(1086),s.Creators.Quad=t(1087),s.Creators.Shader=t(1088),s.Light=t(428),t(429),t(1089),c.exports=s},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(129),h=t(23),i=t(22),r=t(131),n=new s({Extends:f,initialize:function(l){f.call(this,l),this.sortChildrenFlag=!1,this.scene=l,this.systems=l.sys,l.sys.events.once(i.BOOT,this.boot,this),l.sys.events.on(i.START,this.start,this)},boot:function(){this.systems.events.once(i.DESTROY,this.destroy,this)},start:function(){this.systems.events.once(i.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(r.inplace(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(e,l){return e._depth-l._depth},getChildren:function(){return this.list},shutdown:function(){for(var e=this.list.length;e--;)this.list[e].destroy(!0);this.list.length=0,this.systems.events.off(i.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(i.START,this.start,this),this.scene=null,this.systems=null}});h.register("DisplayList",n,"displayList"),c.exports=n},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CheckMatrix:t(184),MatrixToString:t(917),ReverseColumns:t(918),ReverseRows:t(919),Rotate180:t(920),RotateLeft:t(921),RotateMatrix:t(130),RotateRight:t(922),TransposeMatrix:t(390)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(163),f=t(184),h=function(i){var r="";if(!f(i))return r;for(var n=0;n<i.length;n++){for(var e=0;e<i[n].length;e++){var l=i[n][e].toString();l!=="undefined"?r+=s(l,2):r+="?",e<i[n].length-1&&(r+=" |")}if(n<i.length-1){r+=`
`;for(var a=0;a<i[n].length;a++)r+="---",a<i[n].length-1&&(r+="+");r+=`
`}}return r};c.exports=h},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return s.reverse()};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){for(var f=0;f<s.length;f++)s[f].reverse();return s};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(130),f=function(h){return s(h,180)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(130),f=function(h){return s(h,90)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(130),f=function(h){return s(h,-90)};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i,r){if(r===void 0&&(r=s),h>0){var n=h-s.length;if(n<=0)return null}if(!Array.isArray(f))return s.indexOf(f)===-1?(s.push(f),i&&i.call(r,f),f):null;for(var e=f.length-1;e>=0;)s.indexOf(f[e])!==-1&&f.splice(e,1),e--;if(e=f.length,e===0)return null;h>0&&e>n&&(f.splice(n),e=n);for(var l=0;l<e;l++){var a=f[l];s.push(a),i&&i.call(r,a)}return f};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i,r,n){if(h===void 0&&(h=0),n===void 0&&(n=s),i>0){var e=i-s.length;if(e<=0)return null}if(!Array.isArray(f))return s.indexOf(f)===-1?(s.splice(h,0,f),r&&r.call(n,f),f):null;for(var l=f.length-1;l>=0;)s.indexOf(f[l])!==-1&&f.pop(),l--;if(l=f.length,l===0)return null;i>0&&l>e&&(f.splice(e),l=e);for(var a=l-1;a>=0;a--){var o=f[a];s.splice(h,0,o),r&&r.call(n,o)}return f};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){var h=s.indexOf(f);return h!==-1&&h<s.length&&(s.splice(h,1),s.push(f)),f};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(68),f=function(h,i,r,n,e){n===void 0&&(n=0),e===void 0&&(e=h.length);var l=0;if(s(h,n,e))for(var a=n;a<e;a++){var o=h[a];o[i]===r&&l++}return l};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){var i,r=[null];for(i=3;i<arguments.length;i++)r.push(arguments[i]);for(i=0;i<s.length;i++)r[0]=s[i],f.apply(h,r);return s};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(68),f=function(h,i,r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=h.length),s(h,n,e)){var l,a=[null];for(l=5;l<arguments.length;l++)a.push(arguments[l]);for(l=n;l<e;l++)a[0]=h[l],i.apply(r,a)}return h};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){var h=s.indexOf(f);if(h>0){var i=s[h-1],r=s.indexOf(i);s[h]=i,s[r]=f}return s};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){var i=s.indexOf(f);if(i===-1||h<0||h>=s.length)throw new Error("Supplied index out of bounds");return i!==h&&(s.splice(i,1),s.splice(h,0,f)),f};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){var h=s.indexOf(f);if(h!==-1&&h<s.length-1){var i=s[h+1],r=s.indexOf(i);s[h]=i,s[r]=f}return s};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i){for(var r=[],n=s;n<=f;n++)if(h||i){var e=h?h+n.toString():n.toString();i&&(e=e.concat(i)),r.push(e)}else r.push(n);return r};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(332),f=function(h,i,r){h===void 0&&(h=0),i===void 0&&(i=null),r===void 0&&(r=1),i===null&&(i=h,h=0);for(var n=[],e=Math.max(s((i-h)/(r||1)),0),l=0;l<e;l++)n.push(h),h+=r;return n};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(80),f=function(h,i,r,n){if(n===void 0&&(n=h),i<0||i>h.length-1)throw new Error("Index out of bounds");var e=s(h,i);return r&&r.call(n,e),e};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(68),f=function(h,i,r,n,e){if(i===void 0&&(i=0),r===void 0&&(r=h.length),e===void 0&&(e=h),s(h,i,r)){var l=r-i,a=h.splice(i,l);if(n)for(var o=0;o<a.length;o++){var u=a[o];n.call(e,u)}return a}else return[]};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(80),f=function(h,i,r){i===void 0&&(i=0),r===void 0&&(r=h.length);var n=i+Math.floor(Math.random()*r);return s(h,n)};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){var i=s.indexOf(f),r=s.indexOf(h);return i!==-1&&r===-1?(s[i]=h,!0):!1};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){var h=s.indexOf(f);return h!==-1&&h>0&&(s.splice(h,1),s.unshift(f)),f};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(68),f=function(h,i,r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=h.length),s(h,n,e))for(var l=n;l<e;l++){var a=h[l];a.hasOwnProperty(i)&&(a[i]=r)}return h};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){if(f!==h){var i=s.indexOf(f),r=s.indexOf(h);if(i<0||r<0)throw new Error("Supplied items must be elements of the same array");return s[i]=h,s[r]=f,s}};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(186),h=t(23),i=t(22),r=new s({Extends:f,initialize:function(e){f.call(this),this.scene=e,this.systems=e.sys,e.sys.events.once(i.BOOT,this.boot,this),e.sys.events.on(i.START,this.start,this)},boot:function(){this.systems.events.once(i.DESTROY,this.destroy,this)},start:function(){var n=this.systems.events;n.on(i.PRE_UPDATE,this.update,this),n.on(i.UPDATE,this.sceneUpdate,this),n.once(i.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(n,e){for(var l=this._active,a=l.length,o=0;o<a;o++){var u=l[o];u.active&&u.preUpdate.call(u,n,e)}},shutdown:function(){for(var n=this._active.length;n--;)this._active[n].destroy(!0);for(n=this._pending.length;n--;)this._pending[n].destroy(!0);for(n=this._destroy.length;n--;)this._destroy[n].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var e=this.systems.events;e.off(i.PRE_UPDATE,this.preUpdate,this),e.off(i.UPDATE,this.sceneUpdate,this),e.off(i.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(i.START,this.start,this),this.scene=null,this.systems=null}});h.register("UpdateList",r,"updateList"),c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={PROCESS_QUEUE_ADD:t(943),PROCESS_QUEUE_REMOVE:t(944)}},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="add"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="remove"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){if(h===void 0)return h={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],scaleX:0,scaleY:0},h;var i=s.text,r=i.length,n=s.maxWidth,e=s.wordWrapCharCode,l=Number.MAX_VALUE,a=Number.MAX_VALUE,o=0,u=0,v=s.fontData.chars,d=s.fontData.lineHeight,p=s.letterSpacing,x=0,g=0,m=0,y=null,T=0,S=0,C=s.fontSize/s.fontData.size,P=C*s.scaleX,A=C*s.scaleY,M=null,O=0,I=[],B=Number.MAX_VALUE,G=0,z=0,N=0,L,R=[],F=null;if(n>0){for(L=0;L<r;L++){if(m=i.charCodeAt(L),m===10){F!==null&&(R.push({word:F.word,i:F.i,x:F.x*P,y:F.y*A,w:F.w*P,h:F.h*A,cr:!0}),F=null),x=0,g+=d,M=null;continue}if(y=v[m],!!y){if(M!==null)var Y=y.kerning[O];m===e?F!==null&&(R.push({word:F.word,i:F.i,x:F.x*P,y:F.y*A,w:F.w*P,h:F.h*A,cr:!1}),F=null):(F===null&&(F={word:"",i:L,x,y:g,w:0,h:d,cr:!1}),F.word=F.word.concat(i[L]),F.w+=y.xOffset+y.xAdvance+(Y!==void 0?Y:0)),x+=y.xAdvance+p,M=y,O=m}}F!==null&&R.push({word:F.word,i:F.i,x:F.x*P,y:F.y*A,w:F.w*P,h:F.h*A,cr:!1}),x=0,g=0,M=null,O=0;var D,X=0,U=[];for(L=0;L<R.length;L++){var V=R[L],w=V.x,W=V.x+V.w;if(D){var H=w-(D.x+D.w);X=w-(H+D.w),D=null}var K=w-X,J=W-X;K>n||J>n?(U.push(V.i-1),V.cr?(U.push(V.i+V.word.length),X=0,D=null):D=V):V.cr&&(U.push(V.i+V.word.length),X=0,D=null)}var Z=function(Q,et,$){return Q.substr(0,et)+$+Q.substr(et+1)};for(L=U.length-1;L>=0;L--)i=Z(i,U[L],`
`);h.wrappedText=i,r=i.length,R=[],F=null}for(L=0;L<r;L++){if(m=i.charCodeAt(L),m===10){F!==null&&(R.push({word:F.word,i:F.i,x:F.x*P,y:F.y*A,w:F.w*P,h:F.h*A}),F=null),x=0,g+=d,M=null,I[z]=N,N>G&&(G=N),N<B&&(B=N),z++,N=0;continue}if(y=v[m],!!y){if(T=x,S=g,M!==null){var q=y.kerning[O];T+=q!==void 0?q:0}l>T&&(l=T),a>S&&(a=S);var k=T+y.xAdvance,j=S+d;o<k&&(o=k),u<j&&(u=j),m===e?F!==null&&(R.push({word:F.word,i:F.i,x:F.x*P,y:F.y*A,w:F.w*P,h:F.h*A}),F=null):(F===null&&(F={word:"",i:L,x,y:g,w:0,h:d}),F.word=F.word.concat(i[L]),F.w+=y.xOffset+y.xAdvance+(q!==void 0?q:0)),x+=y.xAdvance+p,M=y,O=m,N=k*C}}F!==null&&R.push({word:F.word,i:F.i,x:F.x*P,y:F.y*A,w:F.w*P,h:F.h*A}),I[z]=N,N>G&&(G=N),N<B&&(B=N);var b=h.local,_=h.global,it=h.lines;return b.x=l*C,b.y=a*C,b.width=o*C,b.height=u*C,_.x=s.x-s.displayOriginX+l*P,_.y=s.y-s.displayOriginY+a*A,_.width=o*P,_.height=u*A,it.shortest=B,it.longest=G,it.lengths=I,f&&(b.x=Math.round(b.x),b.y=Math.round(b.y),b.width=Math.round(b.width),b.height=Math.round(b.height),_.x=Math.round(_.x),_.y=Math.round(_.y),_.width=Math.round(_.width),_.height=Math.round(_.height),it.shortest=Math.round(B),it.longest=Math.round(G)),h.words=R,h.lines.height=d,h.scaleX=s.scaleX,h.scaleY=s.scaleY,h};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(187),f=function(h,i,r,n,e,l,a){var o=h.sys.textures.getFrame(r,n),u=h.sys.cache.xml.get(e);if(o&&u){var v=s(u,l,a,o);return h.sys.cache.bitmapFont.add(i,{data:v,texture:r,frame:n}),!0}else return!1};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(1),f=t(1);s=t(948),f=t(949),c.exports={renderWebGL:s,renderCanvas:f}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(9),f=function(h,i,r,n,e){var l=i._text,a=l.length;if(a!==0){var o=this.pipeline;h.setPipeline(o,i);var u=o._tempMatrix1,v=o._tempMatrix2,d=o._tempMatrix3;v.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY),u.copyFrom(n.matrix),e?(u.multiplyWithOffset(e,-n.scrollX*i.scrollFactorX,-n.scrollY*i.scrollFactorY),v.e=i.x,v.f=i.y,u.multiply(v,d)):(v.e-=n.scrollX*i.scrollFactorX,v.f-=n.scrollY*i.scrollFactorY,u.multiply(v,d));var p=i.frame,x=p.glTexture,g=p.cutX,m=p.cutY,y=x.width,T=x.height,S=i._isTinted&&i.tintFill,C=s.getTintAppendFloatAlpha(i._tintTL,n.alpha*i._alphaTL),P=s.getTintAppendFloatAlpha(i._tintTR,n.alpha*i._alphaTR),A=s.getTintAppendFloatAlpha(i._tintBL,n.alpha*i._alphaBL),M=s.getTintAppendFloatAlpha(i._tintBR,n.alpha*i._alphaBR);o.setTexture2D(x,0);var O=0,I=0,B=0,G=0,z=i._letterSpacing,N,L=0,R=0,F=0,Y=0,D,X=i.fontData,U=X.chars,V=X.lineHeight,w=i._fontSize/X.size,W=i._align,H=0,K=0,J=i.getTextBounds(!1);i.maxWidth>0&&(l=J.wrappedText,a=l.length);var Z=i._bounds.lines;W===1?K=(Z.longest-Z.lengths[0])/2:W===2&&(K=Z.longest-Z.lengths[0]);for(var q=n.roundPixels,k=0;k<a;k++){if(B=l.charCodeAt(k),B===10){H++,W===1?K=(Z.longest-Z.lengths[H])/2:W===2&&(K=Z.longest-Z.lengths[H]),O=0,I+=V,D=null;continue}if(N=U[B],!!N){L=g+N.x,R=m+N.y,F=N.width,Y=N.height;var j=N.xOffset+O,b=N.yOffset+I;if(D!==null){var _=N.kerning[G];j+=_!==void 0?_:0}if(O+=N.xAdvance+z,D=N,G=B,!(F===0||Y===0||B===32)){j*=w,b*=w,j-=i.displayOriginX,b-=i.displayOriginY,j+=K;var it=L/y,Q=R/T,et=(L+F)/y,$=(R+Y)/T,tt=j+F*w,at=b+Y*w,st=d.getX(j,b),nt=d.getY(j,b),rt=d.getX(j,at),ot=d.getY(j,at),ht=d.getX(tt,at),lt=d.getY(tt,at),ut=d.getX(tt,b),ft=d.getY(tt,b);q&&(st=Math.round(st),nt=Math.round(nt),rt=Math.round(rt),ot=Math.round(ot),ht=Math.round(ht),lt=Math.round(lt),ut=Math.round(ut),ft=Math.round(ft)),o.batchQuad(st,nt,rt,ot,ht,lt,ut,ft,it,Q,et,$,C,P,A,M,S,x,0)}}}}};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(28),f=function(h,i,r,n,e){var l=i._text,a=l.length,o=h.currentContext;if(!(a===0||!s(h,o,i,n,e))){var u=i.frame,v=i.fontData.chars,d=i.fontData.lineHeight,p=i._letterSpacing,x=0,g=0,m=0,y=null,T=0,S=0,C=0,P=0,A=0,M=0,O=null,I=0,B=i.frame.source.image,G=u.cutX,z=u.cutY,N=i._fontSize/i.fontData.size,L=i._align,R=0,F=0,Y=i.getTextBounds(!1);i.maxWidth>0&&(l=Y.wrappedText,a=l.length);var D=i._bounds.lines;L===1?F=(D.longest-D.lengths[0])/2:L===2&&(F=D.longest-D.lengths[0]),o.translate(-i.displayOriginX,-i.displayOriginY);for(var X=n.roundPixels,U=0;U<a;U++){if(m=l.charCodeAt(U),m===10){R++,L===1?F=(D.longest-D.lengths[R])/2:L===2&&(F=D.longest-D.lengths[R]),x=0,g+=d,O=null;continue}if(y=v[m],!!y){if(T=G+y.x,S=z+y.y,C=y.width,P=y.height,A=y.xOffset+x,M=y.yOffset+g,O!==null){var V=y.kerning[I];A+=V!==void 0?V:0}A*=N,M*=N,A+=F,x+=y.xAdvance+p,O=y,I=m,!(C===0||P===0||m===32)&&(X&&(A=Math.round(A),M=Math.round(M)),o.save(),o.translate(A,M),o.scale(N,N),o.drawImage(B,T,S,C,P,0,0,C,P),o.restore())}}o.restore()}};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(1),f=t(1);s=t(951),f=t(952),c.exports={renderWebGL:s,renderCanvas:f}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(9),f=function(h,i,r,n,e){var l=i.getRenderList();if(l.length!==0){var a=this.pipeline;h.setPipeline(a,i);var o=n.scrollX*i.scrollFactorX,u=n.scrollY*i.scrollFactorY,v=a._tempMatrix1;v.copyFrom(n.matrix),e&&(v.multiplyWithOffset(e,-o,-u),o=0,u=0);for(var d=i.x-o,p=i.y-u,x=-1,g=!1,m=n.alpha*i.alpha,y=n.roundPixels,T=0;T<l.length;T++){var S=l[T],C=S.frame,P=S.alpha*m;if(P!==0){var A=C.width,M=C.height,O=d+S.x+C.x,I=p+S.y+C.y;S.flipX&&(A*=-1,O+=C.width),S.flipY&&(M*=-1,I+=C.height);var B=O+A,G=I+M,z=v.getX(O,I),N=v.getY(O,I),L=v.getX(B,G),R=v.getY(B,G),F=s.getTintAppendFloatAlpha(S.tint,P);C.sourceIndex!==x&&(a.setTexture2D(C.glTexture,0),x=C.sourceIndex),y&&(z=Math.round(z),N=Math.round(N),L=Math.round(L),R=Math.round(R)),a.batchQuad(z,N,z,R,L,R,L,N,C.u0,C.v0,C.u1,C.v1,F,F,F,F,g,C.glTexture,0)&&(x=-1)}}}};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i,r){var n=f.getRenderList();if(n.length!==0){var e=s.currentContext,l=i.alpha*f.alpha;if(l!==0){e.globalCompositeOperation=s.blendModes[f.blendMode],e.imageSmoothingEnabled=!(!s.antialias||f.frame.source.scaleMode);var a=f.x-i.scrollX*f.scrollFactorX,o=f.y-i.scrollY*f.scrollFactorY;e.save(),r&&r.copyToContext(e);for(var u=i.roundPixels,v=0;v<n.length;v++){var d=n[v],p=d.flipX||d.flipY,x=d.frame,g=x.canvasData,m=x.x,y=x.y,T=1,S=1,C=d.alpha*l;C!==0&&(e.globalAlpha=C,p?(d.flipX&&(T=-1,m-=g.width),d.flipY&&(S=-1,y-=g.height),e.save(),e.translate(d.x+a,d.y+o),e.scale(T,S),e.drawImage(x.source.image,g.x,g.y,g.width,g.height,m,y,g.width,g.height),e.restore()):(u&&(m=Math.round(m),y=Math.round(y)),e.drawImage(x.source.image,g.x,g.y,g.width,g.height,m+d.x+a,y+d.y+o,g.width,g.height)))}e.restore()}}};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(94),h=new s({initialize:function(r,n,e,l,a){this.parent=r,this.x=n,this.y=e,this.frame=l,this.data={},this.tint=16777215,this._visible=a,this._alpha=1,this.flipX=!1,this.flipY=!1},setFrame:function(i){return i===void 0?this.frame=this.parent.frame:i instanceof f&&i.texture===this.parent.texture?this.frame=i:this.frame=this.parent.texture.get(i),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(i,r,n){return this.x=i,this.y=r,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,n&&this.setFrame(n),this},setPosition:function(i,r){return this.x=i,this.y=r,this},setFlipX:function(i){return this.flipX=i,this},setFlipY:function(i){return this.flipY=i,this},setFlip:function(i,r){return this.flipX=i,this.flipY=r,this},setVisible:function(i){return this.visible=i,this},setAlpha:function(i){return this.alpha=i,this},setTint:function(i){return this.tint=i,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(i){this.parent.dirty|=this._visible!==i,this._visible=i}},alpha:{get:function(){return this._alpha},set:function(i){this.parent.dirty|=this._alpha>0!=i>0,this._alpha=i}}});c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(1),f=t(1);s=t(955),f=t(956),c.exports={renderWebGL:s,renderCanvas:f}},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i,r){var n=f.list;if(n.length!==0){var e=f.localTransform;r?(e.loadIdentity(),e.multiply(r),e.translate(f.x,f.y),e.rotate(f.rotation),e.scale(f.scaleX,f.scaleY)):e.applyITRS(f.x,f.y,f.rotation,f.scaleX,f.scaleY);var l=f.blendMode!==-1;l||s.setBlendMode(0);for(var a=f.alpha,o=f.scrollFactorX,u=f.scrollFactorY,v=n,d=n.length,p=0;p<d;p++){var x=n[p];if(x.willRender(i)){var g,m,y,T;if(x.alphaTopLeft!==void 0)g=x.alphaTopLeft,m=x.alphaTopRight,y=x.alphaBottomLeft,T=x.alphaBottomRight;else{var S=x.alpha;g=S,m=S,y=S,T=S}var C=x.scrollFactorX,P=x.scrollFactorY;!l&&x.blendMode!==s.currentBlendMode&&s.setBlendMode(x.blendMode);var A=x.mask;A&&A.preRenderWebGL(s,x,i);var M=x.type;M!==s.currentType&&(s.newType=!0,s.currentType=M),s.nextTypeMatch=p<d-1?v[p+1].type===s.currentType:!1,x.setScrollFactor(C*o,P*u),x.setAlpha(g*a,m*a,y*a,T*a),x.renderWebGL(s,x,h,i,e),x.setAlpha(g,m,y,T),x.setScrollFactor(C,P),A&&A.postRenderWebGL(s,i),s.newType=!1}}}};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i,r){var n=f.list;if(n.length!==0){var e=f.localTransform;r?(e.loadIdentity(),e.multiply(r),e.translate(f.x,f.y),e.rotate(f.rotation),e.scale(f.scaleX,f.scaleY)):e.applyITRS(f.x,f.y,f.rotation,f.scaleX,f.scaleY);var l=f.blendMode!==-1;l||s.setBlendMode(0);var a=f._alpha,o=f.scrollFactorX,u=f.scrollFactorY;f.mask&&f.mask.preRenderCanvas(s,null,i);for(var v=0;v<n.length;v++){var d=n[v];if(d.willRender(i)){var p=d.alpha,x=d.scrollFactorX,g=d.scrollFactorY;!l&&d.blendMode!==s.currentBlendMode&&s.setBlendMode(d.blendMode),d.setScrollFactor(x*o,g*u),d.setAlpha(p*a),d.renderCanvas(s,d,h,i,e),d.setAlpha(p),d.setScrollFactor(x,g)}}f.mask&&f.mask.postRenderCanvas(s)}};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(1),f=t(1);s=t(396),f=t(396),c.exports={renderWebGL:s,renderCanvas:f}},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(1),f=t(1);s=t(960),f=t(961),c.exports={renderWebGL:s,renderCanvas:f}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(9),f=function(h,i,r,n,e){var l=i.text,a=l.length;if(a!==0){var o=this.pipeline;h.setPipeline(o,i);var u=i.cropWidth>0||i.cropHeight>0;u&&(o.flush(),h.pushScissor(i.x,i.y,i.cropWidth*i.scaleX,i.cropHeight*i.scaleY));var v=o._tempMatrix1,d=o._tempMatrix2,p=o._tempMatrix3,x=o._tempMatrix4;d.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY),v.copyFrom(n.matrix),e?(v.multiplyWithOffset(e,-n.scrollX*i.scrollFactorX,-n.scrollY*i.scrollFactorY),d.e=i.x,d.f=i.y,v.multiply(d,p)):(d.e-=n.scrollX*i.scrollFactorX,d.f-=n.scrollY*i.scrollFactorY,v.multiply(d,p));var g=i.frame,m=g.glTexture,y=g.cutX,T=g.cutY,S=m.width,C=m.height,P=i._isTinted&&i.tintFill,A=s.getTintAppendFloatAlpha(i._tintTL,n.alpha*i._alphaTL),M=s.getTintAppendFloatAlpha(i._tintTR,n.alpha*i._alphaTR),O=s.getTintAppendFloatAlpha(i._tintBL,n.alpha*i._alphaBL),I=s.getTintAppendFloatAlpha(i._tintBR,n.alpha*i._alphaBR);o.setTexture2D(m,0);var B=0,G=0,z=0,N=0,L=i.letterSpacing,R,F=0,Y=0,D=0,X=0,U,V=i.scrollX,w=i.scrollY,W=i.fontData,H=W.chars,K=W.lineHeight,J=i.fontSize/W.size,Z=0,q=i._align,k=0,j=0;i.getTextBounds(!1);var b=i._bounds.lines;q===1?j=(b.longest-b.lengths[0])/2:q===2&&(j=b.longest-b.lengths[0]);for(var _=n.roundPixels,it=i.displayCallback,Q=i.callbackData,et=0;et<a;et++){if(z=l.charCodeAt(et),z===10){k++,q===1?j=(b.longest-b.lengths[k])/2:q===2&&(j=b.longest-b.lengths[k]),B=0,G+=K,U=null;continue}if(R=H[z],!!R){F=y+R.x,Y=T+R.y,D=R.width,X=R.height;var $=R.xOffset+B-V,tt=R.yOffset+G-w;if(U!==null){var at=R.kerning[N];$+=at!==void 0?at:0}if(B+=R.xAdvance+L,U=R,N=z,!(D===0||X===0||z===32)){if(J=i.fontSize/i.fontData.size,Z=0,it){Q.color=0,Q.tint.topLeft=A,Q.tint.topRight=M,Q.tint.bottomLeft=O,Q.tint.bottomRight=I,Q.index=et,Q.charCode=z,Q.x=$,Q.y=tt,Q.scale=J,Q.rotation=Z,Q.data=R.data;var st=it(Q);$=st.x,tt=st.y,J=st.scale,Z=st.rotation,st.color?(A=st.color,M=st.color,O=st.color,I=st.color):(A=st.tint.topLeft,M=st.tint.topRight,O=st.tint.bottomLeft,I=st.tint.bottomRight),A=s.getTintAppendFloatAlpha(A,n.alpha*i._alphaTL),M=s.getTintAppendFloatAlpha(M,n.alpha*i._alphaTR),O=s.getTintAppendFloatAlpha(O,n.alpha*i._alphaBL),I=s.getTintAppendFloatAlpha(I,n.alpha*i._alphaBR)}$*=J,tt*=J,$-=i.displayOriginX,tt-=i.displayOriginY,$+=j,x.applyITRS($,tt,Z,J,J),p.multiply(x,d);var nt=F/S,rt=Y/C,ot=(F+D)/S,ht=(Y+X)/C,lt=D,ut=X,ft=d.e,vt=d.f,dt=ut*d.c+d.e,ct=ut*d.d+d.f,pt=lt*d.a+ut*d.c+d.e,xt=lt*d.b+ut*d.d+d.f,gt=lt*d.a+d.e,mt=lt*d.b+d.f;_&&(ft=Math.round(ft),vt=Math.round(vt),dt=Math.round(dt),ct=Math.round(ct),pt=Math.round(pt),xt=Math.round(xt),gt=Math.round(gt),mt=Math.round(mt)),o.batchQuad(ft,vt,dt,ct,pt,xt,gt,mt,nt,rt,ot,ht,A,M,O,I,P,m,0)}}}u&&(o.flush(),h.popScissor())}};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(28),f=function(h,i,r,n,e){var l=i._text,a=l.length,o=h.currentContext;if(!(a===0||!s(h,o,i,n,e))){var u=i.frame,v=i.displayCallback,d=i.callbackData,p=i.fontData.chars,x=i.fontData.lineHeight,g=i._letterSpacing,m=0,y=0,T=0,S=null,C=0,P=0,A=0,M=0,O=0,I=0,B=null,G=0,z=i.frame.source.image,N=u.cutX,L=u.cutY,R=0,F=0,Y=i._fontSize/i.fontData.size,D=i._align,X=0,U=0;i.getTextBounds(!1);var V=i._bounds.lines;D===1?U=(V.longest-V.lengths[0])/2:D===2&&(U=V.longest-V.lengths[0]),o.translate(-i.displayOriginX,-i.displayOriginY);var w=n.roundPixels;i.cropWidth>0&&i.cropHeight>0&&(o.beginPath(),o.rect(0,0,i.cropWidth,i.cropHeight),o.clip());for(var W=0;W<a;W++){if(F=Y,R=0,T=l.charCodeAt(W),T===10){X++,D===1?U=(V.longest-V.lengths[X])/2:D===2&&(U=V.longest-V.lengths[X]),m=0,y+=x,B=null;continue}if(S=p[T],!!S){if(C=N+S.x,P=L+S.y,A=S.width,M=S.height,O=S.xOffset+m-i.scrollX,I=S.yOffset+y-i.scrollY,B!==null){var H=S.kerning[G];O+=H!==void 0?H:0}if(v){d.index=W,d.charCode=T,d.x=O,d.y=I,d.scale=F,d.rotation=R,d.data=S.data;var K=v(d);O=K.x,I=K.y,F=K.scale,R=K.rotation}O*=F,I*=F,O+=U,m+=S.xAdvance+g,B=S,G=T,!(A===0||M===0||T===32)&&(w&&(O=Math.round(O),I=Math.round(I)),o.save(),o.translate(O,I),o.rotate(R),o.scale(F,F),o.drawImage(z,C,P,A,M,0,0,A,M),o.restore())}}o.restore()}};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(1),f=t(1);s=t(963),f=t(964),c.exports={renderWebGL:s,renderCanvas:f}},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i,r){var n=s.currentPipeline;s.clearPipeline();var e=s._tempMatrix1,l=s._tempMatrix2,a=s._tempMatrix3;l.applyITRS(f.x,f.y,f.rotation,f.scaleX,f.scaleY),e.copyFrom(i.matrix),r?(e.multiplyWithOffset(r,-i.scrollX*f.scrollFactorX,-i.scrollY*f.scrollFactorY),l.e=f.x,l.f=f.y,e.multiply(l,a)):(l.e-=i.scrollX*f.scrollFactorX,l.f-=i.scrollY*f.scrollFactorY,e.multiply(l,a)),f.render.call(f,s,i,a),s.rebindPipeline(n)};c.exports=t},function(c,E){},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(1),f=t(1);s=t(966),f=t(401),f=t(401),c.exports={renderWebGL:s,renderCanvas:f}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(192),f=t(9),h=function(e,l,a){this.x=e,this.y=l,this.width=a},i=function(e,l,a){this.points=[],this.pointsLength=1,this.points[0]=new h(e,l,a)},r=[],n=function(e,l,a,o,u){if(l.commandBuffer.length!==0){var v=this.pipeline;e.setPipeline(v,l);var d=l._tempMatrix1,p=l._tempMatrix2,x=l._tempMatrix3;x.loadIdentity(),p.applyITRS(l.x,l.y,l.rotation,l.scaleX,l.scaleY),d.copyFrom(o.matrix),u?(d.multiplyWithOffset(u,-o.scrollX*l.scrollFactorX,-o.scrollY*l.scrollFactorY),p.e=l.x,p.f=l.y,d.multiply(p)):(p.e-=o.scrollX*l.scrollFactorX,p.f-=o.scrollY*l.scrollFactorY,d.multiply(p));for(var g=l.commandBuffer,m=o.alpha*l.alpha,y=1,T=v.fillTint,S=v.strokeTint,C=0,P=0,A=0,M=.01,O=Math.PI*2,I,B=[],G=0,z=!1,N=null,L=f.getTintAppendFloatAlphaAndSwap,R=e.blankTexture.glTexture,F=0;F<g.length;F++)switch(I=g[F],I){case s.BEGIN_PATH:B.length=0,N=null,z=!0;break;case s.CLOSE_PATH:z=!1,N&&N.points.length&&N.points.push(N.points[0]);break;case s.FILL_PATH:for(G=0;G<B.length;G++)v.setTexture2D(R),v.batchFillPath(B[G].points,x,d);break;case s.STROKE_PATH:for(G=0;G<B.length;G++)v.setTexture2D(R),v.batchStrokePath(B[G].points,y,z,x,d);break;case s.LINE_STYLE:y=g[++F];var Y=g[++F],D=g[++F]*m,X=L(Y,D);S.TL=X,S.TR=X,S.BL=X,S.BR=X;break;case s.FILL_STYLE:var U=g[++F],V=g[++F]*m,w=L(U,V);T.TL=w,T.TR=w,T.BL=w,T.BR=w;break;case s.GRADIENT_FILL_STYLE:var W=g[++F]*m;T.TL=L(g[++F],W),T.TR=L(g[++F],W),T.BL=L(g[++F],W),T.BR=L(g[++F],W);break;case s.GRADIENT_LINE_STYLE:y=g[++F];var H=g[++F]*m;S.TL=L(g[++F],H),S.TR=L(g[++F],H),S.BL=L(g[++F],H),S.BR=L(g[++F],H);break;case s.ARC:var K=0,J=g[++F],Z=g[++F],q=g[++F],k=g[++F],j=g[++F],b=g[++F],_=g[++F];for(j-=k,b?j<-O?j=-O:j>0&&(j=-O+j%O):j>O?j=O:j<0&&(j=O+j%O),N===null&&(N=new i(J+Math.cos(k)*q,Z+Math.sin(k)*q,y),B.push(N),K+=M);K<1+_;)A=j*K+k,C=J+Math.cos(A)*q,P=Z+Math.sin(A)*q,N.points.push(new h(C,P,y)),K+=M;A=j+k,C=J+Math.cos(A)*q,P=Z+Math.sin(A)*q,N.points.push(new h(C,P,y));break;case s.FILL_RECT:v.setTexture2D(R),v.batchFillRect(g[++F],g[++F],g[++F],g[++F],x,d);break;case s.FILL_TRIANGLE:v.setTexture2D(R),v.batchFillTriangle(g[++F],g[++F],g[++F],g[++F],g[++F],g[++F],x,d);break;case s.STROKE_TRIANGLE:v.setTexture2D(R),v.batchStrokeTriangle(g[++F],g[++F],g[++F],g[++F],g[++F],g[++F],y,x,d);break;case s.LINE_TO:N!==null?N.points.push(new h(g[++F],g[++F],y)):(N=new i(g[++F],g[++F],y),B.push(N));break;case s.MOVE_TO:N=new i(g[++F],g[++F],y),B.push(N);break;case s.SAVE:r.push(x.copyToArray());break;case s.RESTORE:x.copyFromArray(r.pop());break;case s.TRANSLATE:J=g[++F],Z=g[++F],x.translate(J,Z);break;case s.SCALE:J=g[++F],Z=g[++F],x.scale(J,Z);break;case s.ROTATE:x.rotate(g[++F]);break;case s.SET_TEXTURE:var it=g[++F],Q=g[++F];v.currentFrame=it,v.setTexture2D(it.glTexture,0),v.tintEffect=Q,R=it.glTexture;break;case s.CLEAR_TEXTURE:v.currentFrame=e.blankTexture,v.tintEffect=2,R=e.blankTexture.glTexture;break}}};c.exports=n},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(1),f=t(1);s=t(968),f=t(969),c.exports={renderWebGL:s,renderCanvas:f}},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i,r){this.pipeline.batchSprite(f,i,r)};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i,r){s.batchSprite(f,f.frame,i,r)};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(1),f=t(1);s=t(971),f=t(972),c.exports={renderWebGL:s,renderCanvas:f}},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i,r){this.pipeline.batchSprite(f,i,r)};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i,r){s.batchSprite(f,f.frame,i,r)};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={GravityWell:t(402),Particle:t(403),ParticleEmitter:t(404),ParticleEmitterManager:t(194),Zones:t(978)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(119),h=t(69),i=t(2),r=t(58),n=new s({initialize:function(l,a,o,u){u===void 0&&(u=!1),this.propertyKey=a,this.propertyValue=o,this.defaultValue=o,this.steps=0,this.counter=0,this.start=0,this.end=0,this.ease,this.emitOnly=u,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.loadConfig(l)},loadConfig:function(e,l){e===void 0&&(e={}),l&&(this.propertyKey=l),this.propertyValue=i(e,this.propertyKey,this.defaultValue),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return this.propertyValue},onChange:function(e){return this.propertyValue=e,this.setMethods()},setMethods:function(){var e=this.propertyValue,l=typeof e;if(l==="number")this.onEmit=this.staticValueEmit,this.onUpdate=this.staticValueUpdate;else if(Array.isArray(e))this.onEmit=this.randomStaticValueEmit;else if(l==="function")this.emitOnly?this.onEmit=e:this.onUpdate=e;else if(l==="object"&&(this.has(e,"random")||this.hasBoth(e,"start","end")||this.hasBoth(e,"min","max"))){this.start=this.has(e,"start")?e.start:e.min,this.end=this.has(e,"end")?e.end:e.max;var a=this.hasBoth(e,"min","max")||!!e.random;if(a){var o=e.random;Array.isArray(o)&&(this.start=o[0],this.end=o[1]),this.onEmit=this.randomRangedValueEmit}if(this.has(e,"steps"))this.steps=e.steps,this.counter=this.start,this.onEmit=this.steppedEmit;else{var u=this.has(e,"ease")?e.ease:"Linear";this.ease=h(u),a||(this.onEmit=this.easedValueEmit),this.onUpdate=this.easeValueUpdate}}else l==="object"&&this.hasEither(e,"onEmit","onUpdate")&&(this.has(e,"onEmit")&&(this.onEmit=e.onEmit),this.has(e,"onUpdate")&&(this.onUpdate=e.onUpdate));return this},has:function(e,l){return e.hasOwnProperty(l)},hasBoth:function(e,l,a){return e.hasOwnProperty(l)&&e.hasOwnProperty(a)},hasEither:function(e,l,a){return e.hasOwnProperty(l)||e.hasOwnProperty(a)},defaultEmit:function(e,l,a){return a},defaultUpdate:function(e,l,a,o){return o},staticValueEmit:function(){return this.propertyValue},staticValueUpdate:function(){return this.propertyValue},randomStaticValueEmit:function(){var e=Math.floor(Math.random()*this.propertyValue.length);return this.propertyValue[e]},randomRangedValueEmit:function(e,l){var a=f(this.start,this.end);return e&&e.data[l]&&(e.data[l].min=a),a},steppedEmit:function(){var e=this.counter,l=this.counter+(this.end-this.start)/this.steps;return this.counter=r(l,this.start,this.end),e},easedValueEmit:function(e,l){if(e&&e.data[l]){var a=e.data[l];a.min=this.start,a.max=this.end}return this.start},easeValueUpdate:function(e,l,a){var o=e.data[l];return(o.max-o.min)*this.ease(a)+o.min}});c.exports=n},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(1),f=t(1);s=t(976),f=t(977),c.exports={renderWebGL:s,renderCanvas:f}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(9),f=function(h,i,r,n,e){var l=i.emitters.list,a=l.length;if(a!==0){var o=this.pipeline,u=o._tempMatrix1.copyFrom(n.matrix),v=o._tempMatrix2,d=o._tempMatrix3,p=o._tempMatrix4.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY);u.multiply(p),h.setPipeline(o);var x=n.roundPixels,g=i.defaultFrame.glTexture,m=s.getTintAppendFloatAlphaAndSwap;o.setTexture2D(g,0);for(var y=0;y<a;y++){var T=l[y],S=T.alive,C=S.length;if(!(!T.visible||C===0)){var P=n.scrollX*T.scrollFactorX,A=n.scrollY*T.scrollFactorY;e&&(u.multiplyWithOffset(e,-P,-A),P=0,A=0),h.setBlendMode(T.blendMode)&&o.setTexture2D(g,0),T.mask&&(T.mask.preRenderWebGL(h,T,n),o.setTexture2D(g,0));for(var M=0,O=0;O<C;O++){var I=S[O],B=I.alpha*n.alpha;if(!(B<=0)){var G=I.frame,z=-G.halfWidth,N=-G.halfHeight,L=z+G.width,R=N+G.height;d.applyITRS(0,0,I.rotation,I.scaleX,I.scaleY),d.e=I.x-P,d.f=I.y-A,u.multiply(d,v);var F=v.getX(z,N),Y=v.getY(z,N),D=v.getX(z,R),X=v.getY(z,R),U=v.getX(L,R),V=v.getY(L,R),w=v.getX(L,N),W=v.getY(L,N);x&&(F=Math.round(F),Y=Math.round(Y),D=Math.round(D),X=Math.round(X),U=Math.round(U),V=Math.round(V),w=Math.round(w),W=Math.round(W));var H=m(I.tint,B);o.batchQuad(F,Y,D,X,U,V,w,W,G.u0,G.v0,G.u1,G.v1,H,H,H,H,M,g,0)}}T.mask&&(T.mask.postRenderWebGL(h,n),o.setTexture2D(g,0))}}}};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i,r){var n=f.emitters.list,e=n.length;if(e!==0){var l=s._tempMatrix1.copyFrom(i.matrix),a=s._tempMatrix2,o=s._tempMatrix3,u=s._tempMatrix4.applyITRS(f.x,f.y,f.rotation,f.scaleX,f.scaleY);l.multiply(u);var v=i.roundPixels,d=s.currentContext;d.save();for(var p=0;p<e;p++){var x=n[p],g=x.alive,m=g.length;if(!(!x.visible||m===0)){var y=i.scrollX*x.scrollFactorX,T=i.scrollY*x.scrollFactorY;r&&(l.multiplyWithOffset(r,-y,-T),y=0,T=0),d.globalCompositeOperation=s.blendModes[x.blendMode];for(var S=0;S<m;S++){var C=g[S],P=C.alpha*i.alpha;if(!(P<=0)){var A=C.frame,M=A.canvasData,O=-A.halfWidth,I=-A.halfHeight;o.applyITRS(0,0,C.rotation,C.scaleX,C.scaleY),o.e=C.x-y,o.f=C.y-T,l.multiply(o,a),d.globalAlpha=P,d.save(),a.copyToContext(d),v&&(O=Math.round(O),I=Math.round(I)),d.imageSmoothingEnabled=!(!s.antialias||A.source.scaleMode),d.drawImage(A.source.image,M.x,M.y,M.width,M.height,O,I,M.width,M.height),d.restore()}}}}d.restore()}};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={DeathZone:t(405),EdgeZone:t(406),RandomZone:t(408)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(1),f=t(1);s=t(980),f=t(981),c.exports={renderWebGL:s,renderCanvas:f}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(9),f=function(h,i,r,n,e){var l=i.frame,a=l.width,o=l.height,u=s.getTintAppendFloatAlpha;this.pipeline.batchTexture(i,l.glTexture,a,o,i.x,i.y,a,o,i.scaleX,i.scaleY,i.rotation,i.flipX,!i.flipY,i.scrollFactorX,i.scrollFactorY,i.displayOriginX,i.displayOriginY,0,0,a,o,u(i._tintTL,n.alpha*i._alphaTL),u(i._tintTR,n.alpha*i._alphaTR),u(i._tintBL,n.alpha*i._alphaBL),u(i._tintBR,n.alpha*i._alphaBR),i._isTinted&&i.tintFill,0,0,n,e),h.setBlankTexture(!0)};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i,r){s.batchSprite(f,f.frame,i,r)};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(983),f=t(18),h={Parse:t(984)};h=f(!1,h,s),c.exports=h},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(6),f=function(h,i){var r=i.width,n=i.height,e=Math.floor(r/2),l=Math.floor(n/2),a=s(i,"chars","");if(a!==""){var o=s(i,"image",""),u=s(i,"offset.x",0),v=s(i,"offset.y",0),d=s(i,"spacing.x",0),p=s(i,"spacing.y",0),x=s(i,"lineSpacing",0),g=s(i,"charsPerRow",null);g===null&&(g=h.sys.textures.getFrame(o).width/r,g>a.length&&(g=a.length));for(var m=u,y=v,T={retroFont:!0,font:o,size:r,lineHeight:n+x,chars:{}},S=0,C=0;C<a.length;C++){var P=a.charCodeAt(C);T.chars[P]={x:m,y,width:r,height:n,centerX:e,centerY:l,xOffset:0,yOffset:0,xAdvance:r,data:{},kerning:{}},S++,S===g?(S=0,m=u,y+=n+p):m+=r+d}var A={data:T,frame:null,texture:o};return A}};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(1),f=t(1);s=t(986),f=t(987),c.exports={renderWebGL:s,renderCanvas:f}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(9),f=function(h,i,r,n,e){var l=i.pipeline;h.setPipeline(l,i);var a=l._tempMatrix1,o=l._tempMatrix2,u=l._tempMatrix3;o.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY),a.copyFrom(n.matrix),e?(a.multiplyWithOffset(e,-n.scrollX*i.scrollFactorX,-n.scrollY*i.scrollFactorY),o.e=i.x,o.f=i.y,a.multiply(o,u)):(o.e-=n.scrollX*i.scrollFactorX,o.f-=n.scrollY*i.scrollFactorY,a.multiply(o,u));var v=i.frame,d=v.glTexture,p=i.vertices,x=i.uv,g=i.colors,m=i.alphas,y=i.alpha,T=s.getTintAppendFloatAlphaAndSwap,S=n.roundPixels,C=p.length,P=Math.floor(C*.5);l.flush(),l.setTexture2D(d,0);var A=l.vertexViewF32,M=l.vertexViewU32,O=l.vertexCount*l.vertexComponentCount-1,I=0,B=i.tintFill;i.dirty&&i.updateVertices();for(var G=i.debugCallback,z=[],N=0;N<C;N+=2){var L=p[N+0],R=p[N+1],F=L*u.a+R*u.c+u.e,Y=L*u.b+R*u.d+u.f;S&&(F=Math.round(F),Y=Math.round(Y)),A[++O]=F,A[++O]=Y,A[++O]=x[N+0],A[++O]=x[N+1],A[++O]=B,M[++O]=T(g[I],n.alpha*(m[I]*y)),I++,G&&(z[N+0]=F,z[N+1]=Y)}G&&G.call(i,i,C,z),l.vertexCount+=P};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(){};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){var i=s.canvas,r=s.context,n=s.style,e=[],l=0,a=h.length;n.maxLines>0&&n.maxLines<h.length&&(a=n.maxLines),n.syncFont(i,r);for(var o=0;o<a;o++){var u=n.strokeThickness;u+=r.measureText(h[o]).width,n.wordWrap&&(u-=r.measureText(" ").width),e[o]=Math.ceil(u),l=Math.max(l,e[o])}var v=f.fontSize+n.strokeThickness,d=v*a,p=s.lineSpacing;return a>1&&(d+=p*(a-1)),{width:l,height:d,lines:a,lineWidths:e,lineSpacing:p,lineHeight:v}};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(1),f=t(1);s=t(990),f=t(991),c.exports={renderWebGL:s,renderCanvas:f}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(9),f=function(h,i,r,n,e){if(!(i.width===0||i.height===0)){var l=i.frame,a=l.width,o=l.height,u=s.getTintAppendFloatAlpha;this.pipeline.batchTexture(i,l.glTexture,a,o,i.x,i.y,a/i.style.resolution,o/i.style.resolution,i.scaleX,i.scaleY,i.rotation,i.flipX,i.flipY,i.scrollFactorX,i.scrollFactorY,i.displayOriginX,i.displayOriginY,0,0,a,o,u(i._tintTL,n.alpha*i._alphaTL),u(i._tintTR,n.alpha*i._alphaTR),u(i._tintBL,n.alpha*i._alphaBL),u(i._tintBR,n.alpha*i._alphaBR),i._isTinted&&i.tintFill,0,0,n,e)}};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i,r){f.width===0||f.height===0||s.batchSprite(f,f.frame,i,r)};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(15),h=t(6),i=t(993),r={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|MÃ‰qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},n=new s({initialize:function(l,a){this.parent=l,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(a,!1,!0);var o=h(a,"metrics",!1);o?this.metrics={ascent:h(o,"ascent",0),descent:h(o,"descent",0),fontSize:h(o,"fontSize",0)}:this.metrics=i(this)},setStyle:function(e,l,a){l===void 0&&(l=!0),a===void 0&&(a=!1),e&&e.hasOwnProperty("fontSize")&&typeof e.fontSize=="number"&&(e.fontSize=e.fontSize.toString()+"px");for(var o in r){var u=a?r[o][1]:this[o];o==="wordWrapCallback"||o==="wordWrapCallbackScope"?this[o]=h(e,r[o][0],u):this[o]=f(e,r[o][0],u)}var v=h(e,"font",null);v!==null&&this.setFont(v,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var d=h(e,"fill",null);return d!==null&&(this.color=d),l?this.update(!0):this.parent},syncFont:function(e,l){l.font=this._font},syncStyle:function(e,l){l.textBaseline="alphabetic",l.fillStyle=this.color,l.strokeStyle=this.stroke,l.lineWidth=this.strokeThickness,l.lineCap="round",l.lineJoin="round"},syncShadow:function(e,l){l?(e.shadowOffsetX=this.shadowOffsetX,e.shadowOffsetY=this.shadowOffsetY,e.shadowColor=this.shadowColor,e.shadowBlur=this.shadowBlur):(e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowColor=0,e.shadowBlur=0)},update:function(e){return e&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=i(this)),this.parent.updateText()},setFont:function(e,l){l===void 0&&(l=!0);var a=e,o="",u="";if(typeof e!="string")a=h(e,"fontFamily","Courier"),o=h(e,"fontSize","16px"),u=h(e,"fontStyle","");else{var v=e.split(" "),d=0;u=v.length>2?v[d++]:"",o=v[d++]||"16px",a=v[d++]||"Courier"}return(a!==this.fontFamily||o!==this.fontSize||u!==this.fontStyle)&&(this.fontFamily=a,this.fontSize=o,this.fontStyle=u,l&&this.update(!0)),this.parent},setFontFamily:function(e){return this.fontFamily!==e&&(this.fontFamily=e,this.update(!0)),this.parent},setFontStyle:function(e){return this.fontStyle!==e&&(this.fontStyle=e,this.update(!0)),this.parent},setFontSize:function(e){return typeof e=="number"&&(e=e.toString()+"px"),this.fontSize!==e&&(this.fontSize=e,this.update(!0)),this.parent},setTestString:function(e){return this.testString=e,this.update(!0)},setFixedSize:function(e,l){return this.fixedWidth=e,this.fixedHeight=l,e&&(this.parent.width=e),l&&(this.parent.height=l),this.update(!1)},setBackgroundColor:function(e){return this.backgroundColor=e,this.update(!1)},setFill:function(e){return this.color=e,this.update(!1)},setColor:function(e){return this.color=e,this.update(!1)},setResolution:function(e){return this.resolution=e,this.update(!1)},setStroke:function(e,l){return l===void 0&&(l=this.strokeThickness),e===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==e||this.strokeThickness!==l)&&(this.stroke=e,this.strokeThickness=l,this.update(!0)),this.parent},setShadow:function(e,l,a,o,u,v){return e===void 0&&(e=0),l===void 0&&(l=0),a===void 0&&(a="#000"),o===void 0&&(o=0),u===void 0&&(u=!1),v===void 0&&(v=!0),this.shadowOffsetX=e,this.shadowOffsetY=l,this.shadowColor=a,this.shadowBlur=o,this.shadowStroke=u,this.shadowFill=v,this.update(!1)},setShadowOffset:function(e,l){return e===void 0&&(e=0),l===void 0&&(l=e),this.shadowOffsetX=e,this.shadowOffsetY=l,this.update(!1)},setShadowColor:function(e){return e===void 0&&(e="#000"),this.shadowColor=e,this.update(!1)},setShadowBlur:function(e){return e===void 0&&(e=0),this.shadowBlur=e,this.update(!1)},setShadowStroke:function(e){return this.shadowStroke=e,this.update(!1)},setShadowFill:function(e){return this.shadowFill=e,this.update(!1)},setWordWrapWidth:function(e,l){return l===void 0&&(l=!1),this.wordWrapWidth=e,this.wordWrapUseAdvanced=l,this.update(!1)},setWordWrapCallback:function(e,l){return l===void 0&&(l=null),this.wordWrapCallback=e,this.wordWrapCallbackScope=l,this.update(!1)},setAlign:function(e){return e===void 0&&(e="left"),this.align=e,this.update(!1)},setMaxLines:function(e){return e===void 0&&(e=0),this.maxLines=e,this.update(!1)},getTextMetrics:function(){var e=this.metrics;return{ascent:e.ascent,descent:e.descent,fontSize:e.fontSize}},toJSON:function(){var e={};for(var l in r)e[l]=this[l];return e.metrics=this.getTextMetrics(),e},destroy:function(){this.parent=void 0}});c.exports=n},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(26),f=function(h){var i=s.create(this),r=i.getContext("2d");h.syncFont(i,r);var n=Math.ceil(r.measureText(h.testString).width*h.baselineX),e=n,l=2*e;e=e*h.baselineY|0,i.width=n,i.height=l,r.fillStyle="#f00",r.fillRect(0,0,n,l),r.font=h._font,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(h.testString,0,e);var a={ascent:0,descent:0,fontSize:0};if(!r.getImageData(0,0,n,l))return a.ascent=e,a.descent=e+6,a.fontSize=a.ascent+a.descent,s.remove(i),a;var o=r.getImageData(0,0,n,l).data,u=o.length,v=n*4,d,p,x=0,g=!1;for(d=0;d<e;d++){for(p=0;p<v;p+=4)if(o[x+p]!==255){g=!0;break}if(!g)x+=v;else break}for(a.ascent=e-d,x=u-v,g=!1,d=l;d>e;d--){for(p=0;p<v;p+=4)if(o[x+p]!==255){g=!0;break}if(!g)x-=v;else break}return a.descent=d-e,a.fontSize=a.ascent+a.descent,s.remove(i),a};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(1),f=t(1);s=t(995),f=t(996),c.exports={renderWebGL:s,renderCanvas:f}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(9),f=function(h,i,r,n,e){i.updateCanvas();var l=s.getTintAppendFloatAlpha;this.pipeline.batchTexture(i,i.fillPattern,i.displayFrame.width*i.tileScaleX,i.displayFrame.height*i.tileScaleY,i.x,i.y,i.width,i.height,i.scaleX,i.scaleY,i.rotation,i.flipX,i.flipY,i.scrollFactorX,i.scrollFactorY,i.originX*i.width,i.originY*i.height,0,0,i.width,i.height,l(i._tintTL,n.alpha*i._alphaTL),l(i._tintTR,n.alpha*i._alphaTR),l(i._tintBL,n.alpha*i._alphaBL),l(i._tintBR,n.alpha*i._alphaBR),i._isTinted&&i.tintFill,i.tilePositionX%i.displayFrame.width/i.displayFrame.width,i.tilePositionY%i.displayFrame.height/i.displayFrame.height,n,e)};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i,r){f.updateCanvas(),s.batchSprite(f,f.frame,i,r)};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(1),f=t(1);s=t(998),f=t(999),c.exports={renderWebGL:s,renderCanvas:f}},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i,r){f.videoTexture&&this.pipeline.batchSprite(f,i,r)};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i,r){f.videoTexture&&s.batchSprite(f,f.frame,i,r)};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(1),f=t(1);s=t(1001),f=t(1002),c.exports={renderWebGL:s,renderCanvas:f}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(98),f=t(70),h=function(i,r,n,e,l){var a=this.pipeline,o=a._tempMatrix1,u=a._tempMatrix2,v=a._tempMatrix3;i.setPipeline(a),u.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY),o.copyFrom(e.matrix),l?(o.multiplyWithOffset(l,-e.scrollX*r.scrollFactorX,-e.scrollY*r.scrollFactorY),u.e=r.x,u.f=r.y):(u.e-=e.scrollX*r.scrollFactorX,u.f-=e.scrollY*r.scrollFactorY),o.multiply(u,v);var d=r._displayOriginX,p=r._displayOriginY,x=e.alpha*r.alpha;r.isFilled&&s(a,v,r,x,d,p),r.isStroked&&f(a,r,x,d,p)};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(39),f=t(41),h=t(49),i=t(28),r=function(n,e,l,a,o){var u=n.currentContext;if(i(n,u,e,a,o)){var v=e.radius;u.beginPath(),u.arc(v-e.originX*(v*2),v-e.originY*(v*2),v,s(e._startAngle),s(e._endAngle),e.anticlockwise),e.closePath&&u.closePath(),e.isFilled&&(f(u,e),u.fill()),e.isStroked&&(h(u,e),u.stroke()),u.restore()}};c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(1),f=t(1);s=t(1004),f=t(1005),c.exports={renderWebGL:s,renderCanvas:f}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(98),f=t(70),h=function(i,r,n,e,l){var a=this.pipeline,o=a._tempMatrix1,u=a._tempMatrix2,v=a._tempMatrix3;i.setPipeline(a),u.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY),o.copyFrom(e.matrix),l?(o.multiplyWithOffset(l,-e.scrollX*r.scrollFactorX,-e.scrollY*r.scrollFactorY),u.e=r.x,u.f=r.y):(u.e-=e.scrollX*r.scrollFactorX,u.f-=e.scrollY*r.scrollFactorY),o.multiply(u,v);var d=r._displayOriginX+r._curveBounds.x,p=r._displayOriginY+r._curveBounds.y,x=e.alpha*r.alpha;r.isFilled&&s(a,v,r,x,d,p),r.isStroked&&f(a,r,x,d,p)};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(41),f=t(49),h=t(28),i=function(r,n,e,l,a){var o=r.currentContext;if(h(r,o,n,l,a)){var u=n._displayOriginX+n._curveBounds.x,v=n._displayOriginY+n._curveBounds.y,d=n.pathData,p=d.length-1,x=d[0]-u,g=d[1]-v;o.beginPath(),o.moveTo(x,g),n.closePath||(p-=2);for(var m=2;m<p;m+=2){var y=d[m]-u,T=d[m+1]-v;o.lineTo(y,T)}n.closePath&&o.closePath(),n.isFilled&&(s(o,n),o.fill()),n.isStroked&&(f(o,n),o.stroke()),o.restore()}};c.exports=i},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(1),f=t(1);s=t(1007),f=t(1008),c.exports={renderWebGL:s,renderCanvas:f}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(98),f=t(70),h=function(i,r,n,e,l){var a=this.pipeline,o=a._tempMatrix1,u=a._tempMatrix2,v=a._tempMatrix3;i.setPipeline(a),u.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY),o.copyFrom(e.matrix),l?(o.multiplyWithOffset(l,-e.scrollX*r.scrollFactorX,-e.scrollY*r.scrollFactorY),u.e=r.x,u.f=r.y):(u.e-=e.scrollX*r.scrollFactorX,u.f-=e.scrollY*r.scrollFactorY),o.multiply(u,v);var d=r._displayOriginX,p=r._displayOriginY,x=e.alpha*r.alpha;r.isFilled&&s(a,v,r,x,d,p),r.isStroked&&f(a,r,x,d,p)};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(41),f=t(49),h=t(28),i=function(r,n,e,l,a){var o=r.currentContext;if(h(r,o,n,l,a)){var u=n._displayOriginX,v=n._displayOriginY,d=n.pathData,p=d.length-1,x=d[0]-u,g=d[1]-v;o.beginPath(),o.moveTo(x,g),n.closePath||(p-=2);for(var m=2;m<p;m+=2){var y=d[m]-u,T=d[m+1]-v;o.lineTo(y,T)}o.closePath(),n.isFilled&&(s(o,n),o.fill()),n.isStroked&&(f(o,n),o.stroke()),o.restore()}};c.exports=i},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(1),f=t(1);s=t(1010),f=t(1011),c.exports={renderWebGL:s,renderCanvas:f}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(9),f=function(h,i,r,n,e){var l=this.pipeline,a=l._tempMatrix1,o=l._tempMatrix2,u=l._tempMatrix3;h.setPipeline(l),o.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY),a.copyFrom(n.matrix),e?(a.multiplyWithOffset(e,-n.scrollX*i.scrollFactorX,-n.scrollY*i.scrollFactorY),o.e=i.x,o.f=i.y):(o.e-=n.scrollX*i.scrollFactorX,o.f-=n.scrollY*i.scrollFactorY),a.multiply(o,u),u.translate(-i._displayOriginX,-i._displayOriginY);var v=n.alpha*i.alpha,d=i.width,p=i.height,x=i.cellWidth,g=i.cellHeight,m=Math.ceil(d/x),y=Math.ceil(p/g),T=x,S=g,C=x-(m*x-d),P=g-(y*g-p),A,M,O=i.showCells,I=i.showAltCells,B=i.showOutline,G=0,z=0,N=0,L=0,R=0;if(B&&(T--,S--,C===x&&C--,P===g&&P--),O&&i.fillAlpha>0)for(A=l.fillTint,M=s.getTintAppendFloatAlphaAndSwap(i.fillColor,i.fillAlpha*v),A.TL=M,A.TR=M,A.BL=M,A.BR=M,z=0;z<y;z++)for(I&&(N=z%2),G=0;G<m;G++){if(I&&N){N=0;continue}N++,L=G<m-1?T:C,R=z<y-1?S:P,l.setTexture2D(),l.batchFillRect(G*x,z*g,L,R)}if(I&&i.altFillAlpha>0)for(A=l.fillTint,M=s.getTintAppendFloatAlphaAndSwap(i.altFillColor,i.altFillAlpha*v),A.TL=M,A.TR=M,A.BL=M,A.BR=M,z=0;z<y;z++)for(I&&(N=z%2),G=0;G<m;G++){if(I&&!N){N=1;continue}N=0,L=G<m-1?T:C,R=z<y-1?S:P,l.setTexture2D(),l.batchFillRect(G*x,z*g,L,R)}if(B&&i.outlineFillAlpha>0){var F=l.strokeTint,Y=s.getTintAppendFloatAlphaAndSwap(i.outlineFillColor,i.outlineFillAlpha*v);for(F.TL=Y,F.TR=Y,F.BL=Y,F.BR=Y,G=1;G<m;G++){var D=G*x;l.setTexture2D(),l.batchLine(D,0,D,p,1,1,1,0,!1)}for(z=1;z<y;z++){var X=z*g;l.setTexture2D(),l.batchLine(0,X,d,X,1,1,1,0,!1)}}};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(41),f=t(49),h=t(28),i=function(r,n,e,l,a){var o=r.currentContext;if(h(r,o,n,l,a)){var u=-n._displayOriginX,v=-n._displayOriginY,d=l.alpha*n.alpha,p=n.width,x=n.height,g=n.cellWidth,m=n.cellHeight,y=Math.ceil(p/g),T=Math.ceil(x/m),S=g,C=m,P=g-(y*g-p),A=m-(T*m-x),M=n.showCells,O=n.showAltCells,I=n.showOutline,B=0,G=0,z=0,N=0,L=0;if(I&&(S--,C--,P===g&&P--,A===m&&A--),M&&n.fillAlpha>0)for(s(o,n),G=0;G<T;G++)for(O&&(z=G%2),B=0;B<y;B++){if(O&&z){z=0;continue}z++,N=B<y-1?S:P,L=G<T-1?C:A,o.fillRect(u+B*g,v+G*m,N,L)}if(O&&n.altFillAlpha>0)for(s(o,n,n.altFillColor,n.altFillAlpha*d),G=0;G<T;G++)for(O&&(z=G%2),B=0;B<y;B++){if(O&&!z){z=1;continue}z=0,N=B<y-1?S:P,L=G<T-1?C:A,o.fillRect(u+B*g,v+G*m,N,L)}if(I&&n.outlineFillAlpha>0){for(f(o,n,n.outlineFillColor,n.outlineFillAlpha*d),B=1;B<y;B++){var R=B*g;o.beginPath(),o.moveTo(R+u,v),o.lineTo(R+u,x+v),o.stroke()}for(G=1;G<T;G++){var F=G*m;o.beginPath(),o.moveTo(u,F+v),o.lineTo(u+p,F+v),o.stroke()}}o.restore()}};c.exports=i},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(1),f=t(1);s=t(1013),f=t(1014),c.exports={renderWebGL:s,renderCanvas:f}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(9),f=function(h,i,r,n,e){var l=this.pipeline,a=l._tempMatrix1,o=l._tempMatrix2,u=l._tempMatrix3;h.setPipeline(l),o.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY),a.copyFrom(n.matrix),e?(a.multiplyWithOffset(e,-n.scrollX*i.scrollFactorX,-n.scrollY*i.scrollFactorY),o.e=i.x,o.f=i.y):(o.e-=n.scrollX*i.scrollFactorX,o.f-=n.scrollY*i.scrollFactorY),a.multiply(o,u);var v=i.width,d=i.height,p=v/2,x=v/i.projection,g=n.alpha*i.alpha;if(i.isFilled){var m,y,T,S,C,P,A,M,O;i.showTop&&(m=s.getTintAppendFloatAlphaAndSwap(i.fillTop,g),y=u.getX(-p,-d),T=u.getY(-p,-d),S=u.getX(0,-x-d),C=u.getY(0,-x-d),P=u.getX(p,-d),A=u.getY(p,-d),M=u.getX(0,x-d),O=u.getY(0,x-d),l.setTexture2D(),l.batchQuad(y,T,S,C,P,A,M,O,0,0,1,1,m,m,m,m,2)),i.showLeft&&(m=s.getTintAppendFloatAlphaAndSwap(i.fillLeft,g),y=u.getX(-p,0),T=u.getY(-p,0),S=u.getX(0,x),C=u.getY(0,x),P=u.getX(0,x-d),A=u.getY(0,x-d),M=u.getX(-p,-d),O=u.getY(-p,-d),l.setTexture2D(),l.batchQuad(y,T,S,C,P,A,M,O,0,0,1,1,m,m,m,m,2)),i.showRight&&(m=s.getTintAppendFloatAlphaAndSwap(i.fillRight,g),y=u.getX(p,0),T=u.getY(p,0),S=u.getX(0,x),C=u.getY(0,x),P=u.getX(0,x-d),A=u.getY(0,x-d),M=u.getX(p,-d),O=u.getY(p,-d),l.setTexture2D(),l.batchQuad(y,T,S,C,P,A,M,O,0,0,1,1,m,m,m,m,2))}};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(41),f=t(28),h=function(i,r,n,e,l){var a=i.currentContext;if(f(i,a,r,e,l)&&r.isFilled){var o=r.width,u=r.height,v=o/2,d=o/r.projection;r.showTop&&(s(a,r,r.fillTop),a.beginPath(),a.moveTo(-v,-u),a.lineTo(0,-d-u),a.lineTo(v,-u),a.lineTo(v,-1),a.lineTo(0,d-1),a.lineTo(-v,-1),a.lineTo(-v,-u),a.fill()),r.showLeft&&(s(a,r,r.fillLeft),a.beginPath(),a.moveTo(-v,0),a.lineTo(0,d),a.lineTo(0,d-u),a.lineTo(-v,-u),a.lineTo(-v,0),a.fill()),r.showRight&&(s(a,r,r.fillRight),a.beginPath(),a.moveTo(v,0),a.lineTo(0,d),a.lineTo(0,d-u),a.lineTo(v,-u),a.lineTo(v,0),a.fill()),a.restore()}};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(1),f=t(1);s=t(1016),f=t(1017),c.exports={renderWebGL:s,renderCanvas:f}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(9),f=function(h,i,r,n,e){var l=this.pipeline,a=l._tempMatrix1,o=l._tempMatrix2,u=l._tempMatrix3;h.setPipeline(l),o.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY),a.copyFrom(n.matrix),e?(a.multiplyWithOffset(e,-n.scrollX*i.scrollFactorX,-n.scrollY*i.scrollFactorY),o.e=i.x,o.f=i.y):(o.e-=n.scrollX*i.scrollFactorX,o.f-=n.scrollY*i.scrollFactorY),a.multiply(o,u);var v=i.width,d=i.height,p=v/2,x=v/i.projection,g=i.isReversed,m=n.alpha*i.alpha;if(i.isFilled){var y,T,S,C,P,A,M;if(i.showTop&&g){y=s.getTintAppendFloatAlphaAndSwap(i.fillTop,m),T=u.getX(-p,-d),S=u.getY(-p,-d),C=u.getX(0,-x-d),P=u.getY(0,-x-d),A=u.getX(p,-d),M=u.getY(p,-d);var O=u.getX(0,x-d),I=u.getY(0,x-d);l.setTexture2D(),l.batchQuad(T,S,C,P,A,M,O,I,0,0,1,1,y,y,y,y,2)}i.showLeft&&(y=s.getTintAppendFloatAlphaAndSwap(i.fillLeft,m),g?(T=u.getX(-p,-d),S=u.getY(-p,-d),C=u.getX(0,x),P=u.getY(0,x),A=u.getX(0,x-d),M=u.getY(0,x-d)):(T=u.getX(-p,0),S=u.getY(-p,0),C=u.getX(0,x),P=u.getY(0,x),A=u.getX(0,x-d),M=u.getY(0,x-d)),l.setTexture2D(),l.batchTri(T,S,C,P,A,M,0,0,1,1,y,y,y,2)),i.showRight&&(y=s.getTintAppendFloatAlphaAndSwap(i.fillRight,m),g?(T=u.getX(p,-d),S=u.getY(p,-d),C=u.getX(0,x),P=u.getY(0,x),A=u.getX(0,x-d),M=u.getY(0,x-d)):(T=u.getX(p,0),S=u.getY(p,0),C=u.getX(0,x),P=u.getY(0,x),A=u.getX(0,x-d),M=u.getY(0,x-d)),l.setTexture2D(),l.batchTri(T,S,C,P,A,M,0,0,1,1,y,y,y,2))}};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(41),f=t(28),h=function(i,r,n,e,l){var a=i.currentContext;if(f(i,a,r,e,l)&&r.isFilled){var o=r.width,u=r.height,v=o/2,d=o/r.projection,p=r.isReversed;r.showTop&&p&&(s(a,r,r.fillTop),a.beginPath(),a.moveTo(-v,-u),a.lineTo(0,-d-u),a.lineTo(v,-u),a.lineTo(0,d-u),a.fill()),r.showLeft&&(s(a,r,r.fillLeft),a.beginPath(),p?(a.moveTo(-v,-u),a.lineTo(0,d),a.lineTo(0,d-u)):(a.moveTo(-v,0),a.lineTo(0,d),a.lineTo(0,d-u)),a.fill()),r.showRight&&(s(a,r,r.fillRight),a.beginPath(),p?(a.moveTo(v,-u),a.lineTo(0,d),a.lineTo(0,d-u)):(a.moveTo(v,0),a.lineTo(0,d),a.lineTo(0,d-u)),a.fill()),a.restore()}};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(1),f=t(1);s=t(1019),f=t(1020),c.exports={renderWebGL:s,renderCanvas:f}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(9),f=function(h,i,r,n,e){var l=this.pipeline,a=l._tempMatrix1,o=l._tempMatrix2;h.setPipeline(l),o.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY),a.copyFrom(n.matrix),e?(a.multiplyWithOffset(e,-n.scrollX*i.scrollFactorX,-n.scrollY*i.scrollFactorY),o.e=i.x,o.f=i.y):(o.e-=n.scrollX*i.scrollFactorX,o.f-=n.scrollY*i.scrollFactorY);var u=i._displayOriginX,v=i._displayOriginY,d=n.alpha*i.alpha;if(i.isStroked){var p=l.strokeTint,x=s.getTintAppendFloatAlphaAndSwap(i.strokeColor,i.strokeAlpha*d);p.TL=x,p.TR=x,p.BL=x,p.BR=x;var g=i._startWidth,m=i._endWidth;l.setTexture2D(),l.batchLine(i.geom.x1-u,i.geom.y1-v,i.geom.x2-u,i.geom.y2-v,g,m,1,0,!1,o,a)}};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(49),f=t(28),h=function(i,r,n,e,l){var a=i.currentContext;if(f(i,a,r,e,l)){var o=r._displayOriginX,u=r._displayOriginY;r.isStroked&&(s(a,r),a.beginPath(),a.moveTo(r.geom.x1-o,r.geom.y1-u),a.lineTo(r.geom.x2-o,r.geom.y2-u),a.stroke()),a.restore()}};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(1),f=t(1);s=t(1022),f=t(1023),c.exports={renderWebGL:s,renderCanvas:f}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(98),f=t(70),h=function(i,r,n,e,l){var a=this.pipeline,o=a._tempMatrix1,u=a._tempMatrix2,v=a._tempMatrix3;i.setPipeline(a),u.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY),o.copyFrom(e.matrix),l?(o.multiplyWithOffset(l,-e.scrollX*r.scrollFactorX,-e.scrollY*r.scrollFactorY),u.e=r.x,u.f=r.y):(u.e-=e.scrollX*r.scrollFactorX,u.f-=e.scrollY*r.scrollFactorY),o.multiply(u,v);var d=r._displayOriginX,p=r._displayOriginY,x=e.alpha*r.alpha;r.isFilled&&s(a,v,r,x,d,p),r.isStroked&&f(a,r,x,d,p)};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(41),f=t(49),h=t(28),i=function(r,n,e,l,a){var o=r.currentContext;if(h(r,o,n,l,a)){var u=n._displayOriginX,v=n._displayOriginY,d=n.pathData,p=d.length-1,x=d[0]-u,g=d[1]-v;o.beginPath(),o.moveTo(x,g),n.closePath||(p-=2);for(var m=2;m<p;m+=2){var y=d[m]-u,T=d[m+1]-v;o.lineTo(y,T)}o.closePath(),n.isFilled&&(s(o,n),o.fill()),n.isStroked&&(f(o,n),o.stroke()),o.restore()}};c.exports=i},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(1),f=t(1);s=t(1025),f=t(1026),c.exports={renderWebGL:s,renderCanvas:f}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(70),f=t(9),h=function(i,r,n,e,l){var a=this.pipeline,o=a._tempMatrix1,u=a._tempMatrix2,v=a._tempMatrix3;i.setPipeline(a),u.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY),o.copyFrom(e.matrix),l?(o.multiplyWithOffset(l,-e.scrollX*r.scrollFactorX,-e.scrollY*r.scrollFactorY),u.e=r.x,u.f=r.y):(u.e-=e.scrollX*r.scrollFactorX,u.f-=e.scrollY*r.scrollFactorY),o.multiply(u,v);var d=r._displayOriginX,p=r._displayOriginY,x=e.alpha*r.alpha;if(r.isFilled){var g=a.fillTint,m=f.getTintAppendFloatAlphaAndSwap(r.fillColor,r.fillAlpha*x);g.TL=m,g.TR=m,g.BL=m,g.BR=m,a.setTexture2D(),a.batchFillRect(-d,-p,r.width,r.height)}r.isStroked&&s(a,r,x,d,p)};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(41),f=t(49),h=t(28),i=function(r,n,e,l,a){var o=r.currentContext;if(h(r,o,n,l,a)){var u=n._displayOriginX,v=n._displayOriginY;n.isFilled&&(s(o,n),o.fillRect(-u,-v,n.width,n.height)),n.isStroked&&(f(o,n),o.beginPath(),o.rect(-u,-v,n.width,n.height),o.stroke()),o.restore()}};c.exports=i},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(1),f=t(1);s=t(1028),f=t(1029),c.exports={renderWebGL:s,renderCanvas:f}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(98),f=t(70),h=function(i,r,n,e,l){var a=this.pipeline,o=a._tempMatrix1,u=a._tempMatrix2,v=a._tempMatrix3;i.setPipeline(a),u.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY),o.copyFrom(e.matrix),l?(o.multiplyWithOffset(l,-e.scrollX*r.scrollFactorX,-e.scrollY*r.scrollFactorY),u.e=r.x,u.f=r.y):(u.e-=e.scrollX*r.scrollFactorX,u.f-=e.scrollY*r.scrollFactorY),o.multiply(u,v);var d=r._displayOriginX,p=r._displayOriginY,x=e.alpha*r.alpha;r.isFilled&&s(a,v,r,x,d,p),r.isStroked&&f(a,r,x,d,p)};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(41),f=t(49),h=t(28),i=function(r,n,e,l,a){var o=r.currentContext;if(h(r,o,n,l,a)){var u=n._displayOriginX,v=n._displayOriginY,d=n.pathData,p=d.length-1,x=d[0]-u,g=d[1]-v;o.beginPath(),o.moveTo(x,g),n.closePath||(p-=2);for(var m=2;m<p;m+=2){var y=d[m]-u,T=d[m+1]-v;o.lineTo(y,T)}o.closePath(),n.isFilled&&(s(o,n),o.fill()),n.isStroked&&(f(o,n),o.stroke()),o.restore()}};c.exports=i},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(1),f=t(1);s=t(1031),f=t(1032),c.exports={renderWebGL:s,renderCanvas:f}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(70),f=t(9),h=function(i,r,n,e,l){var a=this.pipeline,o=a._tempMatrix1,u=a._tempMatrix2,v=a._tempMatrix3;i.setPipeline(a),u.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY),o.copyFrom(e.matrix),l?(o.multiplyWithOffset(l,-e.scrollX*r.scrollFactorX,-e.scrollY*r.scrollFactorY),u.e=r.x,u.f=r.y):(u.e-=e.scrollX*r.scrollFactorX,u.f-=e.scrollY*r.scrollFactorY),o.multiply(u,v);var d=r._displayOriginX,p=r._displayOriginY,x=e.alpha*r.alpha;if(r.isFilled){var g=a.fillTint,m=f.getTintAppendFloatAlphaAndSwap(r.fillColor,r.fillAlpha*x);g.TL=m,g.TR=m,g.BL=m,g.BR=m;var y=r.geom.x1-d,T=r.geom.y1-p,S=r.geom.x2-d,C=r.geom.y2-p,P=r.geom.x3-d,A=r.geom.y3-p;a.setTexture2D(),a.batchFillTriangle(y,T,S,C,P,A,u,o)}r.isStroked&&s(a,r,x,d,p)};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(41),f=t(49),h=t(28),i=function(r,n,e,l,a){var o=r.currentContext;if(h(r,o,n,l,a)){var u=n._displayOriginX,v=n._displayOriginY,d=n.geom.x1-u,p=n.geom.y1-v,x=n.geom.x2-u,g=n.geom.y2-v,m=n.geom.x3-u,y=n.geom.y3-v;o.beginPath(),o.moveTo(d,p),o.lineTo(x,g),o.lineTo(m,y),o.closePath(),n.isFilled&&(s(o,n),o.fill()),n.isStroked&&(f(o,n),o.stroke()),o.restore()}};c.exports=i},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(188),f=t(5);f.register("blitter",function(h,i,r,n){return this.displayList.add(new s(this.scene,h,i,r,n))})},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(189),f=t(5);f.register("container",function(h,i,r){return this.displayList.add(new s(this.scene,h,i,r))})},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(395),f=t(5);f.register("dom",function(h,i,r,n,e){var l=new s(this.scene,h,i,r,n,e);return this.displayList.add(l),this.updateList.add(l),l})},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(190),f=t(5);f.register("dynamicBitmapText",function(h,i,r,n,e){return this.displayList.add(new s(this.scene,h,i,r,n,e))})},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(397),f=t(5);f.register("extern",function(){var h=new s(this.scene);return this.displayList.add(h),this.updateList.add(h),h})},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(191),f=t(5);f.register("graphics",function(h){return this.displayList.add(new s(this.scene,h))})},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(97),f=t(5);f.register("group",function(h,i){return this.updateList.add(new s(this.scene,h,i))})},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(107),f=t(5);f.register("image",function(h,i,r,n){return this.displayList.add(new s(this.scene,h,i,r,n))})},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(5),f=t(194);s.register("particles",function(h,i,r){var n=new f(this.scene,h,i,r);return this.displayList.add(n),this.updateList.add(n),n})},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(5),f=t(409);s.register("follower",function(h,i,r,n,e){var l=new f(this.scene,h,i,r,n,e);return this.displayList.add(l),this.updateList.add(l),l})},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(5),f=t(195);s.register("renderTexture",function(h,i,r,n,e,l){return this.displayList.add(new f(this.scene,h,i,r,n,e,l))})},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(197),f=t(5);f.register("rope",function(h,i,r,n,e,l,a,o){var u=new s(this.scene,h,i,r,n,e,l,a,o);return this.displayList.add(u),this.updateList.add(u)})},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(5),f=t(75);s.register("sprite",function(h,i,r,n){var e=new f(this.scene,h,i,r,n);return this.displayList.add(e),this.updateList.add(e),e})},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(132),f=t(5);f.register("bitmapText",function(h,i,r,n,e,l){return this.displayList.add(new s(this.scene,h,i,r,n,e,l))})},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(198),f=t(5);f.register("text",function(h,i,r,n){return this.displayList.add(new s(this.scene,h,i,r,n))})},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(199),f=t(5);f.register("tileSprite",function(h,i,r,n,e,l){return this.displayList.add(new s(this.scene,h,i,r,n,e,l))})},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(110),f=t(5);f.register("zone",function(h,i,r,n){return this.displayList.add(new s(this.scene,h,i,r,n))})},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(200),f=t(5);f.register("video",function(h,i,r){var n=new s(this.scene,h,i,r);return this.displayList.add(n),this.updateList.add(n),n})},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(410),f=t(5);f.register("arc",function(h,i,r,n,e,l,a,o){return this.displayList.add(new s(this.scene,h,i,r,n,e,l,a,o))}),f.register("circle",function(h,i,r,n,e){return this.displayList.add(new s(this.scene,h,i,r,0,360,!1,n,e))})},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(5),f=t(411);s.register("curve",function(h,i,r,n,e){return this.displayList.add(new f(this.scene,h,i,r,n,e))})},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(412),f=t(5);f.register("ellipse",function(h,i,r,n,e,l){return this.displayList.add(new s(this.scene,h,i,r,n,e,l))})},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(5),f=t(413);s.register("grid",function(h,i,r,n,e,l,a,o,u,v){return this.displayList.add(new f(this.scene,h,i,r,n,e,l,a,o,u,v))})},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(5),f=t(414);s.register("isobox",function(h,i,r,n,e,l,a){return this.displayList.add(new f(this.scene,h,i,r,n,e,l,a))})},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(5),f=t(415);s.register("isotriangle",function(h,i,r,n,e,l,a,o){return this.displayList.add(new f(this.scene,h,i,r,n,e,l,a,o))})},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(5),f=t(416);s.register("line",function(h,i,r,n,e,l,a,o){return this.displayList.add(new f(this.scene,h,i,r,n,e,l,a,o))})},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(5),f=t(417);s.register("polygon",function(h,i,r,n,e){return this.displayList.add(new f(this.scene,h,i,r,n,e))})},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(5),f=t(422);s.register("rectangle",function(h,i,r,n,e,l){return this.displayList.add(new f(this.scene,h,i,r,n,e,l))})},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(423),f=t(5);f.register("star",function(h,i,r,n,e,l,a){return this.displayList.add(new s(this.scene,h,i,r,n,e,l,a))})},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(5),f=t(424);s.register("triangle",function(h,i,r,n,e,l,a,o,u,v){return this.displayList.add(new f(this.scene,h,i,r,n,e,l,a,o,u,v))})},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(188),f=t(27),h=t(16),i=t(15);h.register("blitter",function(r,n){r===void 0&&(r={});var e=i(r,"key",null),l=i(r,"frame",null),a=new s(this.scene,0,0,e,l);return n!==void 0&&(r.add=n),f(this.scene,a,r),a})},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(27),f=t(189),h=t(16),i=t(15);h.register("container",function(r,n){r===void 0&&(r={});var e=i(r,"x",0),l=i(r,"y",0),a=new f(this.scene,e,l);return n!==void 0&&(r.add=n),s(this.scene,a,r),a})},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(190),f=t(27),h=t(16),i=t(15);h.register("dynamicBitmapText",function(r,n){r===void 0&&(r={});var e=i(r,"font",""),l=i(r,"text",""),a=i(r,"size",!1),o=new s(this.scene,0,0,e,l,a);return n!==void 0&&(r.add=n),f(this.scene,o,r),o})},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(16),f=t(191);s.register("graphics",function(h,i){h===void 0&&(h={}),i!==void 0&&(h.add=i);var r=new f(this.scene,h);return h.add&&this.scene.sys.displayList.add(r),r})},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(16),f=t(97);s.register("group",function(h){return new f(this.scene,null,h)})},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(27),f=t(16),h=t(15),i=t(107);f.register("image",function(r,n){r===void 0&&(r={});var e=h(r,"key",null),l=h(r,"frame",null),a=new i(this.scene,0,0,e,l);return n!==void 0&&(r.add=n),s(this.scene,a,r),a})},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(16),f=t(15),h=t(2),i=t(194);s.register("particles",function(r,n){r===void 0&&(r={});var e=f(r,"key",null),l=f(r,"frame",null),a=h(r,"emitters",null),o=new i(this.scene,e,l,a);n!==void 0&&(r.add=n);var u=h(r,"add",!1);return u&&this.displayList.add(o),this.updateList.add(o),o})},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(27),f=t(16),h=t(15),i=t(195);f.register("renderTexture",function(r,n){r===void 0&&(r={});var e=h(r,"x",0),l=h(r,"y",0),a=h(r,"width",32),o=h(r,"height",32),u=h(r,"key",void 0),v=h(r,"frame",void 0),d=new i(this.scene,e,l,a,o,u,v);return n!==void 0&&(r.add=n),s(this.scene,d,r),d})},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(27),f=t(16),h=t(15),i=t(6),r=t(197);f.register("rope",function(n,e){n===void 0&&(n={});var l=h(n,"key",null),a=h(n,"frame",null),o=h(n,"horizontal",!0),u=i(n,"points",void 0),v=i(n,"colors",void 0),d=i(n,"alphas",void 0),p=new r(this.scene,0,0,l,a,u,o,v,d);return e!==void 0&&(n.add=e),s(this.scene,p,n),p})},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(27),f=t(393),h=t(16),i=t(15),r=t(75);h.register("sprite",function(n,e){n===void 0&&(n={});var l=i(n,"key",null),a=i(n,"frame",null),o=new r(this.scene,0,0,l,a);return e!==void 0&&(n.add=e),s(this.scene,o,n),f(o,n),o})},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(132),f=t(27),h=t(16),i=t(15),r=t(6);h.register("bitmapText",function(n,e){n===void 0&&(n={});var l=r(n,"font",""),a=i(n,"text",""),o=i(n,"size",!1),u=r(n,"align",0),v=new s(this.scene,0,0,l,a,o,u);return e!==void 0&&(n.add=e),f(this.scene,v,n),v})},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(27),f=t(16),h=t(15),i=t(198);f.register("text",function(r,n){r===void 0&&(r={});var e=h(r,"text",""),l=h(r,"style",null),a=h(r,"padding",null);a!==null&&(l.padding=a);var o=new i(this.scene,0,0,e,l);return n!==void 0&&(r.add=n),s(this.scene,o,r),o.autoRound=h(r,"autoRound",!0),o.resolution=h(r,"resolution",1),o})},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(27),f=t(16),h=t(15),i=t(199);f.register("tileSprite",function(r,n){r===void 0&&(r={});var e=h(r,"x",0),l=h(r,"y",0),a=h(r,"width",512),o=h(r,"height",512),u=h(r,"key",""),v=h(r,"frame",""),d=new i(this.scene,e,l,a,o,u,v);return n!==void 0&&(r.add=n),s(this.scene,d,r),d})},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(16),f=t(15),h=t(110);s.register("zone",function(i){var r=f(i,"x",0),n=f(i,"y",0),e=f(i,"width",1),l=f(i,"height",e);return new h(this.scene,r,n,e,l)})},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(27),f=t(16),h=t(15),i=t(200);f.register("video",function(r,n){r===void 0&&(r={});var e=h(r,"key",null),l=new i(this.scene,0,0,e);return n!==void 0&&(r.add=n),s(this.scene,l,r),l})},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(1),f=t(1);s=t(1078),f=t(1079),c.exports={renderWebGL:s,renderCanvas:f}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(9),f=function(h,i,r,n,e){var l=this.pipeline;h.setPipeline(l,i);var a=l._tempMatrix1,o=l._tempMatrix2,u=l._tempMatrix3;o.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY),a.copyFrom(n.matrix),e?(a.multiplyWithOffset(e,-n.scrollX*i.scrollFactorX,-n.scrollY*i.scrollFactorY),o.e=i.x,o.f=i.y,a.multiply(o,u)):(o.e-=n.scrollX*i.scrollFactorX,o.f-=n.scrollY*i.scrollFactorY,a.multiply(o,u));var v=i.frame,d=v.glTexture,p=i.vertices,x=i.uv,g=i.colors,m=i.alphas,y=p.length,T=Math.floor(y*.5);l.vertexCount+T>l.vertexCapacity&&l.flush(),l.setTexture2D(d,0);for(var S=l.vertexViewF32,C=l.vertexViewU32,P=l.vertexCount*l.vertexComponentCount-1,A=0,M=i.tintFill,O=0;O<y;O+=2){var I=p[O+0],B=p[O+1],G=I*u.a+B*u.c+u.e,z=I*u.b+B*u.d+u.f;n.roundPixels&&(G=Math.round(G),z=Math.round(z)),S[++P]=G,S[++P]=z,S[++P]=x[O+0],S[++P]=x[O+1],S[++P]=M,C[++P]=s.getTintAppendFloatAlpha(g[A],n.alpha*m[A]),A++}l.vertexCount+=T};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(){};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(1),f=t(1);s=t(1081),f=t(1082),c.exports={renderWebGL:s,renderCanvas:f}},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i,r){if(f.shader){var n=s.currentPipeline;if(s.clearPipeline(),f.renderToTexture)f.load(),f.flush();else{var e=f._tempMatrix1,l=f._tempMatrix2,a=f._tempMatrix3;l.applyITRS(f.x,f.y,f.rotation,f.scaleX,f.scaleY),e.copyFrom(i.matrix),r?(e.multiplyWithOffset(r,-i.scrollX*f.scrollFactorX,-i.scrollY*f.scrollFactorY),l.e=f.x,l.f=f.y):(l.e-=i.scrollX*f.scrollFactorX,l.f-=i.scrollY*f.scrollFactorY),e.multiply(l,a),(s.width!==f._rendererWidth||s.height!==f._rendererHeight)&&f.projOrtho(0,s.width,s.height,0),f.load(a.matrix),f.flush()}s.rebindPipeline(n)}};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(){};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(134),f=t(5);f.register("mesh",function(h,i,r,n,e,l,a,o){return this.displayList.add(new s(this.scene,h,i,r,n,e,l,a,o))})},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(203),f=t(5);f.register("quad",function(h,i,r,n){return this.displayList.add(new s(this.scene,h,i,r,n))})},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(204),f=t(5);f.register("shader",function(h,i,r,n,e,l,a){return this.displayList.add(new s(this.scene,h,i,r,n,e,l,a))})},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(27),f=t(16),h=t(15),i=t(6),r=t(134);f.register("mesh",function(n,e){n===void 0&&(n={});var l=h(n,"key",null),a=h(n,"frame",null),o=i(n,"vertices",[]),u=i(n,"colors",[]),v=i(n,"alphas",[]),d=i(n,"uv",[]),p=new r(this.scene,0,0,o,d,u,v,l,a);return e!==void 0&&(n.add=e),s(this.scene,p,n),p})},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(27),f=t(16),h=t(15),i=t(203);f.register("quad",function(r,n){r===void 0&&(r={});var e=h(r,"x",0),l=h(r,"y",0),a=h(r,"key",null),o=h(r,"frame",null),u=new i(this.scene,e,l,a,o);return n!==void 0&&(r.add=n),s(this.scene,u,r),u})},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(27),f=t(16),h=t(15),i=t(204);f.register("shader",function(r,n){r===void 0&&(r={});var e=h(r,"key",null),l=h(r,"x",0),a=h(r,"y",0),o=h(r,"width",128),u=h(r,"height",128),v=new i(this.scene,e,l,a,o,u);return n!==void 0&&(r.add=n),s(this.scene,v,r),v})},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(429),h=t(23),i=t(22),r=new s({Extends:f,initialize:function(e){this.scene=e,this.systems=e.sys,e.sys.settings.isBooted||e.sys.events.once(i.BOOT,this.boot,this),f.call(this)},boot:function(){var n=this.systems.events;n.on(i.SHUTDOWN,this.shutdown,this),n.on(i.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});h.register("LightsPlugin",r,"lights"),c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(65);s.Area=t(1091),s.Circumference=t(268),s.CircumferencePoint=t(149),s.Clone=t(1092),s.Contains=t(55),s.ContainsPoint=t(1093),s.ContainsRect=t(1094),s.CopyFrom=t(1095),s.Equals=t(1096),s.GetBounds=t(1097),s.GetPoint=t(266),s.GetPoints=t(267),s.Offset=t(1098),s.OffsetPoint=t(1099),s.Random=t(150),c.exports=s},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return s.radius>0?Math.PI*s.radius*s.radius:0};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(65),f=function(h){return new s(h.x,h.y,h.radius)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(55),f=function(h,i){return s(h,i.x,i.y)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(55),f=function(h,i){return s(h,i.x,i.y)&&s(h,i.right,i.y)&&s(h,i.x,i.bottom)&&s(h,i.right,i.bottom)};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){return f.setTo(s.x,s.y,s.radius)};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){return s.x===f.x&&s.y===f.y&&s.radius===f.radius};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(11),f=function(h,i){return i===void 0&&(i=new s),i.x=h.left,i.y=h.top,i.width=h.diameter,i.height=h.diameter,i};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){return s.x+=f,s.y+=h,s};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){return s.x+=f.x,s.y+=f.y,s};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(95);s.Area=t(1101),s.Circumference=t(400),s.CircumferencePoint=t(193),s.Clone=t(1102),s.Contains=t(96),s.ContainsPoint=t(1103),s.ContainsRect=t(1104),s.CopyFrom=t(1105),s.Equals=t(1106),s.GetBounds=t(1107),s.GetPoint=t(398),s.GetPoints=t(399),s.Offset=t(1108),s.OffsetPoint=t(1109),s.Random=t(157),c.exports=s},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return s.isEmpty()?0:s.getMajorRadius()*s.getMinorRadius()*Math.PI};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(95),f=function(h){return new s(h.x,h.y,h.width,h.height)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(96),f=function(h,i){return s(h,i.x,i.y)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(96),f=function(h,i){return s(h,i.x,i.y)&&s(h,i.right,i.y)&&s(h,i.x,i.bottom)&&s(h,i.right,i.bottom)};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){return f.setTo(s.x,s.y,s.width,s.height)};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){return s.x===f.x&&s.y===f.y&&s.width===f.width&&s.height===f.height};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(11),f=function(h,i){return i===void 0&&(i=new s),i.x=h.left,i.y=h.top,i.width=h.width,i.height=h.height,i};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){return s.x+=f,s.y+=h,s};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){return s.x+=f.x,s.y+=f.y,s};c.exports=t},function(c,E,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(4),f=t(205),h=function(i,r,n){if(n===void 0&&(n=[]),f(i,r)){var e=i.x,l=i.y,a=i.radius,o=r.x,u=r.y,v=r.radius,d,p,x,g,m;if(l===u)m=(v*v-a*a-o*o+e*e)/(2*(e-o)),d=1,p=-2*u,x=o*o+m*m-2*o*m+u*u-v*v,g=p*p-4*d*x,g===0?n.push(new s(m,-p/(2*d))):g>0&&(n.push(new s(m,(-p+Math.sqrt(g))/(2*d))),n.push(new s(m,(-p-Math.sqrt(g))/(2*d))));else{var y=(e-o)/(l-u),T=(v*v-a*a-o*o+e*e-u*u+l*l)/(2*(l-u));d=y*y+1,p=2*l*y-2*T*y-2*e,x=e*e+l*l+T*T-a*a-2*l*T,g=p*p-4*d*x,g===0?(m=-p/(2*d),n.push(new s(m,T-m*y))):g>0&&(m=(-p+Math.sqrt(g))/(2*d),n.push(new s(m,T-m*y)),m=(-p-Math.sqrt(g))/(2*d),n.push(new s(m,T-m*y)))}}return n};c.exports=h},function(c,E,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(207),f=t(206),h=function(i,r,n){if(n===void 0&&(n=[]),f(i,r)){var e=r.getLineA(),l=r.getLineB(),a=r.getLineC(),o=r.getLineD();s(e,i,n),s(l,i,n),s(a,i,n),s(o,i,n)}return n};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(11),f=t(135),h=function(i,r,n){return n===void 0&&(n=new s),f(i,r)&&(n.x=Math.max(i.x,r.x),n.y=Math.max(i.y,r.y),n.width=Math.min(i.right,r.right)-n.x,n.height=Math.min(i.bottom,r.bottom)-n.y),n};c.exports=h},function(c,E,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(209),f=t(135),h=function(i,r,n){if(n===void 0&&(n=[]),f(i,r)){var e=i.getLineA(),l=i.getLineB(),a=i.getLineC(),o=i.getLineD();s(e,r,n),s(l,r,n),s(a,r,n),s(o,r,n)}return n};c.exports=h},function(c,E,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(433),f=t(209),h=function(i,r,n){if(n===void 0&&(n=[]),s(i,r)){var e=r.getLineA(),l=r.getLineB(),a=r.getLineC();f(e,i,n),f(l,i,n),f(a,i,n)}return n};c.exports=h},function(c,E,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(207),f=t(435),h=function(i,r,n){if(n===void 0&&(n=[]),f(i,r)){var e=i.getLineA(),l=i.getLineB(),a=i.getLineC();s(e,r,n),s(l,r,n),s(a,r,n)}return n};c.exports=h},function(c,E,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(438),f=t(436),h=function(i,r,n){if(n===void 0&&(n=[]),s(i,r)){var e=r.getLineA(),l=r.getLineB(),a=r.getLineC();f(i,e,n),f(i,l,n),f(i,a,n)}return n};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(440),f=function(h,i){if(!s(h,i))return!1;var r=Math.min(i.x1,i.x2),n=Math.max(i.x1,i.x2),e=Math.min(i.y1,i.y2),l=Math.max(i.y1,i.y2);return h.x>=r&&h.x<=n&&h.y>=e&&h.y<=l};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i,r,n){return n===void 0&&(n=0),!(f>s.right+n||h<s.left-n||i>s.bottom+n||r<s.top-n)};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(56);s.Angle=t(85),s.BresenhamPoints=t(288),s.CenterOn=t(1120),s.Clone=t(1121),s.CopyFrom=t(1122),s.Equals=t(1123),s.Extend=t(1124),s.GetEasedPoints=t(1125),s.GetMidPoint=t(1126),s.GetNearestPoint=t(1127),s.GetNormal=t(1128),s.GetPoint=t(275),s.GetPoints=t(153),s.GetShortestDistance=t(1129),s.Height=t(1130),s.Length=t(57),s.NormalAngle=t(441),s.NormalX=t(1131),s.NormalY=t(1132),s.Offset=t(1133),s.PerpSlope=t(1134),s.Random=t(154),s.ReflectAngle=t(1135),s.Rotate=t(1136),s.RotateAroundPoint=t(1137),s.RotateAroundXY=t(211),s.SetToAngle=t(1138),s.Slope=t(1139),s.Width=t(1140),c.exports=s},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){var i=f-(s.x1+s.x2)/2,r=h-(s.y1+s.y2)/2;return s.x1+=i,s.y1+=r,s.x2+=i,s.y2+=r,s};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(56),f=function(h){return new s(h.x1,h.y1,h.x2,h.y2)};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){return f.setTo(s.x1,s.y1,s.x2,s.y2)};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){return s.x1===f.x1&&s.y1===f.y1&&s.x2===f.x2&&s.y2===f.y2};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(57),f=function(h,i,r){r===void 0&&(r=i);var n=s(h),e=h.x2-h.x1,l=h.y2-h.y1;return i&&(h.x1=h.x1-e/n*i,h.y1=h.y1-l/n*i),r&&(h.x2=h.x2+e/n*r,h.y2=h.y2+l/n*r),h};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(320),f=t(69),h=t(4),i=function(r,n,e,l,a){l===void 0&&(l=0),a===void 0&&(a=[]);var o=[],u=r.x1,v=r.y1,d=r.x2-u,p=r.y2-v,x=f(n,a),g,m,y=e-1;for(g=0;g<y;g++)m=x(g/y),o.push(new h(u+d*m,v+p*m));if(m=x(1),o.push(new h(u+d*m,v+p*m)),l>0){var T=o[0],S=[T];for(g=1;g<o.length-1;g++){var C=o[g];s(T,C)>=l&&(S.push(C),T=C)}var P=o[o.length-1];return s(T,P)<l&&S.pop(),S.push(P),S}else return o};c.exports=i},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(4),f=function(h,i){return i===void 0&&(i=new s),i.x=(h.x1+h.x2)/2,i.y=(h.y1+h.y2)/2,i};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(4),f=function(h,i,r){r===void 0&&(r=new s);var n=h.x1,e=h.y1,l=h.x2,a=h.y2,o=(l-n)*(l-n)+(a-e)*(a-e);if(o===0)return r;var u=((i.x-n)*(l-n)+(i.y-e)*(a-e))/o;return r.x=n+u*(l-n),r.y=e+u*(a-e),r};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(13),f=t(85),h=t(4),i=function(r,n){n===void 0&&(n=new h);var e=f(r)-s.TAU;return n.x=Math.cos(e),n.y=Math.sin(e),n};c.exports=i},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){var h=s.x1,i=s.y1,r=s.x2,n=s.y2,e=(r-h)*(r-h)+(n-i)*(n-i);if(e===0)return!1;var l=((i-f.y)*(r-h)-(h-f.x)*(n-i))/e;return Math.abs(l)*Math.sqrt(e)};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return Math.abs(s.y1-s.y2)};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(13),f=t(85),h=function(i){return Math.cos(f(i)-s.TAU)};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(13),f=t(85),h=function(i){return Math.sin(f(i)-s.TAU)};c.exports=h},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){return s.x1+=f,s.y1+=h,s.x2+=f,s.y2+=h,s};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return-((s.x2-s.x1)/(s.y2-s.y1))};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(85),f=t(441),h=function(i,r){return 2*f(r)-Math.PI-s(i)};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(211),f=function(h,i){var r=(h.x1+h.x2)/2,n=(h.y1+h.y2)/2;return s(h,r,n,i)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(211),f=function(h,i,r){return s(h,i.x,i.y,r)};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i,r){return s.x1=f,s.y1=h,s.x2=f+Math.cos(i)*r,s.y2=h+Math.sin(i)*r,s};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return(s.y2-s.y1)/(s.x2-s.x1)};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return Math.abs(s.x1-s.x2)};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(4);s.Ceil=t(1142),s.Clone=t(1143),s.CopyFrom=t(1144),s.Equals=t(1145),s.Floor=t(1146),s.GetCentroid=t(1147),s.GetMagnitude=t(442),s.GetMagnitudeSq=t(443),s.GetRectangleFromPoints=t(1148),s.Interpolate=t(1149),s.Invert=t(1150),s.Negative=t(1151),s.Project=t(1152),s.ProjectUnit=t(1153),s.SetMagnitude=t(1154),c.exports=s},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return s.setTo(Math.ceil(s.x),Math.ceil(s.y))};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(4),f=function(h){return new s(h.x,h.y)};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){return f.setTo(s.x,s.y)};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){return s.x===f.x&&s.y===f.y};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return s.setTo(Math.floor(s.x),Math.floor(s.y))};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(4),f=function(h,i){if(i===void 0&&(i=new s),!Array.isArray(h))throw new Error("GetCentroid points argument must be an array");var r=h.length;if(r<1)throw new Error("GetCentroid points array must not be empty");if(r===1)i.x=h[0].x,i.y=h[0].y;else{for(var n=0;n<r;n++)i.x+=h[n].x,i.y+=h[n].y;i.x/=r,i.y/=r}return i};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(11),f=function(h,i){i===void 0&&(i=new s);for(var r=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY,e=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY,a=0;a<h.length;a++){var o=h[a];o.x>r&&(r=o.x),o.x<n&&(n=o.x),o.y>e&&(e=o.y),o.y<l&&(l=o.y)}return i.x=n,i.y=l,i.width=r-n,i.height=e-l,i};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(4),f=function(h,i,r,n){return r===void 0&&(r=0),n===void 0&&(n=new s),n.x=h.x+(i.x-h.x)*r,n.y=h.y+(i.y-h.y)*r,n};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return s.setTo(s.y,s.x)};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(4),f=function(h,i){return i===void 0&&(i=new s),i.setTo(-h.x,-h.y)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(4),f=t(443),h=function(i,r,n){n===void 0&&(n=new s);var e=i.x*r.x+i.y*r.y,l=e/f(r);return l!==0&&(n.x=l*r.x,n.y=l*r.y),n};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(4),f=function(h,i,r){r===void 0&&(r=new s);var n=h.x*i.x+h.y*i.y;return n!==0&&(r.x=n*i.x,r.y=n*i.y),r};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(442),f=function(h,i){if(h.x!==0||h.y!==0){var r=s(h);h.x/=r,h.y/=r}return h.x*=i,h.y*=i,h};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(201);s.Clone=t(1156),s.Contains=t(202),s.ContainsPoint=t(1157),s.GetAABB=t(418),s.GetNumberArray=t(1158),s.GetPoints=t(419),s.Perimeter=t(420),s.Reverse=t(1159),s.Smooth=t(421),c.exports=s},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(201),f=function(h){return new s(h.points)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(202),f=function(h,i){return s(h,i.x,i.y)};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){f===void 0&&(f=[]);for(var h=0;h<s.points.length;h++)f.push(s.points[h].x),f.push(s.points[h].y);return f};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return s.points.reverse(),s};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return s.width*s.height};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return s.x=Math.ceil(s.x),s.y=Math.ceil(s.y),s};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return s.x=Math.ceil(s.x),s.y=Math.ceil(s.y),s.width=Math.ceil(s.width),s.height=Math.ceil(s.height),s};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(11),f=function(h){return new s(h.x,h.y,h.width,h.height)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(48),f=function(h,i){return s(h,i.x,i.y)};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){return f.setTo(s.x,s.y,s.width,s.height)};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){return s.x===f.x&&s.y===f.y&&s.width===f.width&&s.height===f.height};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(212),f=function(h,i){var r=s(h);return r<s(i)?h.setSize(i.height*r,i.height):h.setSize(i.width,i.width/r),h.setPosition(i.centerX-h.width/2,i.centerY-h.height/2)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(212),f=function(h,i){var r=s(h);return r>s(i)?h.setSize(i.height*r,i.height):h.setSize(i.width,i.width/r),h.setPosition(i.centerX-h.width/2,i.centerY-h.height/2)};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return s.x=Math.floor(s.x),s.y=Math.floor(s.y),s};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return s.x=Math.floor(s.x),s.y=Math.floor(s.y),s.width=Math.floor(s.width),s.height=Math.floor(s.height),s};c.exports=t},function(c,E,t){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(11),f=function(h,i,r,n,e){return e===void 0&&(e=new s),e.setTo(Math.min(h,r),Math.min(i,n),Math.abs(h-r),Math.abs(i-n))};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(4),f=function(h,i){return i===void 0&&(i=new s),i.x=h.centerX,i.y=h.centerY,i};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(4),f=function(h,i){return i===void 0&&(i=new s),i.x=h.width,i.y=h.height,i};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(168),f=function(h,i,r){var n=h.centerX,e=h.centerY;return h.setSize(h.width+i*2,h.height+r*2),s(h,n,e)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(11),f=t(135),h=function(i,r,n){return n===void 0&&(n=new s),f(i,r)?(n.x=Math.max(i.x,r.x),n.y=Math.max(i.y,r.y),n.width=Math.min(i.right,r.right)-n.x,n.height=Math.min(i.bottom,r.bottom)-n.y):n.setEmpty(),n};c.exports=h},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){for(var h=s.x,i=s.right,r=s.y,n=s.bottom,e=0;e<f.length;e++)h=Math.min(h,f[e].x),i=Math.max(i,f[e].x),r=Math.min(r,f[e].y),n=Math.max(n,f[e].y);return s.x=h,s.y=r,s.width=i-h,s.height=n-r,s};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){var h=Math.min(s.x,f.x),i=Math.max(s.right,f.right);s.x=h,s.width=i-h;var r=Math.min(s.y,f.y),n=Math.max(s.bottom,f.bottom);return s.y=r,s.height=n-r,s};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){var i=Math.min(s.x,f),r=Math.max(s.right,f);s.x=i,s.width=r-i;var n=Math.min(s.y,h),e=Math.max(s.bottom,h);return s.y=n,s.height=e-n,s};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){return s.x+=f,s.y+=h,s};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){return s.x+=f.x,s.y+=f.y,s};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){return s.x<f.right&&s.right>f.x&&s.y<f.bottom&&s.bottom>f.y};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(4),f=t(39),h=function(i,r,n){n===void 0&&(n=new s),r=f(r);var e=Math.sin(r),l=Math.cos(r),a=l>0?i.width/2:i.width/-2,o=e>0?i.height/2:i.height/-2;return Math.abs(a*e)<Math.abs(o*l)?o=a*e/l:a=o*l/e,n.x=a+i.centerX,n.y=o+i.centerY,n};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(172),f=t(445),h=t(4),i=function(r,n,e){if(e===void 0&&(e=new h),f(r,n))switch(s(0,3)){case 0:e.x=r.x+Math.random()*(n.right-r.x),e.y=r.y+Math.random()*(n.top-r.y);break;case 1:e.x=n.x+Math.random()*(r.right-n.x),e.y=n.bottom+Math.random()*(r.bottom-n.bottom);break;case 2:e.x=r.x+Math.random()*(n.x-r.x),e.y=n.y+Math.random()*(r.bottom-n.y);break;case 3:e.x=n.right+Math.random()*(r.right-n.right),e.y=r.y+Math.random()*(n.bottom-r.y);break}return e};c.exports=i},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){return s.width===f.width&&s.height===f.height};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h){return h===void 0&&(h=f),s.width*=f,s.height*=h,s};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(71);s.Area=t(1187),s.BuildEquilateral=t(1188),s.BuildFromPolygon=t(1189),s.BuildRight=t(1190),s.CenterOn=t(1191),s.Centroid=t(446),s.CircumCenter=t(1192),s.CircumCircle=t(1193),s.Clone=t(1194),s.Contains=t(83),s.ContainsArray=t(210),s.ContainsPoint=t(1195),s.CopyFrom=t(1196),s.Decompose=t(439),s.Equals=t(1197),s.GetPoint=t(425),s.GetPoints=t(426),s.InCenter=t(448),s.Perimeter=t(1198),s.Offset=t(447),s.Random=t(158),s.Rotate=t(1199),s.RotateAroundPoint=t(1200),s.RotateAroundXY=t(213),c.exports=s},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){var f=s.x1,h=s.y1,i=s.x2,r=s.y2,n=s.x3,e=s.y3;return Math.abs(((n-f)*(r-h)-(i-f)*(e-h))/2)};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(71),f=function(h,i,r){var n=r*(Math.sqrt(3)/2),e=h,l=i,a=h+r/2,o=i+n,u=h-r/2,v=i+n;return new s(e,l,a,o,u,v)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(66),f=t(71),h=function(i,r,n,e,l){r===void 0&&(r=null),n===void 0&&(n=1),e===void 0&&(e=1),l===void 0&&(l=[]);for(var a=s(i,r),o,u,v,d,p,x,g,m,y,T=0;T<a.length;T+=3)o=a[T],u=a[T+1],v=a[T+2],d=i[o*2]*n,p=i[o*2+1]*e,x=i[u*2]*n,g=i[u*2+1]*e,m=i[v*2]*n,y=i[v*2+1]*e,l.push(new f(d,p,x,g,m,y));return l};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(71),f=function(h,i,r,n){n===void 0&&(n=r);var e=h,l=i,a=h,o=i-n,u=h+r,v=i;return new s(e,l,a,o,u,v)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(446),f=t(447),h=function(i,r,n,e){e===void 0&&(e=s);var l=e(i),a=r-l.x,o=n-l.y;return f(i,a,o)};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(3);function f(i,r,n,e){return i*e-r*n}var h=function(i,r){r===void 0&&(r=new s);var n=i.x3,e=i.y3,l=i.x1-n,a=i.y1-e,o=i.x2-n,u=i.y2-e,v=2*f(l,a,o,u),d=f(a,l*l+a*a,u,o*o+u*u),p=f(l,l*l+a*a,o,o*o+u*u);return r.x=n-d/v,r.y=e+p/v,r};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(65),f=function(h,i){i===void 0&&(i=new s);var r=h.x1,n=h.y1,e=h.x2,l=h.y2,a=h.x3,o=h.y3,u=e-r,v=l-n,d=a-r,p=o-n,x=u*(r+e)+v*(n+l),g=d*(r+a)+p*(n+o),m=2*(u*(o-l)-v*(a-e)),y,T;if(Math.abs(m)<1e-6){var S=Math.min(r,e,a),C=Math.min(n,l,o);y=(Math.max(r,e,a)-S)*.5,T=(Math.max(n,l,o)-C)*.5,i.x=S+y,i.y=C+T,i.radius=Math.sqrt(y*y+T*T)}else i.x=(p*x-v*g)/m,i.y=(u*g-d*x)/m,y=i.x-r,T=i.y-n,i.radius=Math.sqrt(y*y+T*T);return i};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(71),f=function(h){return new s(h.x1,h.y1,h.x2,h.y2,h.x3,h.y3)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(83),f=function(h,i){return s(h,i.x,i.y)};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){return f.setTo(s.x1,s.y1,s.x2,s.y2,s.x3,s.y3)};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){return s.x1===f.x1&&s.y1===f.y1&&s.x2===f.x2&&s.y2===f.y2&&s.x3===f.x3&&s.y3===f.y3};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(57),f=function(h){var i=h.getLineA(),r=h.getLineB(),n=h.getLineC();return s(i)+s(r)+s(n)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(213),f=t(448),h=function(i,r){var n=f(i);return s(i,n.x,n.y,r)};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(213),f=function(h,i,r){return s(h,i.x,i.y,r)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(179),f=t(18),h={CreateInteractiveObject:t(449),Events:t(54),Gamepad:t(1202),InputManager:t(365),InputPlugin:t(1214),InputPluginCache:t(136),Keyboard:t(1216),Mouse:t(1233),Pointer:t(368),Touch:t(1234)};h=f(!1,h,s),c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Axis:t(450),Button:t(451),Events:t(214),Gamepad:t(452),GamepadPlugin:t(1209),Configs:t(1210)}},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="down"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="up"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="connected"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="disconnected"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="down"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="up"},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(10),h=t(214),i=t(452),r=t(6),n=t(136),e=t(54),l=new s({Extends:f,initialize:function(o){f.call(this),this.scene=o.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=o,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,o.pluginEvents.once(e.BOOT,this.boot,this),o.pluginEvents.on(e.START,this.start,this)},boot:function(){var a=this.scene.sys.game,o=this.settings.input,u=a.config;this.enabled=r(o,"gamepad",u.inputGamepad)&&a.device.input.gamepads,this.target=r(o,"gamepad.target",u.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(e.DESTROY,this.destroy,this)},start:function(){this.enabled&&this.startListeners(),this.sceneInputPlugin.pluginEvents.once(e.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var a=this,o=this.target,u=function(v){v.defaultPrevented||!a.isActive()||(a.refreshPads(),a.queue.push(v))};this.onGamepadHandler=u,o.addEventListener("gamepadconnected",u,!1),o.addEventListener("gamepaddisconnected",u,!1),this.sceneInputPlugin.pluginEvents.on(e.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(e.UPDATE,this.update)},disconnectAll:function(){for(var a=0;a<this.gamepads.length;a++)this.gamepads.connected=!1},refreshPads:function(){var a=navigator.getGamepads();if(!a)this.disconnectAll();else for(var o=this.gamepads,u=0;u<a.length;u++){var v=a[u];if(v){var d=v.id,p=v.index,x=o[p];if(x)x.id!==d?(x.destroy(),o[p]=new i(this,v)):x.update(v);else{var g=new i(this,v);o[p]=g,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=g):this._pad3=g:this._pad2=g:this._pad1=g}}}},getAll:function(){for(var a=[],o=this.gamepads,u=0;u<o.length;u++)o[u]&&a.push(o[u]);return a},getPad:function(a){for(var o=this.gamepads,u=0;u<o.length;u++)if(o[u]&&o[u].index===a)return o[u]},update:function(){if(this.enabled){this.refreshPads();var a=this.queue.length;if(a!==0)for(var o=this.queue.splice(0,a),u=0;u<a;u++){var v=o[u],d=this.getPad(v.gamepad.index);v.type==="gamepadconnected"?this.emit(h.CONNECTED,d,v):v.type==="gamepaddisconnected"&&this.emit(h.DISCONNECTED,d,v)}}},shutdown:function(){this.stopListeners(),this.disconnectAll(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var a=0;a<this.gamepads.length;a++)this.gamepads[a]&&this.gamepads[a].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});n.register("GamepadPlugin",l,"gamepad","gamepad","inputGamepad"),c.exports=l},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={DUALSHOCK_4:t(1211),SNES_USB:t(1212),XBOX_360:t(1213)}},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(65),f=t(55),h=t(0),i=t(179),r=t(449),n=t(1215),e=t(53),l=t(95),a=t(96),o=t(54),u=t(10),v=t(2),d=t(47),p=t(136),x=t(7),g=t(23),m=t(11),y=t(48),T=t(22),S=t(71),C=t(83),P=new h({Extends:u,initialize:function(M){u.call(this),this.scene=M,this.systems=M.sys,this.settings=M.sys.settings,this.manager=M.sys.game.input,this.pluginEvents=new u,this.enabled=!0,this.displayList,this.cameras,p.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var O={cancelled:!1};this._eventContainer={stopPropagation:function(){O.cancelled=!0}},this._eventData=O,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,M.sys.events.once(T.BOOT,this.boot,this),M.sys.events.on(T.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(T.DESTROY,this.destroy,this),this.pluginEvents.emit(o.BOOT)},start:function(){var A=this.systems.events;A.on(T.TRANSITION_START,this.transitionIn,this),A.on(T.TRANSITION_OUT,this.transitionOut,this),A.on(T.TRANSITION_COMPLETE,this.transitionComplete,this),A.on(T.PRE_UPDATE,this.preUpdate,this),A.once(T.SHUTDOWN,this.shutdown,this),this.manager.events.on(o.GAME_OUT,this.onGameOut,this),this.manager.events.on(o.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(o.START)},onGameOver:function(A){this.isActive()&&this.emit(o.GAME_OVER,A.timeStamp,A)},onGameOut:function(A){this.isActive()&&this.emit(o.GAME_OUT,A.timeStamp,A)},preUpdate:function(){this.pluginEvents.emit(o.PRE_UPDATE);var A=this._pendingRemoval,M=this._pendingInsertion,O=A.length,I=M.length;if(!(O===0&&I===0)){for(var B=this._list,G=0;G<O;G++){var z=A[G],N=B.indexOf(z);N>-1&&(B.splice(N,1),this.clear(z,!0))}A.length=0,this._pendingRemoval.length=0,this._list=B.concat(M.splice(0))}},isActive:function(){return this.enabled&&this.scene.sys.isActive()},updatePoll:function(A,M){if(!this.isActive())return!1;if(this.pluginEvents.emit(o.UPDATE,A,M),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var O,I=this.manager,B=I.pointers,G=I.pointersTotal;for(O=0;O<G;O++)B[O].updateMotion();if(this._list.length===0)return!1;var z=this.pollRate;if(z===-1)return!1;if(z>0)if(this._pollTimer-=M,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var N=!1;for(O=0;O<G;O++){var L=0,R=B[O];this._tempZones=[],this._temp=this.hitTestPointer(R),this.sortGameObjects(this._temp),this.sortGameObjects(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),L+=this.processOverOutEvents(R),this.getDragState(R)===2&&this.processDragThresholdEvent(R,A),L>0&&(N=!0)}return N},update:function(A,M){if(!this.isActive())return!1;for(var O=M.length,I=!1,B=0;B<O;B++){var G=0,z=M[B];switch(this._tempZones=[],this._temp=this.hitTestPointer(z),this.sortGameObjects(this._temp),this.sortGameObjects(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),A){case i.MOUSE_DOWN:G+=this.processDragDownEvent(z),G+=this.processDownEvents(z),G+=this.processOverOutEvents(z);break;case i.MOUSE_UP:G+=this.processDragUpEvent(z),G+=this.processUpEvents(z),G+=this.processOverOutEvents(z);break;case i.TOUCH_START:G+=this.processDragDownEvent(z),G+=this.processDownEvents(z),G+=this.processOverEvents(z);break;case i.TOUCH_END:case i.TOUCH_CANCEL:G+=this.processDragUpEvent(z),G+=this.processUpEvents(z),G+=this.processOutEvents(z);break;case i.MOUSE_MOVE:case i.TOUCH_MOVE:G+=this.processDragMoveEvent(z),G+=this.processMoveEvents(z),G+=this.processOverOutEvents(z);break;case i.MOUSE_WHEEL:G+=this.processWheelEvent(z);break}G>0&&(I=!0)}return this._updatedThisFrame=!0,I},clear:function(A,M){M===void 0&&(M=!1);var O=A.input;if(O){M||this.queueForRemoval(A),O.gameObject=void 0,O.target=void 0,O.hitArea=void 0,O.hitAreaCallback=void 0,O.callbackContext=void 0,this.manager.resetCursor(O),A.input=null;var I=this._draggable.indexOf(A);return I>-1&&this._draggable.splice(I,1),I=this._drag[0].indexOf(A),I>-1&&this._drag[0].splice(I,1),I=this._over[0].indexOf(A),I>-1&&this._over[0].splice(I,1),A}},disable:function(A){A.input.enabled=!1},enable:function(A,M,O,I){return I===void 0&&(I=!1),A.input?A.input.enabled=!0:this.setHitArea(A,M,O),A.input&&I&&!A.input.dropZone&&(A.input.dropZone=I),this},hitTestPointer:function(A){for(var M=this.cameras.getCamerasBelowPointer(A),O=0;O<M.length;O++){for(var I=M[O],B=this.manager.hitTest(A,this._list,I),G=0;G<B.length;G++){var z=B[G];z.input.dropZone&&this._tempZones.push(z)}if(B.length>0)return A.camera=I,B}return A.camera=M[0],[]},processDownEvents:function(A){var M=0,O=this._temp,I=this._eventData,B=this._eventContainer;I.cancelled=!1;for(var G=!1,z=0;z<O.length;z++){var N=O[z];if(N.input){if(M++,N.emit(o.GAMEOBJECT_POINTER_DOWN,A,N.input.localX,N.input.localY,B),I.cancelled||!N.input){G=!0;break}if(this.emit(o.GAMEOBJECT_DOWN,A,N,B),I.cancelled||!N.input){G=!0;break}}}return!G&&this.manager&&(A.downElement===this.manager.game.canvas?this.emit(o.POINTER_DOWN,A,O):this.emit(o.POINTER_DOWN_OUTSIDE,A)),M},getDragState:function(A){return this._dragState[A.id]},setDragState:function(A,M){this._dragState[A.id]=M},processDragThresholdEvent:function(A,M){var O=!1,I=this.dragTimeThreshold,B=this.dragDistanceThreshold;if((B>0&&e(A.x,A.y,A.downX,A.downY)>=B||I>0&&M>=A.downTime+I)&&(O=!0),O)return this.setDragState(A,3),this.processDragStartList(A)},processDragStartList:function(A){if(this.getDragState(A)!==3)return 0;for(var M=this._drag[A.id],O=0;O<M.length;O++){var I=M[O],B=I.input;B.dragState=2,B.dragStartX=I.x,B.dragStartY=I.y,B.dragStartXGlobal=A.worldX,B.dragStartYGlobal=A.worldY,B.dragX=B.dragStartXGlobal-B.dragStartX,B.dragY=B.dragStartYGlobal-B.dragStartY,I.emit(o.GAMEOBJECT_DRAG_START,A,B.dragX,B.dragY),this.emit(o.DRAG_START,A,I)}return this.setDragState(A,4),M.length},processDragDownEvent:function(A){var M=this._temp;if(this._draggable.length===0||M.length===0||!A.primaryDown||this.getDragState(A)!==0)return 0;this.setDragState(A,1);for(var O=[],I=0;I<M.length;I++){var B=M[I];B.input.draggable&&B.input.dragState===0&&O.push(B)}return O.length===0?(this.setDragState(A,0),0):(O.length>1&&(this.sortGameObjects(O),this.topOnly&&O.splice(1)),this._drag[A.id]=O,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(A,3),this.processDragStartList(A)):(this.setDragState(A,2),0))},processDragMoveEvent:function(A){if(this.getDragState(A)===2&&this.processDragThresholdEvent(A,this.manager.game.loop.now),this.getDragState(A)!==4)return 0;for(var M=this._tempZones,O=this._drag[A.id],I=0;I<O.length;I++){var B=O[I],G=B.input,z=G.target;if(z){var N=M.indexOf(z);N===0?(B.emit(o.GAMEOBJECT_DRAG_OVER,A,z),this.emit(o.DRAG_OVER,A,B,z)):N>0?(B.emit(o.GAMEOBJECT_DRAG_LEAVE,A,z),this.emit(o.DRAG_LEAVE,A,B,z),G.target=M[0],z=G.target,B.emit(o.GAMEOBJECT_DRAG_ENTER,A,z),this.emit(o.DRAG_ENTER,A,B,z)):(B.emit(o.GAMEOBJECT_DRAG_LEAVE,A,z),this.emit(o.DRAG_LEAVE,A,B,z),M[0]?(G.target=M[0],z=G.target,B.emit(o.GAMEOBJECT_DRAG_ENTER,A,z),this.emit(o.DRAG_ENTER,A,B,z)):G.target=null)}else!z&&M[0]&&(G.target=M[0],z=G.target,B.emit(o.GAMEOBJECT_DRAG_ENTER,A,z),this.emit(o.DRAG_ENTER,A,B,z));var L,R;if(!B.parentContainer)L=A.worldX-G.dragX,R=A.worldY-G.dragY;else{var F=A.worldX-G.dragStartXGlobal,Y=A.worldY-G.dragStartYGlobal,D=B.getParentRotation(),X=F*Math.cos(D)+Y*Math.sin(D),U=Y*Math.cos(D)-F*Math.sin(D);X*=1/B.parentContainer.scaleX,U*=1/B.parentContainer.scaleY,L=X+G.dragStartX,R=U+G.dragStartY}B.emit(o.GAMEOBJECT_DRAG,A,L,R),this.emit(o.DRAG,A,B,L,R)}return O.length},processDragUpEvent:function(A){for(var M=this._drag[A.id],O=0;O<M.length;O++){var I=M[O],B=I.input;if(B&&B.dragState===2){B.dragState=0,B.dragX=B.localX-I.displayOriginX,B.dragY=B.localY-I.displayOriginY;var G=!1,z=B.target;z&&(I.emit(o.GAMEOBJECT_DROP,A,z),this.emit(o.DROP,A,I,z),B.target=null,G=!0),I.input&&(I.emit(o.GAMEOBJECT_DRAG_END,A,B.dragX,B.dragY,G),this.emit(o.DRAG_END,A,I,G))}}return this.setDragState(A,0),M.splice(0),0},processMoveEvents:function(A){var M=0,O=this._temp,I=this._eventData,B=this._eventContainer;I.cancelled=!1;for(var G=!1,z=0;z<O.length;z++){var N=O[z];if(N.input){if(M++,N.emit(o.GAMEOBJECT_POINTER_MOVE,A,N.input.localX,N.input.localY,B),I.cancelled||!N.input){G=!0;break}if(this.emit(o.GAMEOBJECT_MOVE,A,N,B),I.cancelled||!N.input){G=!0;break}if(this.topOnly)break}}return G||this.emit(o.POINTER_MOVE,A,O),M},processWheelEvent:function(A){var M=0,O=this._temp,I=this._eventData,B=this._eventContainer;I.cancelled=!1;for(var G=!1,z=A.deltaX,N=A.deltaY,L=A.deltaZ,R=0;R<O.length;R++){var F=O[R];if(F.input){if(M++,F.emit(o.GAMEOBJECT_POINTER_WHEEL,A,z,N,L,B),I.cancelled||!F.input){G=!0;break}if(this.emit(o.GAMEOBJECT_WHEEL,A,F,z,N,L,B),I.cancelled||!F.input){G=!0;break}}}return G||this.emit(o.POINTER_WHEEL,A,O,z,N,L),M},processOverEvents:function(A){var M=this._temp,O=0,I=M.length,B=[];if(I>0){var G=this.manager,z=this._eventData,N=this._eventContainer;z.cancelled=!1;for(var L=!1,R=0;R<I;R++){var F=M[R];if(F.input){if(B.push(F),G.setCursor(F.input),F.emit(o.GAMEOBJECT_POINTER_OVER,A,F.input.localX,F.input.localY,N),O++,z.cancelled||!F.input){L=!0;break}if(this.emit(o.GAMEOBJECT_OVER,A,F,N),z.cancelled||!F.input){L=!0;break}}}L||this.emit(o.POINTER_OVER,A,B)}return this._over[A.id]=B,O},processOutEvents:function(A){var M=this._over[A.id],O=0,I=M.length;if(I>0){var B=this.manager,G=this._eventData,z=this._eventContainer;G.cancelled=!1;var N=!1;this.sortGameObjects(M);for(var L=0;L<I;L++){var R=M[L];for(L=0;L<I;L++)if(R=M[L],!!R.input){if(B.resetCursor(R.input),R.emit(o.GAMEOBJECT_POINTER_OUT,A,z),O++,G.cancelled||!R.input){N=!0;break}if(this.emit(o.GAMEOBJECT_OUT,A,R,z),G.cancelled||!R.input){N=!0;break}}N||this.emit(o.POINTER_OUT,A,M)}this._over[A.id]=[]}return O},processOverOutEvents:function(A){var M=this._temp,O,I,B=[],G=[],z=[],N=this._over[A.id],L=this._drag[A.id],R=this.manager;for(O=0;O<N.length;O++)I=N[O],M.indexOf(I)===-1&&L.indexOf(I)===-1?B.push(I):z.push(I);for(O=0;O<M.length;O++)I=M[O],N.indexOf(I)===-1&&G.push(I);var F=B.length,Y=0,D=this._eventData,X=this._eventContainer;D.cancelled=!1;var U=!1;if(F>0){for(this.sortGameObjects(B),O=0;O<F;O++)if(I=B[O],!!I.input){if(R.resetCursor(I.input),I.emit(o.GAMEOBJECT_POINTER_OUT,A,X),Y++,D.cancelled||!I.input){U=!0;break}if(this.emit(o.GAMEOBJECT_OUT,A,I,X),D.cancelled||!I.input){U=!0;break}}U||this.emit(o.POINTER_OUT,A,B)}if(F=G.length,D.cancelled=!1,U=!1,F>0){for(this.sortGameObjects(G),O=0;O<F;O++)if(I=G[O],!!I.input){if(R.setCursor(I.input),I.emit(o.GAMEOBJECT_POINTER_OVER,A,I.input.localX,I.input.localY,X),Y++,D.cancelled||!I.input){U=!0;break}if(this.emit(o.GAMEOBJECT_OVER,A,I,X),D.cancelled||!I.input){U=!0;break}}U||this.emit(o.POINTER_OVER,A,G)}return N=z.concat(G),this._over[A.id]=this.sortGameObjects(N),Y},processUpEvents:function(A){var M=this._temp,O=this._eventData,I=this._eventContainer;O.cancelled=!1;for(var B=!1,G=0;G<M.length;G++){var z=M[G];if(z.input){if(z.emit(o.GAMEOBJECT_POINTER_UP,A,z.input.localX,z.input.localY,I),O.cancelled||!z.input){B=!0;break}if(this.emit(o.GAMEOBJECT_UP,A,z,I),O.cancelled||!z.input){B=!0;break}}}return!B&&this.manager&&(A.upElement===this.manager.game.canvas?this.emit(o.POINTER_UP,A,M):this.emit(o.POINTER_UP_OUTSIDE,A)),M.length},queueForInsertion:function(A){return this._pendingInsertion.indexOf(A)===-1&&this._list.indexOf(A)===-1&&this._pendingInsertion.push(A),this},queueForRemoval:function(A){return this._pendingRemoval.push(A),this},setDraggable:function(A,M){M===void 0&&(M=!0),Array.isArray(A)||(A=[A]);for(var O=0;O<A.length;O++){var I=A[O];I.input.draggable=M;var B=this._draggable.indexOf(I);M&&B===-1?this._draggable.push(I):!M&&B>-1&&this._draggable.splice(B,1)}return this},makePixelPerfect:function(A){A===void 0&&(A=1);var M=this.systems.textures;return n(M,A)},setHitArea:function(A,M,O){if(M===void 0)return this.setHitAreaFromTexture(A);Array.isArray(A)||(A=[A]);var I=!1,B=!1,G=!1,z=!1,N=!1,L=!0;if(x(M)){var R=M;M=v(R,"hitArea",null),O=v(R,"hitAreaCallback",null),I=v(R,"draggable",!1),B=v(R,"dropZone",!1),G=v(R,"cursor",!1),z=v(R,"useHandCursor",!1),N=v(R,"pixelPerfect",!1);var F=v(R,"alphaTolerance",1);N&&(M={},O=this.makePixelPerfect(F)),(!M||!O)&&(this.setHitAreaFromTexture(A),L=!1)}else typeof M=="function"&&!O&&(O=M,M={});for(var Y=0;Y<A.length;Y++){var D=A[Y];if(N&&D.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var X=D.input?D.input:r(D,M,O);X.customHitArea=L,X.dropZone=B,X.cursor=z?"pointer":G,D.input=X,I&&this.setDraggable(D),this.queueForInsertion(D)}return this},setHitAreaCircle:function(A,M,O,I,B){B===void 0&&(B=f);var G=new s(M,O,I);return this.setHitArea(A,G,B)},setHitAreaEllipse:function(A,M,O,I,B,G){G===void 0&&(G=a);var z=new l(M,O,I,B);return this.setHitArea(A,z,G)},setHitAreaFromTexture:function(A,M){M===void 0&&(M=y),Array.isArray(A)||(A=[A]);for(var O=0;O<A.length;O++){var I=A[O],B=I.frame,G=0,z=0;if(I.width?(G=I.width,z=I.height):B&&(G=B.realWidth,z=B.realHeight),I.type==="Container"&&(G===0||z===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}G!==0&&z!==0&&(I.input=r(I,new m(0,0,G,z),M),this.queueForInsertion(I))}return this},setHitAreaRectangle:function(A,M,O,I,B,G){G===void 0&&(G=y);var z=new m(M,O,I,B);return this.setHitArea(A,z,G)},setHitAreaTriangle:function(A,M,O,I,B,G,z,N){N===void 0&&(N=C);var L=new S(M,O,I,B,G,z);return this.setHitArea(A,L,N)},enableDebug:function(A,M){M===void 0&&(M=65280);var O=A.input;if(!O||!O.hitArea)return this;var I=O.hitArea,B=I.type,G=O.hitAreaDebug,z=this.systems.add,N=this.systems.updateList;G&&(N.remove(G),G.destroy(),G=null);var L=0,R=0;switch(B){case d.CIRCLE:G=z.arc(0,0,I.radius),L=I.x-I.radius,R=I.y-I.radius;break;case d.ELLIPSE:G=z.ellipse(0,0,I.width,I.height),L=I.x-I.width/2,R=I.y-I.height/2;break;case d.LINE:G=z.line(0,0,I.x1,I.y1,I.x2,I.y2);break;case d.POLYGON:G=z.polygon(0,0,I.points);break;case d.RECTANGLE:G=z.rectangle(0,0,I.width,I.height),L=I.x,R=I.y;break;case d.TRIANGLE:G=z.triangle(0,0,I.x1,I.y1,I.x2,I.y2,I.x3,I.y3);break}return G&&(G.isFilled=!1,G.preUpdate=function(){G.setStrokeStyle(1/A.scale,M),G.setDisplayOrigin(A.displayOriginX,A.displayOriginY);var F=A.x,Y=A.y,D=A.rotation,X=A.scaleX,U=A.scaleY;if(A.parentContainer){var V=A.getWorldTransformMatrix();F=V.tx,Y=V.ty,D=V.rotation,X=V.scaleX,U=V.scaleY}G.setRotation(D),G.setScale(X,U),G.setPosition(F+L,Y+R),G.setScrollFactor(A.scrollFactorX,A.scrollFactorY),G.setDepth(A.depth)},N.add(G),O.hitAreaDebug=G),this},removeDebug:function(A){var M=A.input;if(M&&M.hitAreaDebug){var O=M.hitAreaDebug;this.systems.updateList.remove(O),O.destroy(),M.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(A){return this.pollRate=A,this._pollTimer=0,this},setGlobalTopOnly:function(A){return this.manager.globalTopOnly=A,this},setTopOnly:function(A){return this.topOnly=A,this},sortGameObjects:function(A){return A.length<2?A:(this.scene.sys.depthSort(),A.sort(this.sortHandlerGO.bind(this)))},sortHandlerGO:function(A,M){if(!A.parentContainer&&!M.parentContainer)return this.displayList.getIndex(M)-this.displayList.getIndex(A);if(A.parentContainer===M.parentContainer)return M.parentContainer.getIndex(M)-A.parentContainer.getIndex(A);if(A.parentContainer===M)return-1;if(M.parentContainer===A)return 1;for(var O=A.getIndexList(),I=M.getIndexList(),B=Math.min(O.length,I.length),G=0;G<B;G++){var z=O[G],N=I[G];if(z!==N)return N-z}return I.length-O.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(A){return this.manager.addPointer(A)},setDefaultCursor:function(A){return this.manager.setDefaultCursor(A),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(o.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var A=0;A<10;A++)this._drag[A]=[],this._over[A]=[];this.removeAllListeners();var M=this.systems.events;M.off(T.TRANSITION_START,this.transitionIn,this),M.off(T.TRANSITION_OUT,this.transitionOut,this),M.off(T.TRANSITION_COMPLETE,this.transitionComplete,this),M.off(T.PRE_UPDATE,this.preUpdate,this),this.manager.events.off(o.GAME_OUT,this.onGameOut,this),this.manager.events.off(o.GAME_OVER,this.onGameOver,this),M.off(T.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.pluginEvents.emit(o.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(T.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});g.register("InputPlugin",P,"input"),c.exports=P},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){return function(h,i,r,n){var e=s.getPixelAlpha(i,r,n.texture.key,n.frame.name);return e&&e>=f}};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Events:t(137),KeyboardManager:t(366),KeyboardPlugin:t(1224),Key:t(453),KeyCodes:t(124),KeyCombo:t(454),JustDown:t(1229),JustUp:t(1230),DownDuration:t(1231),UpDuration:t(1232)}},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="keydown"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="keyup"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="keycombomatch"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="down"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="keydown-"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="keyup-"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="up"},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(10),h=t(137),i=t(20),r=t(6),n=t(54),e=t(136),l=t(453),a=t(124),o=t(454),u=t(1228),v=t(93),d=new s({Extends:f,initialize:function(x){f.call(this),this.game=x.systems.game,this.scene=x.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=x,this.manager=x.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],x.pluginEvents.once(n.BOOT,this.boot,this),x.pluginEvents.on(n.START,this.start,this)},boot:function(){var p=this.settings.input;this.enabled=r(p,"keyboard",!0);var x=r(p,"keyboard.capture",null);x&&this.addCaptures(x),this.sceneInputPlugin.pluginEvents.once(n.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.useQueue?this.sceneInputPlugin.pluginEvents.on(n.UPDATE,this.update,this):this.sceneInputPlugin.manager.events.on(n.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(n.SHUTDOWN,this.shutdown,this),this.game.events.on(i.BLUR,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},addCapture:function(p){return this.manager.addCapture(p),this},removeCapture:function(p){return this.manager.removeCapture(p),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:a.UP,down:a.DOWN,left:a.LEFT,right:a.RIGHT,space:a.SPACE,shift:a.SHIFT})},addKeys:function(p,x,g){x===void 0&&(x=!0),g===void 0&&(g=!1);var m={};if(typeof p=="string"){p=p.split(",");for(var y=0;y<p.length;y++){var T=p[y].trim();T&&(m[T]=this.addKey(T,x,g))}}else for(var S in p)m[S]=this.addKey(p[S],x,g);return m},addKey:function(p,x,g){x===void 0&&(x=!0),g===void 0&&(g=!1);var m=this.keys;if(p instanceof l){var y=m.indexOf(p);return y>-1?m[y]=p:m[p.keyCode]=p,x&&this.addCapture(p.keyCode),p.setEmitOnRepeat(g),p}return typeof p=="string"&&(p=a[p.toUpperCase()]),m[p]||(m[p]=new l(this,p),x&&this.addCapture(p),m[p].setEmitOnRepeat(g)),m[p]},removeKey:function(p,x){x===void 0&&(x=!1);var g=this.keys,m;if(p instanceof l){var y=g.indexOf(p);y>-1&&(m=this.keys[y],this.keys[y]=void 0)}else typeof p=="string"&&(p=a[p.toUpperCase()]);return g[p]&&(m=g[p],g[p]=void 0),m&&(m.plugin=null,x&&m.destroy()),this},removeAllKeys:function(p){for(var x=this.keys,g=0;g<x.length;g++){var m=x[g];m&&(x[g]=void 0,p&&m.destroy())}return this},createCombo:function(p,x){return new o(this,p,x)},checkDown:function(p,x){if(x===void 0&&(x=0),this.enabled&&p.isDown){var g=v(this.time-p.timeDown,x);if(g>p._tick)return p._tick=g,!0}return!1},update:function(){var p=this.manager.queue,x=p.length;if(!(!this.isActive()||x===0))for(var g=this.keys,m=0;m<x;m++){var y=p[m],T=y.keyCode,S=g[T],C=!1;y.cancelled===void 0&&(y.cancelled=0,y.stopImmediatePropagation=function(){y.cancelled=1},y.stopPropagation=function(){y.cancelled=-1}),y.cancelled!==-1&&(y.type==="keydown"?(S&&(C=S.isDown,S.onDown(y)),!y.cancelled&&(!S||!C)&&(u[T]&&(this.emit(h.KEY_DOWN+u[T],y),this.emit("keydown_"+u[T],y)),y.cancelled||this.emit(h.ANY_KEY_DOWN,y))):(S&&S.onUp(y),y.cancelled||(u[T]&&(this.emit(h.KEY_UP+u[T],y),this.emit("keyup_"+u[T],y)),y.cancelled||this.emit(h.ANY_KEY_UP,y))),y.cancelled===1&&(y.cancelled=0))}},resetKeys:function(){for(var p=this.keys,x=0;x<p.length;x++)p[x]&&p[x].reset();return this},shutdown:function(){this.resetKeys(),this.sceneInputPlugin.manager.useQueue?this.sceneInputPlugin.pluginEvents.off(n.UPDATE,this.update,this):this.sceneInputPlugin.manager.events.off(n.MANAGER_PROCESS,this.update,this),this.game.events.off(i.BLUR,this.resetKeys),this.removeAllListeners(),this.queue=[]},destroy:function(){this.shutdown();for(var p=this.keys,x=0;x<p.length;x++)p[x]&&p[x].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});e.register("KeyboardPlugin",d,"keyboard","keyboard","inputKeyboard"),c.exports=d},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(1226),f=function(h,i){if(i.matched)return!0;var r=!1,n=!1;if(h.keyCode===i.current)if(i.index>0&&i.maxKeyDelay>0){var e=i.timeLastMatched+i.maxKeyDelay;h.timeStamp<=e&&(n=!0,r=s(h,i))}else n=!0,r=s(h,i);return!n&&i.resetOnWrongKey&&(i.index=0,i.current=i.keyCodes[0]),r&&(i.timeLastMatched=h.timeStamp,i.matched=!0,i.timeMatched=h.timeStamp),r};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){return f.timeLastMatched=s.timeStamp,f.index++,f.index===f.size?!0:(f.current=f.keyCodes[f.index],!1)};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return s.current=s.keyCodes[0],s.index=0,s.timeLastMatched=0,s.matched=!1,s.timeMatched=0,s};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(124),f={};for(var h in s)f[s[h]]=h;c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return s._justDown?(s._justDown=!1,!0):!1};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return s._justUp?(s._justUp=!1,!0):!1};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){f===void 0&&(f=50);var h=s.plugin.game.loop.time-s.timeDown;return s.isDown&&h<f};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){f===void 0&&(f=50);var h=s.plugin.game.loop.time-s.timeUp;return s.isUp&&h<f};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={MouseManager:t(367)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={TouchManager:t(369)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(17),f=t(18),h={Events:t(82),FileTypes:t(1236),File:t(21),FileTypesManager:t(8),GetURL:t(138),LoaderPlugin:t(1260),MergeXHRSettings:t(215),MultiFile:t(61),XHRLoader:t(455),XHRSettings:t(139)};h=f(!1,h,s),c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AnimationJSONFile:t(1237),AtlasJSONFile:t(1238),AtlasXMLFile:t(1239),AudioFile:t(456),AudioSpriteFile:t(1240),BinaryFile:t(1241),BitmapFontFile:t(1242),CSSFile:t(1243),GLSLFile:t(1244),HTML5AudioFile:t(457),HTMLFile:t(1245),HTMLTextureFile:t(1246),ImageFile:t(72),JSONFile:t(60),MultiAtlasFile:t(1247),MultiScriptFile:t(1248),PackFile:t(1249),PluginFile:t(1250),SceneFile:t(1251),ScenePluginFile:t(1252),ScriptFile:t(458),SpriteSheetFile:t(1253),SVGFile:t(1254),TextFile:t(459),TilemapCSVFile:t(1255),TilemapImpactFile:t(1256),TilemapJSONFile:t(1257),UnityAtlasFile:t(1258),VideoFile:t(1259),XMLFile:t(216)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(8),h=t(60),i=t(82),r=new s({Extends:h,initialize:function(e,l,a,o,u){h.call(this,e,l,a,o,u),this.type="animationJSON"},onProcess:function(){this.loader.once(i.POST_PROCESS,this.onLoadComplete,this),h.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});f.register("animation",function(n,e,l,a){if(Array.isArray(n))for(var o=0;o<n.length;o++)this.addFile(new r(this,n[o]));else this.addFile(new r(this,n,e,a,l));return this}),c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(8),h=t(2),i=t(72),r=t(7),n=t(60),e=t(61),l=new s({Extends:e,initialize:function(o,u,v,d,p,x){var g,m;if(r(u)){var y=u;u=h(y,"key"),g=new i(o,{key:u,url:h(y,"textureURL"),extension:h(y,"textureExtension","png"),normalMap:h(y,"normalMap"),xhrSettings:h(y,"textureXhrSettings")}),m=new n(o,{key:u,url:h(y,"atlasURL"),extension:h(y,"atlasExtension","json"),xhrSettings:h(y,"atlasXhrSettings")})}else g=new i(o,u,v,p),m=new n(o,u,d,x);g.linkFile?e.call(this,o,"atlasjson",u,[g,m,g.linkFile]):e.call(this,o,"atlasjson",u,[g,m])},addToCache:function(){if(this.isReadyToProcess()){var a=this.files[0],o=this.files[1],u=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(a.key,a.data,o.data,u),o.addToCache(),this.complete=!0}}});f.register("atlas",function(a,o,u,v,d){var p;if(Array.isArray(a))for(var x=0;x<a.length;x++)p=new l(this,a[x]),this.addFile(p.files);else p=new l(this,a,o,u,v,d),this.addFile(p.files);return this}),c.exports=l},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(8),h=t(2),i=t(72),r=t(7),n=t(61),e=t(216),l=new s({Extends:n,initialize:function(o,u,v,d,p,x){var g,m;if(r(u)){var y=u;u=h(y,"key"),g=new i(o,{key:u,url:h(y,"textureURL"),extension:h(y,"textureExtension","png"),normalMap:h(y,"normalMap"),xhrSettings:h(y,"textureXhrSettings")}),m=new e(o,{key:u,url:h(y,"atlasURL"),extension:h(y,"atlasExtension","xml"),xhrSettings:h(y,"atlasXhrSettings")})}else g=new i(o,u,v,p),m=new e(o,u,d,x);g.linkFile?n.call(this,o,"atlasxml",u,[g,m,g.linkFile]):n.call(this,o,"atlasxml",u,[g,m])},addToCache:function(){if(this.isReadyToProcess()){var a=this.files[0],o=this.files[1],u=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(a.key,a.data,o.data,u),o.addToCache(),this.complete=!0}}});f.register("atlasXML",function(a,o,u,v,d){var p;if(Array.isArray(a))for(var x=0;x<a.length;x++)p=new l(this,a[x]),this.addFile(p.files);else p=new l(this,a,o,u,v,d),this.addFile(p.files);return this}),c.exports=l},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(456),f=t(0),h=t(8),i=t(2),r=t(7),n=t(60),e=t(61),l=new f({Extends:e,initialize:function(o,u,v,d,p,x,g){if(r(u)){var m=u;u=i(m,"key"),v=i(m,"jsonURL"),d=i(m,"audioURL"),p=i(m,"audioConfig"),x=i(m,"audioXhrSettings"),g=i(m,"jsonXhrSettings")}var y;if(!d)y=new n(o,u,v,g),e.call(this,o,"audiosprite",u,[y]),this.config.resourceLoad=!0,this.config.audioConfig=p,this.config.audioXhrSettings=x;else{var T=s.create(o,u,d,p,x);T&&(y=new n(o,u,v,g),e.call(this,o,"audiosprite",u,[T,y]),this.config.resourceLoad=!1)}},onFileComplete:function(a){var o=this.files.indexOf(a);if(o!==-1&&(this.pending--,this.config.resourceLoad&&a.type==="json"&&a.data.hasOwnProperty("resources"))){var u=a.data.resources,v=i(this.config,"audioConfig"),d=i(this.config,"audioXhrSettings"),p=s.create(this.loader,a.key,u,v,d);p&&(this.addToMultiFile(p),this.loader.addFile(p))}},addToCache:function(){if(this.isReadyToProcess()){var a=this.files[0],o=this.files[1];a.addToCache(),o.addToCache(),this.complete=!0}}});h.register("audioSprite",function(a,o,u,v,d,p){var x=this.systems.game,g=x.config.audio,m=x.device.audio;if(g&&g.noAudio||!m.webAudio&&!m.audioData)return this;var y;if(Array.isArray(a))for(var T=0;T<a.length;T++)y=new l(this,a[T]),y.files&&this.addFile(y.files);else y=new l(this,a,o,u,v,d,p),y.files&&this.addFile(y.files);return this})},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(17),h=t(21),i=t(8),r=t(2),n=t(7),e=new s({Extends:h,initialize:function(a,o,u,v,d){var p="bin";if(n(o)){var x=o;o=r(x,"key"),u=r(x,"url"),v=r(x,"xhrSettings"),p=r(x,"extension",p),d=r(x,"dataType",d)}var g={type:"binary",cache:a.cacheManager.binary,extension:p,responseType:"arraybuffer",key:o,url:u,xhrSettings:v,config:{dataType:d}};h.call(this,a,g)},onProcess:function(){this.state=f.FILE_PROCESSING;var l=this.config.dataType;this.data=l?new l(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});i.register("binary",function(l,a,o,u){if(Array.isArray(l))for(var v=0;v<l.length;v++)this.addFile(new e(this,l[v]));else this.addFile(new e(this,l,a,u,o));return this}),c.exports=e},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(8),h=t(2),i=t(72),r=t(7),n=t(61),e=t(187),l=t(216),a=new s({Extends:n,initialize:function(u,v,d,p,x,g){var m,y;if(r(v)){var T=v;v=h(T,"key"),m=new i(u,{key:v,url:h(T,"textureURL"),extension:h(T,"textureExtension","png"),normalMap:h(T,"normalMap"),xhrSettings:h(T,"textureXhrSettings")}),y=new l(u,{key:v,url:h(T,"fontDataURL"),extension:h(T,"fontDataExtension","xml"),xhrSettings:h(T,"fontDataXhrSettings")})}else m=new i(u,v,d,x),y=new l(u,v,p,g);m.linkFile?n.call(this,u,"bitmapfont",v,[m,y,m.linkFile]):n.call(this,u,"bitmapfont",v,[m,y])},addToCache:function(){if(this.isReadyToProcess()){var o=this.files[0],u=this.files[1];o.addToCache(),u.addToCache(),this.loader.cacheManager.bitmapFont.add(o.key,{data:e(u.data),texture:o.key,frame:null}),this.complete=!0}}});f.register("bitmapFont",function(o,u,v,d,p){var x;if(Array.isArray(o))for(var g=0;g<o.length;g++)x=new a(this,o[g]),this.addFile(x.files);else x=new a(this,o,u,v,d,p),this.addFile(x.files);return this}),c.exports=a},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(17),h=t(21),i=t(8),r=t(2),n=t(7),e=new s({Extends:h,initialize:function(a,o,u,v){var d="css";if(n(o)){var p=o;o=r(p,"key"),u=r(p,"url"),v=r(p,"xhrSettings"),d=r(p,"extension",d)}var x={type:"script",cache:!1,extension:d,responseType:"text",key:o,url:u,xhrSettings:v};h.call(this,a,x)},onProcess:function(){this.state=f.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});i.register("css",function(l,a,o){if(Array.isArray(l))for(var u=0;u<l.length;u++)this.addFile(new e(this,l[u]));else this.addFile(new e(this,l,a,o));return this}),c.exports=e},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(17),h=t(21),i=t(8),r=t(2),n=t(7),e=t(353),l=new s({Extends:h,initialize:function(o,u,v,d,p){var x="glsl";if(n(u)){var g=u;u=r(g,"key"),v=r(g,"url"),d=r(g,"shaderType","fragment"),p=r(g,"xhrSettings"),x=r(g,"extension",x)}else d===void 0&&(d="fragment");var m={type:"glsl",cache:o.cacheManager.shader,extension:x,responseType:"text",key:u,url:v,config:{shaderType:d},xhrSettings:p};h.call(this,o,m)},onProcess:function(){this.state=f.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var a=this.data.split(`
`),o=this.extractBlock(a,0);if(o)for(;o;){var u=this.getShaderName(o.header),v=this.getShaderType(o.header),d=this.getShaderUniforms(o.header),p=o.shader;if(this.cache.has(u)){var x=this.cache.get(u);v==="fragment"?x.fragmentSrc=p:x.vertexSrc=p,x.uniforms||(x.uniforms=d)}else v==="fragment"?this.cache.add(u,new e(u,p,"",d)):this.cache.add(u,new e(u,"",p,d));o=this.extractBlock(a,o.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new e(this.key,this.data)):this.cache.add(this.key,new e(this.key,"",this.data));this.pendingDestroy()},getShaderName:function(a){for(var o=0;o<a.length;o++){var u=a[o].trim();if(u.substring(0,5)==="name:")return u.substring(5).trim()}return this.key},getShaderType:function(a){for(var o=0;o<a.length;o++){var u=a[o].trim();if(u.substring(0,5)==="type:")return u.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(a){for(var o={},u=0;u<a.length;u++){var v=a[u].trim();if(v.substring(0,8)==="uniform."){var d=v.indexOf(":");if(d){var p=v.substring(8,d);try{o[p]=JSON.parse(v.substring(d+1))}catch{console.warn("Invalid uniform JSON: "+p)}}}}return o},extractBlock:function(a,o){for(var u=-1,v=-1,d=-1,p=!1,x=!1,g=[],m=[],y=o;y<a.length;y++){var T=a[y].trim();if(T==="---")if(u===-1)u=y,p=!0;else if(p)v=y,p=!1,x=!0;else{x=!1;break}else p?g.push(T):x&&(m.push(T),d=y)}return!p&&v!==-1?{header:g,shader:m.join(`
`),offset:d}:null}});i.register("glsl",function(a,o,u,v){if(Array.isArray(a))for(var d=0;d<a.length;d++)this.addFile(new l(this,a[d]));else this.addFile(new l(this,a,o,u,v));return this}),c.exports=l},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(17),h=t(21),i=t(8),r=t(2),n=t(7),e=new s({Extends:h,initialize:function(a,o,u,v){var d="html";if(n(o)){var p=o;o=r(p,"key"),u=r(p,"url"),v=r(p,"xhrSettings"),d=r(p,"extension",d)}var x={type:"text",cache:a.cacheManager.html,extension:d,responseType:"text",key:o,url:u,xhrSettings:v};h.call(this,a,x)},onProcess:function(){this.state=f.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});i.register("html",function(l,a,o){if(Array.isArray(l))for(var u=0;u<l.length;u++)this.addFile(new e(this,l[u]));else this.addFile(new e(this,l,a,o));return this}),c.exports=e},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(17),h=t(21),i=t(8),r=t(2),n=t(7),e=new s({Extends:h,initialize:function(a,o,u,v,d,p){v===void 0&&(v=512),d===void 0&&(d=512);var x="html";if(n(o)){var g=o;o=r(g,"key"),u=r(g,"url"),p=r(g,"xhrSettings"),x=r(g,"extension",x),v=r(g,"width",v),d=r(g,"height",d)}var m={type:"html",cache:a.textureManager,extension:x,responseType:"text",key:o,url:u,xhrSettings:p,config:{width:v,height:d}};h.call(this,a,m)},onProcess:function(){this.state=f.FILE_PROCESSING;var l=this.config.width,a=this.config.height,o=[];o.push('<svg width="'+l+'px" height="'+a+'px" viewBox="0 0 '+l+" "+a+'" xmlns="http://www.w3.org/2000/svg">'),o.push('<foreignObject width="100%" height="100%">'),o.push('<body xmlns="http://www.w3.org/1999/xhtml">'),o.push(this.xhrLoader.responseText),o.push("</body>"),o.push("</foreignObject>"),o.push("</svg>");var u=[o.join(`
`)],v=this;try{var d=new window.Blob(u,{type:"image/svg+xml;charset=utf-8"})}catch{v.state=f.FILE_ERRORED,v.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){h.revokeObjectURL(v.data),v.onProcessComplete()},this.data.onerror=function(){h.revokeObjectURL(v.data),v.onProcessError()},h.createObjectURL(this.data,d,"image/svg+xml")},addToCache:function(){var l=this.cache.addImage(this.key,this.data);this.pendingDestroy(l)}});i.register("htmlTexture",function(l,a,o,u,v){if(Array.isArray(l))for(var d=0;d<l.length;d++)this.addFile(new e(this,l[d]));else this.addFile(new e(this,l,a,o,u,v));return this}),c.exports=e},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(8),h=t(2),i=t(72),r=t(7),n=t(60),e=t(61),l=new s({Extends:e,initialize:function(o,u,v,d,p,x,g){if(r(u)){var m=u;u=h(m,"key"),h(m,"url",!1)?v=h(m,"url"):v=h(m,"atlasURL"),x=h(m,"xhrSettings"),d=h(m,"path"),p=h(m,"baseURL"),g=h(m,"textureXhrSettings")}var y=new n(o,u,v,x);e.call(this,o,"multiatlas",u,[y]),this.config.path=d,this.config.baseURL=p,this.config.textureXhrSettings=g},onFileComplete:function(a){var o=this.files.indexOf(a);if(o!==-1&&(this.pending--,a.type==="json"&&a.data.hasOwnProperty("textures"))){var u=a.data.textures,v=this.config,d=this.loader,p=d.baseURL,x=d.path,g=d.prefix,m=h(v,"baseURL",this.baseURL),y=h(v,"path",this.path),T=h(v,"prefix",this.prefix),S=h(v,"textureXhrSettings");d.setBaseURL(m),d.setPath(y),d.setPrefix(T);for(var C=0;C<u.length;C++){var P=u[C].image,A="MA"+this.multiKeyIndex+"_"+P,M=new i(d,A,P,S);if(this.addToMultiFile(M),d.addFile(M),u[C].normalMap){var O=new i(d,A,u[C].normalMap,S);O.type="normalMap",M.setLink(O),this.addToMultiFile(O),d.addFile(O)}}d.setBaseURL(p),d.setPath(x),d.setPrefix(g)}},addToCache:function(){if(this.isReadyToProcess()){for(var a=this.files[0],o=[],u=[],v=[],d=1;d<this.files.length;d++){var p=this.files[d];if(p.type!=="normalMap")for(var x=p.key.indexOf("_"),g=p.key.substr(x+1),m=p.data,y=0;y<a.data.textures.length;y++){var T=a.data.textures[y];if(T.image===g){u.push(m),o.push(T),p.linkFile&&v.push(p.linkFile.data);break}}}for(v.length===0&&(v=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,u,o,v),this.complete=!0,d=0;d<this.files.length;d++)this.files[d].pendingDestroy()}}});f.register("multiatlas",function(a,o,u,v,d){var p;if(Array.isArray(a))for(var x=0;x<a.length;x++)p=new l(this,a[x]),this.addFile(p.files);else p=new l(this,a,o,u,v,d),this.addFile(p.files);return this}),c.exports=l},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(8),h=t(2),i=t(7),r=t(61),n=t(458),e=new s({Extends:r,initialize:function(a,o,u,v){var d="js",p=[];if(i(o)){var x=o;o=h(x,"key"),u=h(x,"url"),v=h(x,"xhrSettings"),d=h(x,"extension",d)}Array.isArray(u)||(u=[u]);for(var g=0;g<u.length;g++){var m=new n(a,{key:o+"_"+g.toString(),url:u[g],extension:d,xhrSettings:v});m.onProcess=function(){this.onProcessComplete()},p.push(m)}r.call(this,a,"scripts",o,p)},addToCache:function(){if(this.isReadyToProcess()){for(var l=0;l<this.files.length;l++){var a=this.files[l];a.data=document.createElement("script"),a.data.language="javascript",a.data.type="text/javascript",a.data.defer=!1,a.data.text=a.xhrLoader.responseText,document.head.appendChild(a.data)}this.complete=!0}}});f.register("scripts",function(l,a,o){var u;if(Array.isArray(l))for(var v=0;v<l.length;v++)u=new e(this,l[v]),this.addFile(u.files);else u=new e(this,l,a,o),this.addFile(u.files);return this}),c.exports=e},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(17),h=t(8),i=t(60),r=new s({Extends:i,initialize:function(e,l,a,o,u){i.call(this,e,l,a,o,u),this.type="packfile"},onProcess:function(){this.state!==f.FILE_POPULATED&&(this.state=f.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.loader.addPack(this.data,this.config),this.onProcessComplete()}});h.register("pack",function(n,e,l,a){if(Array.isArray(n))for(var o=0;o<n.length;o++)this.addFile(new r(this,n[o]));else this.addFile(new r(this,n,e,a,l));return this}),c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(17),h=t(21),i=t(8),r=t(2),n=t(7),e=new s({Extends:h,initialize:function(a,o,u,v,d,p){var x="js";if(n(o)){var g=o;o=r(g,"key"),u=r(g,"url"),p=r(g,"xhrSettings"),x=r(g,"extension",x),v=r(g,"start"),d=r(g,"mapping")}var m={type:"plugin",cache:!1,extension:x,responseType:"text",key:o,url:u,xhrSettings:p,config:{start:v,mapping:d}};h.call(this,a,m),typeof u=="function"&&(this.data=u,this.state=f.FILE_POPULATED)},onProcess:function(){var l=this.loader.systems.plugins,a=this.config,o=r(a,"start",!1),u=r(a,"mapping",null);if(this.state===f.FILE_POPULATED)l.install(this.key,this.data,o,u);else{this.state=f.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var v=l.install(this.key,window[this.key],o,u);(o||u)&&(this.loader.systems[u]=v,this.loader.scene[u]=v)}this.onProcessComplete()}});i.register("plugin",function(l,a,o,u,v){if(Array.isArray(l))for(var d=0;d<l.length;d++)this.addFile(new e(this,l[d]));else this.addFile(new e(this,l,a,o,u,v));return this}),c.exports=e},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(17),h=t(21),i=t(8),r=t(2),n=t(7),e=new s({Extends:h,initialize:function(a,o,u,v){var d="js";if(n(o)){var p=o;o=r(p,"key"),u=r(p,"url"),v=r(p,"xhrSettings"),d=r(p,"extension",d)}var x={type:"text",cache:a.cacheManager.text,extension:d,responseType:"text",key:o,url:u,xhrSettings:v};h.call(this,a,x)},onProcess:function(){this.state=f.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var l=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),a=eval;this.loader.sceneManager.add(this.key,a(l)),this.complete=!0}});i.register("sceneFile",function(l,a,o){if(Array.isArray(l))for(var u=0;u<l.length;u++)this.addFile(new e(this,l[u]));else this.addFile(new e(this,l,a,o));return this}),c.exports=e},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(17),h=t(21),i=t(8),r=t(2),n=t(7),e=new s({Extends:h,initialize:function(a,o,u,v,d,p){var x="js";if(n(o)){var g=o;o=r(g,"key"),u=r(g,"url"),p=r(g,"xhrSettings"),x=r(g,"extension",x),v=r(g,"systemKey"),d=r(g,"sceneKey")}var m={type:"scenePlugin",cache:!1,extension:x,responseType:"text",key:o,url:u,xhrSettings:p,config:{systemKey:v,sceneKey:d}};h.call(this,a,m),typeof u=="function"&&(this.data=u,this.state=f.FILE_POPULATED)},onProcess:function(){var l=this.loader.systems.plugins,a=this.config,o=this.key,u=r(a,"systemKey",o),v=r(a,"sceneKey",o);this.state===f.FILE_POPULATED?l.installScenePlugin(u,this.data,v,this.loader.scene,!0):(this.state=f.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),l.installScenePlugin(u,window[this.key],v,this.loader.scene,!0)),this.onProcessComplete()}});i.register("scenePlugin",function(l,a,o,u,v){if(Array.isArray(l))for(var d=0;d<l.length;d++)this.addFile(new e(this,l[d]));else this.addFile(new e(this,l,a,o,u,v));return this}),c.exports=e},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(8),h=t(72),i=new s({Extends:h,initialize:function(n,e,l,a,o){h.call(this,n,e,l,o,a),this.type="spritesheet"},addToCache:function(){var r=this.cache.addSpriteSheet(this.key,this.data,this.config);this.pendingDestroy(r)}});f.register("spritesheet",function(r,n,e,l){if(Array.isArray(r))for(var a=0;a<r.length;a++)this.addFile(new i(this,r[a]));else this.addFile(new i(this,r,n,e,l));return this}),c.exports=i},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(17),h=t(21),i=t(8),r=t(2),n=t(7),e=new s({Extends:h,initialize:function(a,o,u,v,d){var p="svg";if(n(o)){var x=o;o=r(x,"key"),u=r(x,"url"),v=r(x,"svgConfig",{}),d=r(x,"xhrSettings"),p=r(x,"extension",p)}var g={type:"svg",cache:a.textureManager,extension:p,responseType:"text",key:o,url:u,xhrSettings:d,config:{width:r(v,"width"),height:r(v,"height"),scale:r(v,"scale")}};h.call(this,a,g)},onProcess:function(){this.state=f.FILE_PROCESSING;var l=this.xhrLoader.responseText,a=[l],o=this.config.width,u=this.config.height,v=this.config.scale;t:if(o&&u||v){var d=null,p=new DOMParser;d=p.parseFromString(l,"text/xml");var x=d.getElementsByTagName("svg")[0],g=x.hasAttribute("viewBox"),m=parseFloat(x.getAttribute("width")),y=parseFloat(x.getAttribute("height"));if(!g&&m&&y)x.setAttribute("viewBox","0  0 "+m+" "+y);else if(g&&!m&&!y){var T=x.getAttribute("viewBox").split(/\s+|,/);m=T[2],y=T[3]}if(v)if(m&&y)o=m*v,u=y*v;else break t;x.setAttribute("width",o.toString()+"px"),x.setAttribute("height",u.toString()+"px"),a=[new XMLSerializer().serializeToString(x)]}try{var S=new window.Blob(a,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var C=this,P=!1;this.data.onload=function(){P||h.revokeObjectURL(C.data),C.onProcessComplete()},this.data.onerror=function(){P?C.onProcessError():(P=!0,h.revokeObjectURL(C.data),C.data.src="data:image/svg+xml,"+encodeURIComponent(a.join("")))},h.createObjectURL(this.data,S,"image/svg+xml")},addToCache:function(){var l=this.cache.addImage(this.key,this.data);this.pendingDestroy(l)}});i.register("svg",function(l,a,o,u){if(Array.isArray(l))for(var v=0;v<l.length;v++)this.addFile(new e(this,l[v]));else this.addFile(new e(this,l,a,o,u));return this}),c.exports=e},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(17),h=t(21),i=t(8),r=t(2),n=t(7),e=t(32),l=new s({Extends:h,initialize:function(o,u,v,d){var p="csv";if(n(u)){var x=u;u=r(x,"key"),v=r(x,"url"),d=r(x,"xhrSettings"),p=r(x,"extension",p)}var g={type:"tilemapCSV",cache:o.cacheManager.tilemap,extension:p,responseType:"text",key:u,url:v,xhrSettings:d};h.call(this,o,g),this.tilemapFormat=e.CSV},onProcess:function(){this.state=f.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var a={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,a),this.pendingDestroy(a)}});i.register("tilemapCSV",function(a,o,u){if(Array.isArray(a))for(var v=0;v<a.length;v++)this.addFile(new l(this,a[v]));else this.addFile(new l(this,a,o,u));return this}),c.exports=l},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(8),h=t(60),i=t(32),r=new s({Extends:h,initialize:function(e,l,a,o){h.call(this,e,l,a,o),this.type="tilemapJSON",this.cache=e.cacheManager.tilemap},addToCache:function(){var n={format:i.WELTMEISTER,data:this.data};this.cache.add(this.key,n),this.pendingDestroy(n)}});f.register("tilemapImpact",function(n,e,l){if(Array.isArray(n))for(var a=0;a<n.length;a++)this.addFile(new r(this,n[a]));else this.addFile(new r(this,n,e,l));return this}),c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(8),h=t(60),i=t(32),r=new s({Extends:h,initialize:function(e,l,a,o){h.call(this,e,l,a,o),this.type="tilemapJSON",this.cache=e.cacheManager.tilemap},addToCache:function(){var n={format:i.TILED_JSON,data:this.data};this.cache.add(this.key,n),this.pendingDestroy(n)}});f.register("tilemapTiledJSON",function(n,e,l){if(Array.isArray(n))for(var a=0;a<n.length;a++)this.addFile(new r(this,n[a]));else this.addFile(new r(this,n,e,l));return this}),c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(8),h=t(2),i=t(72),r=t(7),n=t(61),e=t(459),l=new s({Extends:n,initialize:function(o,u,v,d,p,x){var g,m;if(r(u)){var y=u;u=h(y,"key"),g=new i(o,{key:u,url:h(y,"textureURL"),extension:h(y,"textureExtension","png"),normalMap:h(y,"normalMap"),xhrSettings:h(y,"textureXhrSettings")}),m=new e(o,{key:u,url:h(y,"atlasURL"),extension:h(y,"atlasExtension","txt"),xhrSettings:h(y,"atlasXhrSettings")})}else g=new i(o,u,v,p),m=new e(o,u,d,x);g.linkFile?n.call(this,o,"unityatlas",u,[g,m,g.linkFile]):n.call(this,o,"unityatlas",u,[g,m])},addToCache:function(){if(this.isReadyToProcess()){var a=this.files[0],o=this.files[1],u=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(a.key,a.data,o.data,u),o.addToCache(),this.complete=!0}}});f.register("unityAtlas",function(a,o,u,v,d){var p;if(Array.isArray(a))for(var x=0;x<a.length;x++)p=new l(this,a[x]),this.addFile(p.files);else p=new l(this,a,o,u,v,d),this.addFile(p.files);return this}),c.exports=l},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(17),h=t(21),i=t(8),r=t(138),n=t(2),e=t(7),l=new s({Extends:h,initialize:function(o,u,v,d,p,x,g){d===void 0&&(d="loadeddata"),p===void 0&&(p=!1),x===void 0&&(x=!1),d!=="loadeddata"&&d!=="canplay"&&d!=="canplaythrough"&&(d="loadeddata");var m={type:"video",cache:o.cacheManager.video,extension:v.type,responseType:"blob",key:u,url:v.url,xhrSettings:g,config:{loadEvent:d,asBlob:p,noAudio:x}};this.onLoadCallback=this.onVideoLoadHandler.bind(this),this.onErrorCallback=this.onVideoErrorHandler.bind(this),h.call(this,o,m)},onProcess:function(){if(this.state=f.FILE_PROCESSING,!this.config.asBlob){this.onProcessComplete();return}var a=this.createVideoElement();this.data=a;var o=this;this.data.onloadeddata=function(){o.onProcessComplete()},this.data.onerror=function(){h.revokeObjectURL(o.data),o.onProcessError()},h.createObjectURL(a,this.xhrLoader.response,""),a.load()},createVideoElement:function(){var a=document.createElement("video");return a.controls=!1,a.crossOrigin=this.loader.crossOrigin,this.config.noAudio&&(a.muted=!0,a.defaultMuted=!0,a.setAttribute("autoplay","autoplay")),a.setAttribute("playsinline","playsinline"),a.setAttribute("preload","auto"),a},onVideoLoadHandler:function(a){var o=a.target;o.removeEventListener(this.config.loadEvent,this.onLoadCallback,!0),o.removeEventListener("error",this.onErrorCallback,!0),this.data=o,this.resetXHR(),this.loader.nextFile(this,!0)},onVideoErrorHandler:function(a){var o=a.target;o&&(o.removeEventListener(this.config.loadEvent,this.onLoadCallback,!0),o.removeEventListener("error",this.onErrorCallback,!0)),this.resetXHR(),this.loader.nextFile(this,!1)},load:function(){var a=this.config.loadEvent;if(this.config.asBlob)h.prototype.load.call(this);else{this.percentComplete=0;var o=this.createVideoElement();o.addEventListener(a,this.onLoadCallback,!0),o.addEventListener("error",this.onErrorCallback,!0),o.src=r(this,this.loader.baseURL),o.load()}}});l.create=function(a,o,u,v,d,p,x){var g=a.systems.game;e(o)&&(u=n(o,"url",[]),v=n(o,"loadEvent","loadeddata"),d=n(o,"asBlob",!1),p=n(o,"noAudio",!1),x=n(o,"xhrSettings"));var m=l.getVideoURL(g,u);if(m)return new l(a,o,m,v,d,p,x)},l.getVideoURL=function(a,o){Array.isArray(o)||(o=[o]);for(var u=0;u<o.length;u++){var v=n(o[u],"url",o[u]);if(v.indexOf("blob:")===0)return{url:v,type:""};var d;if(v.indexOf("data:")===0?d=v.split(",")[0].match(/\/(.*?);/):d=v.match(/\.([a-zA-Z0-9]+)($|\?)/),d=n(o[u],"type",d?d[1]:"").toLowerCase(),a.device.video[d])return{url:v,type:d}}return null},i.register("video",function(a,o,u,v,d,p){var x;if(Array.isArray(a))for(var g=0;g<a.length;g++)x=l.create(this,a[g]),x&&this.addFile(x);else x=l.create(this,a,o,u,v,d,p),x&&this.addFile(x);return this}),c.exports=l},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(17),h=t(133),i=t(10),r=t(82),n=t(8),e=t(2),l=t(23),a=t(22),o=t(139),u=new s({Extends:i,initialize:function(d){i.call(this);var p=d.sys.game.config,x=d.sys.settings.loader;this.scene=d,this.systems=d.sys,this.cacheManager=d.sys.cache,this.textureManager=d.sys.textures,this.sceneManager=d.sys.game.scene,n.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(e(x,"baseURL",p.loaderBaseURL)),this.setPath(e(x,"path",p.loaderPath)),this.setPrefix(e(x,"prefix",p.loaderPrefix)),this.maxParallelDownloads=e(x,"maxParallelDownloads",p.loaderMaxParallelDownloads),this.xhr=o(e(x,"responseType",p.loaderResponseType),e(x,"async",p.loaderAsync),e(x,"user",p.loaderUser),e(x,"password",p.loaderPassword),e(x,"timeout",p.loaderTimeout),e(x,"withCredentials",p.loaderWithCredentials)),this.crossOrigin=e(x,"crossOrigin",p.loaderCrossOrigin),this.totalToLoad=0,this.progress=0,this.list=new h,this.inflight=new h,this.queue=new h,this._deleteQueue=new h,this.totalFailed=0,this.totalComplete=0,this.state=f.LOADER_IDLE,this.multiKeyIndex=0,d.sys.events.once(a.BOOT,this.boot,this),d.sys.events.on(a.START,this.pluginStart,this)},boot:function(){this.systems.events.once(a.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(a.SHUTDOWN,this.shutdown,this)},setBaseURL:function(v){return v===void 0&&(v=""),v!==""&&v.substr(-1)!=="/"&&(v=v.concat("/")),this.baseURL=v,this},setPath:function(v){return v===void 0&&(v=""),v!==""&&v.substr(-1)!=="/"&&(v=v.concat("/")),this.path=v,this},setPrefix:function(v){return v===void 0&&(v=""),this.prefix=v,this},setCORS:function(v){return this.crossOrigin=v,this},addFile:function(v){Array.isArray(v)||(v=[v]);for(var d=0;d<v.length;d++){var p=v[d];this.keyExists(p)||(this.list.set(p),this.emit(r.ADD,p.key,p.type,this,p),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(v){var d=v.hasCacheConflict();return d||this.list.iterate(function(p){if(p.type===v.type&&p.key===v.key)return d=!0,!1}),!d&&this.isLoading()&&(this.inflight.iterate(function(p){if(p.type===v.type&&p.key===v.key)return d=!0,!1}),this.queue.iterate(function(p){if(p.type===v.type&&p.key===v.key)return d=!0,!1})),d},addPack:function(v,d){d&&v.hasOwnProperty(d)&&(v={packKey:v[d]});var p=0,x=this.baseURL,g=this.path,m=this.prefix;for(var y in v)if(Object.prototype.hasOwnProperty.call(v,y)){var T=v[y],S=e(T,"baseURL",x),C=e(T,"path",g),P=e(T,"prefix",m),A=e(T,"files",null),M=e(T,"defaultType","void");if(Array.isArray(A)){this.setBaseURL(S),this.setPath(C),this.setPrefix(P);for(var O=0;O<A.length;O++){var I=A[O],B=I.hasOwnProperty("type")?I.type:M;this[B]&&(this[B](I),p++)}}}return this.setBaseURL(x),this.setPath(g),this.setPrefix(m),p>0},isLoading:function(){return this.state===f.LOADER_LOADING||this.state===f.LOADER_PROCESSING},isReady:function(){return this.state===f.LOADER_IDLE||this.state===f.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(r.START,this),this.list.size===0?this.loadComplete():(this.state=f.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(a.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(r.PROGRESS,this.progress)},update:function(){this.state===f.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(v){if((v.state===f.FILE_POPULATED||v.state===f.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(v),this.list.delete(v),v.crossOrigin||(v.crossOrigin=this.crossOrigin),v.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(v,d){this.inflight&&(this.inflight.delete(v),this.updateProgress(),d?(this.totalComplete++,this.queue.set(v),this.emit(r.FILE_LOAD,v),v.onProcess()):(this.totalFailed++,this._deleteQueue.set(v),this.emit(r.FILE_LOAD_ERROR,v),this.fileProcessComplete(v)))},fileProcessComplete:function(v){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(v.state===f.FILE_ERRORED?v.multiFile&&v.multiFile.onFileFailed(v):v.state===f.FILE_COMPLETE&&(v.multiFile?v.multiFile.isReadyToProcess()&&v.multiFile.addToCache():v.addToCache()),this.queue.delete(v),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(r.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=f.LOADER_COMPLETE,this.systems.events.off(a.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(r.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(v){this._deleteQueue.set(v)},saveJSON:function(v,d){return this.save(JSON.stringify(v),d)},save:function(v,d,p){d===void 0&&(d="file.json"),p===void 0&&(p="application/json");var x=new Blob([v],{type:p}),g=URL.createObjectURL(x),m=document.createElement("a");return m.download=d,m.textContent="Download "+d,m.href=g,m.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var v=this.systems.game.config,d=this.systems.settings.loader;this.setBaseURL(e(d,"baseURL",v.loaderBaseURL)),this.setPath(e(d,"path",v.loaderPath)),this.setPrefix(e(d,"prefix",v.loaderPrefix)),this.state=f.LOADER_IDLE},shutdown:function(){this.reset(),this.state=f.LOADER_SHUTDOWN,this.systems.events.off(a.UPDATE,this.update,this),this.systems.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=f.LOADER_DESTROYED,this.systems.events.off(a.UPDATE,this.update,this),this.systems.events.off(a.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});l.register("Loader",u,"load"),c.exports=u},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(50),f=t(18),h={ArcadePhysics:t(1262),Body:t(466),Collider:t(467),Components:t(217),Events:t(218),Factory:t(460),Group:t(462),Image:t(461),Sprite:t(140),StaticBody:t(472),StaticGroup:t(463),World:t(465)};h=f(!1,h,s),c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(39),h=t(53),i=t(321),r=t(460),n=t(2),e=t(126),l=t(1275),a=t(464),o=t(23),u=t(22),v=t(3),d=t(465),p=new s({initialize:function(g){this.scene=g,this.systems=g.sys,this.config=this.getConfig(),this.world,this.add,g.sys.events.once(u.BOOT,this.boot,this),g.sys.events.on(u.START,this.start,this)},boot:function(){this.world=new d(this.scene,this.config),this.add=new r(this.world),this.systems.events.once(u.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new d(this.scene,this.config),this.add=new r(this.world));var x=this.systems.events;x.on(u.UPDATE,this.world.update,this.world),x.on(u.POST_UPDATE,this.world.postUpdate,this.world),x.once(u.SHUTDOWN,this.shutdown,this)},getConfig:function(){var x=this.systems.game.config.physics,g=this.systems.settings.physics,m=e(n(g,"arcade",{}),n(x,"arcade",{}));return m},overlap:function(x,g,m,y,T){return m===void 0&&(m=null),y===void 0&&(y=null),T===void 0&&(T=m),this.world.collideObjects(x,g,m,y,T,!0)},collide:function(x,g,m,y,T){return m===void 0&&(m=null),y===void 0&&(y=null),T===void 0&&(T=m),this.world.collideObjects(x,g,m,y,T,!1)},collideTiles:function(x,g,m,y,T){return this.world.collideTiles(x,g,m,y,T)},overlapTiles:function(x,g,m,y,T){return this.world.overlapTiles(x,g,m,y,T)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(x,g,m,y,T,S){y===void 0&&(y=60);var C=Math.atan2(m-x.y,g-x.x);return x.body.acceleration.setToPolar(C,y),T!==void 0&&S!==void 0&&x.body.maxVelocity.set(T,S),C},accelerateToObject:function(x,g,m,y,T){return this.accelerateTo(x,g.x,g.y,m,y,T)},closest:function(x,g){g||(g=this.world.bodies.entries);for(var m=Number.MAX_VALUE,y=null,T=x.x,S=x.y,C=g.length,P=0;P<C;P++){var A=g[P],M=A.body||A;if(!(x===A||x===M||x===M.gameObject||x===M.center)){var O=i(T,S,M.center.x,M.center.y);O<m&&(y=A,m=O)}}return y},furthest:function(x,g){g||(g=this.world.bodies.entries);for(var m=-1,y=null,T=x.x,S=x.y,C=g.length,P=0;P<C;P++){var A=g[P],M=A.body||A;if(!(x===A||x===M||x===M.gameObject||x===M.center)){var O=i(T,S,M.center.x,M.center.y);O>m&&(y=A,m=O)}}return y},moveTo:function(x,g,m,y,T){y===void 0&&(y=60),T===void 0&&(T=0);var S=Math.atan2(m-x.y,g-x.x);return T>0&&(y=h(x.x,x.y,g,m)/(T/1e3)),x.body.velocity.setToPolar(S,y),S},moveToObject:function(x,g,m,y){return this.moveTo(x,g.x,g.y,m,y)},velocityFromAngle:function(x,g,m){return g===void 0&&(g=60),m===void 0&&(m=new v),m.setToPolar(f(x),g)},velocityFromRotation:function(x,g,m){return g===void 0&&(g=60),m===void 0&&(m=new v),m.setToPolar(x,g)},overlapRect:function(x,g,m,y,T,S){return a(this.world,x,g,m,y,T,S)},overlapCirc:function(x,g,m,y,T){return l(this.world,x,g,m,y,T)},shutdown:function(){if(this.world){var x=this.systems.events;x.off(u.UPDATE,this.world.update,this.world),x.off(u.POST_UPDATE,this.world.postUpdate,this.world),x.off(u.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null}},destroy:function(){this.shutdown(),this.scene.sys.events.off(u.START,this.start,this),this.scene=null,this.systems=null}});o.register("ArcadePhysics",p,"arcadePhysics"),c.exports=p},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setAcceleration:function(s,f){return this.body.acceleration.set(s,f),this},setAccelerationX:function(s){return this.body.acceleration.x=s,this},setAccelerationY:function(s){return this.body.acceleration.y=s,this}};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setAngularVelocity:function(s){return this.body.angularVelocity=s,this},setAngularAcceleration:function(s){return this.body.angularAcceleration=s,this},setAngularDrag:function(s){return this.body.angularDrag=s,this}};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setBounce:function(s,f){return this.body.bounce.set(s,f),this},setBounceX:function(s){return this.body.bounce.x=s,this},setBounceY:function(s){return this.body.bounce.y=s,this},setCollideWorldBounds:function(s,f,h){return this.body.setCollideWorldBounds(s,f,h),this}};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setDebug:function(s,f,h){return this.debugShowBody=s,this.debugShowVelocity=f,this.debugBodyColor=h,this},setDebugBodyColor:function(s){return this.body.debugBodyColor=s,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(s){this.body.debugShowBody=s}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(s){this.body.debugShowVelocity=s}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(s){this.body.debugBodyColor=s}}};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setDrag:function(s,f){return this.body.drag.set(s,f),this},setDragX:function(s){return this.body.drag.x=s,this},setDragY:function(s){return this.body.drag.y=s,this},setDamping:function(s){return this.body.useDamping=s,this}};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={enableBody:function(s,f,h,i,r){return s&&this.body.reset(f,h),i&&(this.body.gameObject.active=!0),r&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(s,f){return s===void 0&&(s=!1),f===void 0&&(f=!1),this.body.stop(),this.body.enable=!1,s&&(this.body.gameObject.active=!1),f&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setFriction:function(s,f){return this.body.friction.set(s,f),this},setFrictionX:function(s){return this.body.friction.x=s,this},setFrictionY:function(s){return this.body.friction.y=s,this}};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setGravity:function(s,f){return this.body.gravity.set(s,f),this},setGravityX:function(s){return this.body.gravity.x=s,this},setGravityY:function(s){return this.body.gravity.y=s,this}};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setImmovable:function(s){return s===void 0&&(s=!0),this.body.immovable=s,this}};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setMass:function(s){return this.body.mass=s,this}};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setOffset:function(s,f){return this.body.setOffset(s,f),this},setSize:function(s,f,h){return this.body.setSize(s,f,h),this},setBodySize:function(s,f,h){return this.body.setSize(s,f,h),this},setCircle:function(s,f,h){return this.body.setCircle(s,f,h),this}};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setVelocity:function(s,f){return this.body.setVelocity(s,f),this},setVelocityX:function(s){return this.body.setVelocityX(s),this},setVelocityY:function(s){return this.body.setVelocityY(s),this},setMaxVelocity:function(s,f){return this.body.maxVelocity.set(s,f),this}};c.exports=t},function(c,E,t){var s=t(464),f=t(65),h=t(205),i=t(206),r=function(n,e,l,a,o,u){var v=s(n,e-a,l-a,2*a,2*a,o,u);if(v.length===0)return v;for(var d=new f(e,l,a),p=new f,x=[],g=0;g<v.length;g++){var m=v[g];m.isCircle?(p.setTo(m.center.x,m.center.y,m.halfWidth),h(d,p)&&x.push(m)):i(d,m)&&x.push(m)}return x};c.exports=r},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="collide"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="overlap"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="tilecollide"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="tileoverlap"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="worldbounds"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="worldstep"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){return s.collisionCallback?!s.collisionCallback.call(s.collisionCallbackContext,f,s):s.layer.callbacks[s.index]?!s.layer.callbacks[s.index].callback.call(s.layer.callbacks[s.index].callbackContext,f,s):!0};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(1286),f=t(1288),h=t(471),i=function(r,n,e,l,a,o,u){var v=l.left,d=l.top,p=l.right,x=l.bottom,g=e.faceLeft||e.faceRight,m=e.faceTop||e.faceBottom;if(u||(g=!0,m=!0),!g&&!m)return!1;var y=0,T=0,S=0,C=1;if(n.deltaAbsX()>n.deltaAbsY()?S=-1:n.deltaAbsX()<n.deltaAbsY()&&(C=-1),n.deltaX()!==0&&n.deltaY()!==0&&g&&m&&(S=Math.min(Math.abs(n.position.x-p),Math.abs(n.right-v)),C=Math.min(Math.abs(n.position.y-x),Math.abs(n.bottom-d))),S<C){if(g&&(y=s(n,e,v,p,o,u),y!==0&&!h(l,n)))return!0;m&&(T=f(n,e,d,x,o,u))}else{if(m&&(T=f(n,e,d,x,o,u),T!==0&&!h(l,n)))return!0;g&&(y=s(n,e,v,p,o,u))}return y!==0||T!==0};c.exports=i},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(1287),f=function(h,i,r,n,e,l){var a=0,o=i.faceLeft,u=i.faceRight,v=i.collideLeft,d=i.collideRight;return l||(o=!0,u=!0,v=!0,d=!0),h.deltaX()<0&&d&&h.checkCollision.left?u&&h.x<n&&(a=h.x-n,a<-e&&(a=0)):h.deltaX()>0&&v&&h.checkCollision.right&&o&&h.right>r&&(a=h.right-r,a>e&&(a=0)),a!==0&&(h.customSeparateX?h.overlapX=a:s(h,a)),a};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){f<0?(s.blocked.none=!1,s.blocked.left=!0):f>0&&(s.blocked.none=!1,s.blocked.right=!0),s.position.x-=f,s.bounce.x===0?s.velocity.x=0:s.velocity.x=-s.velocity.x*s.bounce.x};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(1289),f=function(h,i,r,n,e,l){var a=0,o=i.faceTop,u=i.faceBottom,v=i.collideUp,d=i.collideDown;return l||(o=!0,u=!0,v=!0,d=!0),h.deltaY()<0&&d&&h.checkCollision.up?u&&h.y<n&&(a=h.y-n,a<-e&&(a=0)):h.deltaY()>0&&v&&h.checkCollision.down&&o&&h.bottom>r&&(a=h.bottom-r,a>e&&(a=0)),a!==0&&(h.customSeparateY?h.overlapY=a:s(h,a)),a};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){f<0?(s.blocked.none=!1,s.blocked.up=!0):f>0&&(s.blocked.none=!1,s.blocked.down=!0),s.position.y-=f,s.bounce.y===0?s.velocity.y=0:s.velocity.y=-s.velocity.y*s.bounce.y};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(468),f=function(h,i,r,n){var e=s(h,i,r,n);if(r||e===0||h.immovable&&i.immovable||h.customSeparateX||i.customSeparateX)return e!==0||h.embedded&&i.embedded;var l=h.velocity.x,a=i.velocity.x;if(!h.immovable&&!i.immovable){e*=.5,h.x-=e,i.x+=e;var o=Math.sqrt(a*a*i.mass/h.mass)*(a>0?1:-1),u=Math.sqrt(l*l*h.mass/i.mass)*(l>0?1:-1),v=(o+u)*.5;o-=v,u-=v,h.velocity.x=v+o*h.bounce.x,i.velocity.x=v+u*i.bounce.x}else h.immovable?(i.x+=e,i.velocity.x=l-a*i.bounce.x,h.moves&&(i.y+=(h.y-h.prev.y)*h.friction.y)):(h.x-=e,h.velocity.x=a-l*h.bounce.x,i.moves&&(h.y+=(i.y-i.prev.y)*i.friction.y));return!0};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(469),f=function(h,i,r,n){var e=s(h,i,r,n);if(r||e===0||h.immovable&&i.immovable||h.customSeparateY||i.customSeparateY)return e!==0||h.embedded&&i.embedded;var l=h.velocity.y,a=i.velocity.y;if(!h.immovable&&!i.immovable){e*=.5,h.y-=e,i.y+=e;var o=Math.sqrt(a*a*i.mass/h.mass)*(a>0?1:-1),u=Math.sqrt(l*l*h.mass/i.mass)*(l>0?1:-1),v=(o+u)*.5;o-=v,u-=v,h.velocity.y=v+o*h.bounce.y,i.velocity.y=v+u*i.bounce.y}else h.immovable?(i.y+=e,i.velocity.y=l-a*i.bounce.y,h.moves&&(i.x+=(h.x-h.prev.x)*h.friction.x)):(h.y-=e,h.velocity.y=a-l*h.bounce.y,i.moves&&(h.x+=(i.x-i.prev.x)*i.friction.x));return!0};c.exports=f},function(c,E,t){var s={};c.exports=s;var f=t(148),h=t(219),i=t(42),r=t(62),n=t(109);(function(){s.stack=function(e,l,a,o,u,v,d){for(var p=f.create({label:"Stack"}),x=e,g=l,m,y=0,T=0;T<o;T++){for(var S=0,C=0;C<a;C++){var P=d(x,g,C,T,m,y);if(P){var A=P.bounds.max.y-P.bounds.min.y,M=P.bounds.max.x-P.bounds.min.x;A>S&&(S=A),r.translate(P,{x:M*.5,y:A*.5}),x=P.bounds.max.x+u,f.addBody(p,P),m=P,y+=1}else x+=u}g+=S+v,x=e}return p},s.chain=function(e,l,a,o,u,v){for(var d=e.bodies,p=1;p<d.length;p++){var x=d[p-1],g=d[p],m=x.bounds.max.y-x.bounds.min.y,y=x.bounds.max.x-x.bounds.min.x,T=g.bounds.max.y-g.bounds.min.y,S=g.bounds.max.x-g.bounds.min.x,C={bodyA:x,pointA:{x:y*l,y:m*a},bodyB:g,pointB:{x:S*o,y:T*u}},P=i.extend(C,v);f.addConstraint(e,h.create(P))}return e.label+=" Chain",e},s.mesh=function(e,l,a,o,u){var v=e.bodies,d,p,x,g,m;for(d=0;d<a;d++){for(p=1;p<l;p++)x=v[p-1+d*l],g=v[p+d*l],f.addConstraint(e,h.create(i.extend({bodyA:x,bodyB:g},u)));if(d>0)for(p=0;p<l;p++)x=v[p+(d-1)*l],g=v[p+d*l],f.addConstraint(e,h.create(i.extend({bodyA:x,bodyB:g},u))),o&&p>0&&(m=v[p-1+(d-1)*l],f.addConstraint(e,h.create(i.extend({bodyA:m,bodyB:g},u)))),o&&p<l-1&&(m=v[p+1+(d-1)*l],f.addConstraint(e,h.create(i.extend({bodyA:m,bodyB:g},u))))}return e.label+=" Mesh",e},s.pyramid=function(e,l,a,o,u,v,d){return s.stack(e,l,a,o,u,v,function(p,x,g,m,y,T){var S=Math.min(o,Math.ceil(a/2)),C=y?y.bounds.max.x-y.bounds.min.x:0;if(!(m>S)){m=S-m;var P=m,A=a-1-m;if(!(g<P||g>A)){T===1&&r.translate(y,{x:(g+(a%2===1?1:-1))*C,y:0});var M=y?g*C:0;return d(e+M+g*u,x,g,m,y,T)}}})},s.newtonsCradle=function(e,l,a,o,u){for(var v=f.create({label:"Newtons Cradle"}),d=0;d<a;d++){var p=1.9,x=n.circle(e+d*(o*p),l+u,o,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),g=h.create({pointA:{x:e+d*(o*p),y:l},bodyB:x});f.addBody(v,x),f.addConstraint(v,g)}return v},s.car=function(e,l,a,o,u){var v=r.nextGroup(!0),d=20,p=-a*.5+d,x=a*.5-d,g=0,m=f.create({label:"Car"}),y=n.rectangle(e,l,a,o,{collisionFilter:{group:v},chamfer:{radius:o*.5},density:2e-4}),T=n.circle(e+p,l+g,u,{collisionFilter:{group:v},friction:.8}),S=n.circle(e+x,l+g,u,{collisionFilter:{group:v},friction:.8}),C=h.create({bodyB:y,pointB:{x:p,y:g},bodyA:T,stiffness:1,length:0}),P=h.create({bodyB:y,pointB:{x,y:g},bodyA:S,stiffness:1,length:0});return f.addBody(m,y),f.addBody(m,T),f.addBody(m,S),f.addConstraint(m,C),f.addConstraint(m,P),m},s.softBody=function(e,l,a,o,u,v,d,p,x,g){x=i.extend({inertia:1/0},x),g=i.extend({stiffness:.2,render:{type:"line",anchors:!1}},g);var m=s.stack(e,l,a,o,u,v,function(y,T){return n.circle(y,T,p,x)});return s.mesh(m,a,o,d,g),m.label="Soft Body",m}})()},function(c,E,t){var s={};c.exports=s,t(100);var f=t(42);(function(){s.pathToVertices=function(h,i){typeof window<"u"&&!("SVGPathSeg"in window)&&f.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var r,n,e,l,a,o,u,v,d,p,x=[],g,m,y=0,T=0,S=0;i=i||15;var C=function(A,M,O){var I=O%2===1&&O>1;if(!d||A!=d.x||M!=d.y){d&&I?(g=d.x,m=d.y):(g=0,m=0);var B={x:g+A,y:m+M};(I||!d)&&(d=B),x.push(B),T=g+A,S=m+M}},P=function(A){var M=A.pathSegTypeAsLetter.toUpperCase();if(M!=="Z"){switch(M){case"M":case"L":case"T":case"C":case"S":case"Q":T=A.x,S=A.y;break;case"H":T=A.x;break;case"V":S=A.y;break}C(T,S,A.pathSegType)}};for(s._svgPathToAbsolute(h),e=h.getTotalLength(),o=[],r=0;r<h.pathSegList.numberOfItems;r+=1)o.push(h.pathSegList.getItem(r));for(u=o.concat();y<e;){if(p=h.getPathSegAtLength(y),a=o[p],a!=v){for(;u.length&&u[0]!=a;)P(u.shift());v=a}switch(a.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":l=h.getPointAtLength(y),C(l.x,l.y,0);break}y+=i}for(r=0,n=u.length;r<n;++r)P(u[r]);return x},s._svgPathToAbsolute=function(h){for(var i,r,n,e,l,a,o=h.pathSegList,u=0,v=0,d=o.numberOfItems,p=0;p<d;++p){var x=o.getItem(p),g=x.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(g))"x"in x&&(u=x.x),"y"in x&&(v=x.y);else switch("x1"in x&&(n=u+x.x1),"x2"in x&&(l=u+x.x2),"y1"in x&&(e=v+x.y1),"y2"in x&&(a=v+x.y2),"x"in x&&(u+=x.x),"y"in x&&(v+=x.y),g){case"m":o.replaceItem(h.createSVGPathSegMovetoAbs(u,v),p);break;case"l":o.replaceItem(h.createSVGPathSegLinetoAbs(u,v),p);break;case"h":o.replaceItem(h.createSVGPathSegLinetoHorizontalAbs(u),p);break;case"v":o.replaceItem(h.createSVGPathSegLinetoVerticalAbs(v),p);break;case"c":o.replaceItem(h.createSVGPathSegCurvetoCubicAbs(u,v,n,e,l,a),p);break;case"s":o.replaceItem(h.createSVGPathSegCurvetoCubicSmoothAbs(u,v,l,a),p);break;case"q":o.replaceItem(h.createSVGPathSegCurvetoQuadraticAbs(u,v,n,e),p);break;case"t":o.replaceItem(h.createSVGPathSegCurvetoQuadraticSmoothAbs(u,v),p);break;case"a":o.replaceItem(h.createSVGPathSegArcAbs(u,v,x.r1,x.r2,x.angle,x.largeArcFlag,x.sweepFlag),p);break;case"z":case"Z":u=i,v=r;break}(g=="M"||g=="m")&&(i=u,r=v)}}})()},function(c,E,t){/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(109),f=t(62),h=t(42),i=t(2),r=t(86),n={parseBody:function(e,l,a,o){o===void 0&&(o={});for(var u=i(a,"fixtures",[]),v=[],d=0;d<u.length;d++)for(var p=this.parseFixture(u[d]),x=0;x<p.length;x++)v.push(p[x]);var g=h.clone(a,!0);h.extend(g,o,!0),delete g.fixtures,delete g.type;var m=f.create(g);return f.setParts(m,v),f.setPosition(m,{x:e,y:l}),m},parseFixture:function(e){var l=h.extend({},!1,e);delete l.circle,delete l.vertices;var a;if(e.circle){var o=i(e.circle,"x"),u=i(e.circle,"y"),v=i(e.circle,"radius");a=[s.circle(o,u,v,l)]}else e.vertices&&(a=this.parseVertices(e.vertices,l));return a},parseVertices:function(e,l){l===void 0&&(l={});for(var a=[],o=0;o<e.length;o++)r.clockwiseSort(e[o]),a.push(f.create(h.extend({position:r.centre(e[o]),vertices:e[o]},l)));return s.flagCoincidentParts(a)}};c.exports=n},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(109),f=t(62),h={parseBody:function(i,r,n,e){e===void 0&&(e={});var l,a=n.vertices;if(a.length===1)e.vertices=a[0],l=f.create(e),s.flagCoincidentParts(l.parts);else{for(var o=[],u=0;u<a.length;u++){var v=f.create({vertices:a[u]});o.push(v)}s.flagCoincidentParts(o),e.parts=o,l=f.create(e)}return l.label=n.label,f.setPosition(l,{x:i,y:r}),l}};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AFTER_ADD:t(1407),AFTER_REMOVE:t(1408),AFTER_UPDATE:t(1409),BEFORE_ADD:t(1410),BEFORE_REMOVE:t(1411),BEFORE_UPDATE:t(1412),COLLISION_ACTIVE:t(1413),COLLISION_END:t(1414),COLLISION_START:t(1415),DRAG_END:t(1416),DRAG:t(1417),DRAG_START:t(1418),PAUSE:t(1419),RESUME:t(1420),SLEEP_END:t(1421),SLEEP_START:t(1422)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(109),f=t(62),h=t(0),i=t(514),r=t(10),n=t(2),e=t(108),l=t(86),a=new h({Extends:r,Mixins:[i.Bounce,i.Collision,i.Friction,i.Gravity,i.Mass,i.Sensor,i.Sleep,i.Static],initialize:function(u,v,d){r.call(this),this.tile=v,this.world=u,v.physics.matterBody&&v.physics.matterBody.destroy(),v.physics.matterBody=this;var p=n(d,"body",null),x=n(d,"addToWorld",!0);if(p)this.setBody(p,x);else{var g=v.getCollisionGroup(),m=n(g,"objects",[]);m.length>0?this.setFromTileCollision(d):this.setFromTileRectangle(d)}},setFromTileRectangle:function(o){o===void 0&&(o={}),e(o,"isStatic")||(o.isStatic=!0),e(o,"addToWorld")||(o.addToWorld=!0);var u=this.tile.getBounds(),v=u.x+u.width/2,d=u.y+u.height/2,p=s.rectangle(v,d,u.width,u.height,o);return this.setBody(p,o.addToWorld),this},setFromTileCollision:function(o){o===void 0&&(o={}),e(o,"isStatic")||(o.isStatic=!0),e(o,"addToWorld")||(o.addToWorld=!0);for(var u=this.tile.tilemapLayer.scaleX,v=this.tile.tilemapLayer.scaleY,d=this.tile.getLeft(),p=this.tile.getTop(),x=this.tile.getCollisionGroup(),g=n(x,"objects",[]),m=[],y=0;y<g.length;y++){var T=g[y],S=d+T.x*u,C=p+T.y*v,P=T.width*u,A=T.height*v,M=null;if(T.rectangle)M=s.rectangle(S+P/2,C+A/2,P,A,o);else if(T.ellipse)M=s.circle(S+P/2,C+A/2,P/2,o);else if(T.polygon||T.polyline){var O=T.polygon?T.polygon:T.polyline,I=O.map(function(z){return{x:z.x*u,y:z.y*v}}),B=l.create(I),G=l.centre(B);S+=G.x,C+=G.y,M=s.fromVertices(S,C,B,o)}M&&m.push(M)}return m.length===1?this.setBody(m[0],o.addToWorld):m.length>1&&(o.parts=m,this.setBody(f.create(o),o.addToWorld)),this},setBody:function(o,u){return u===void 0&&(u=!0),this.body&&this.removeBody(),this.body=o,this.body.gameObject=this,u&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});c.exports=a},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(1389);s.Body=t(62),s.Composite=t(148),s.World=t(1300),s.Detector=t(515),s.Grid=t(1301),s.Pairs=t(1302),s.Pair=t(473),s.Query=t(1390),s.Resolver=t(1303),s.SAT=t(516),s.Constraint=t(219),s.Common=t(42),s.Engine=t(1391),s.Events=t(240),s.Sleeping=t(239),s.Plugin=t(1299),s.Bodies=t(109),s.Composites=t(1292),s.Axes=t(513),s.Bounds=t(100),s.Svg=t(1293),s.Vector=t(99),s.Vertices=t(86),s.World.add=s.Composite.add,s.World.remove=s.Composite.remove,s.World.addComposite=s.Composite.addComposite,s.World.addBody=s.Composite.addBody,s.World.addConstraint=s.Composite.addConstraint,s.World.clear=s.Composite.clear,c.exports=s},function(c,E,t){var s={};c.exports=s;var f=t(42);(function(){s._registry={},s.register=function(h){if(s.isPlugin(h)||f.warn("Plugin.register:",s.toString(h),"does not implement all required fields."),h.name in s._registry){var i=s._registry[h.name],r=s.versionParse(h.version).number,n=s.versionParse(i.version).number;r>n?(f.warn("Plugin.register:",s.toString(i),"was upgraded to",s.toString(h)),s._registry[h.name]=h):r<n?f.warn("Plugin.register:",s.toString(i),"can not be downgraded to",s.toString(h)):h!==i&&f.warn("Plugin.register:",s.toString(h),"is already registered to different plugin object")}else s._registry[h.name]=h;return h},s.resolve=function(h){return s._registry[s.dependencyParse(h).name]},s.toString=function(h){return typeof h=="string"?h:(h.name||"anonymous")+"@"+(h.version||h.range||"0.0.0")},s.isPlugin=function(h){return h&&h.name&&h.version&&h.install},s.isUsed=function(h,i){return h.used.indexOf(i)>-1},s.isFor=function(h,i){var r=h.for&&s.dependencyParse(h.for);return!h.for||i.name===r.name&&s.versionSatisfies(i.version,r.range)},s.use=function(h,i){if(h.uses=(h.uses||[]).concat(i||[]),h.uses.length===0){f.warn("Plugin.use:",s.toString(h),"does not specify any dependencies to install.");return}for(var r=s.dependencies(h),n=f.topologicalSort(r),e=[],l=0;l<n.length;l+=1)if(n[l]!==h.name){var a=s.resolve(n[l]);if(!a){e.push("❌ "+n[l]);continue}s.isUsed(h,a.name)||(s.isFor(a,h)||(f.warn("Plugin.use:",s.toString(a),"is for",a.for,"but installed on",s.toString(h)+"."),a._warned=!0),a.install?a.install(h):(f.warn("Plugin.use:",s.toString(a),"does not specify an install function."),a._warned=!0),a._warned?(e.push("🔶 "+s.toString(a)),delete a._warned):e.push("✅ "+s.toString(a)),h.used.push(a.name))}e.length>0&&!a.silent&&f.info(e.join("  "))},s.dependencies=function(h,i){var r=s.dependencyParse(h),n=r.name;if(i=i||{},!(n in i)){h=s.resolve(h)||h,i[n]=f.map(h.uses||[],function(l){s.isPlugin(l)&&s.register(l);var a=s.dependencyParse(l),o=s.resolve(l);return o&&!s.versionSatisfies(o.version,a.range)?(f.warn("Plugin.dependencies:",s.toString(o),"does not satisfy",s.toString(a),"used by",s.toString(r)+"."),o._warned=!0,h._warned=!0):o||(f.warn("Plugin.dependencies:",s.toString(l),"used by",s.toString(r),"could not be resolved."),h._warned=!0),a.name});for(var e=0;e<i[n].length;e+=1)s.dependencies(i[n][e],i);return i}},s.dependencyParse=function(h){if(f.isString(h)){var i=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?))?$/;return i.test(h)||f.warn("Plugin.dependencyParse:",h,"is not a valid dependency string."),{name:h.split("@")[0],range:h.split("@")[1]||"*"}}return{name:h.name,range:h.range||h.version}},s.versionParse=function(h){var i=/^\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?$/;i.test(h)||f.warn("Plugin.versionParse:",h,"is not a valid version or range.");var r=h.split("-");h=r[0];var n=isNaN(Number(h[0])),e=n?h.substr(1):h,l=f.map(e.split("."),function(a){return Number(a)});return{isRange:n,version:e,range:h,operator:n?h[0]:"",parts:l,prerelease:r[1],number:l[0]*1e8+l[1]*1e4+l[2]}},s.versionSatisfies=function(h,i){i=i||"*";var r=s.versionParse(i),n=r.parts,e=s.versionParse(h),l=e.parts;if(r.isRange){if(r.operator==="*"||h==="*")return!0;if(r.operator==="~")return l[0]===n[0]&&l[1]===n[1]&&l[2]>=n[2];if(r.operator==="^")return n[0]>0?l[0]===n[0]&&e.number>=r.number:n[1]>0?l[1]===n[1]&&l[2]>=n[2]:l[2]===n[2]}return h===i||h==="*"}})()},function(c,E,t){var s={};c.exports=s;var f=t(148);t(219);var h=t(42);(function(){s.create=function(i){var r=f.create(),n={label:"World",gravity:{x:0,y:1,scale:.001},bounds:{min:{x:-1/0,y:-1/0},max:{x:1/0,y:1/0}}};return h.extend(r,n,i)}})()},function(c,E,t){var s={};c.exports=s;var f=t(473),h=t(515),i=t(42);(function(){s.create=function(r){var n={controller:s,detector:h.collisions,buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return i.extend(n,r)},s.update=function(r,n,e,l){var a,o,u,v=e.world,d=r.buckets,p,x,g=!1,m=e.metrics;for(m.broadphaseTests=0,a=0;a<n.length;a++){var y=n[a];if(!(y.isSleeping&&!l)&&!(y.bounds.max.x<v.bounds.min.x||y.bounds.min.x>v.bounds.max.x||y.bounds.max.y<v.bounds.min.y||y.bounds.min.y>v.bounds.max.y)){var T=s._getRegion(r,y);if(!y.region||T.id!==y.region.id||l){m.broadphaseTests+=1,(!y.region||l)&&(y.region=T);var S=s._regionUnion(T,y.region);for(o=S.startCol;o<=S.endCol;o++)for(u=S.startRow;u<=S.endRow;u++){x=s._getBucketId(o,u),p=d[x];var C=o>=T.startCol&&o<=T.endCol&&u>=T.startRow&&u<=T.endRow,P=o>=y.region.startCol&&o<=y.region.endCol&&u>=y.region.startRow&&u<=y.region.endRow;!C&&P&&P&&p&&s._bucketRemoveBody(r,p,y),(y.region===T||C&&!P||l)&&(p||(p=s._createBucket(d,x)),s._bucketAddBody(r,p,y))}y.region=T,g=!0}}}g&&(r.pairsList=s._createActivePairsList(r))},s.clear=function(r){r.buckets={},r.pairs={},r.pairsList=[]},s._regionUnion=function(r,n){var e=Math.min(r.startCol,n.startCol),l=Math.max(r.endCol,n.endCol),a=Math.min(r.startRow,n.startRow),o=Math.max(r.endRow,n.endRow);return s._createRegion(e,l,a,o)},s._getRegion=function(r,n){var e=n.bounds,l=Math.floor(e.min.x/r.bucketWidth),a=Math.floor(e.max.x/r.bucketWidth),o=Math.floor(e.min.y/r.bucketHeight),u=Math.floor(e.max.y/r.bucketHeight);return s._createRegion(l,a,o,u)},s._createRegion=function(r,n,e,l){return{id:r+","+n+","+e+","+l,startCol:r,endCol:n,startRow:e,endRow:l}},s._getBucketId=function(r,n){return"C"+r+"R"+n},s._createBucket=function(r,n){var e=r[n]=[];return e},s._bucketAddBody=function(r,n,e){for(var l=0;l<n.length;l++){var a=n[l];if(!(e.id===a.id||e.isStatic&&a.isStatic)){var o=f.id(e,a),u=r.pairs[o];u?u[2]+=1:r.pairs[o]=[e,a,1]}}n.push(e)},s._bucketRemoveBody=function(r,n,e){n.splice(n.indexOf(e),1);for(var l=0;l<n.length;l++){var a=n[l],o=f.id(e,a),u=r.pairs[o];u&&(u[2]-=1)}},s._createActivePairsList=function(r){var n,e,l=[];n=i.keys(r.pairs);for(var a=0;a<n.length;a++)e=r.pairs[n[a]],e[2]>0?l.push(e):delete r.pairs[n[a]];return l}})()},function(c,E,t){var s={};c.exports=s;var f=t(473),h=t(42);(function(){s._pairMaxIdleLife=1e3,s.create=function(i){return h.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},i)},s.update=function(i,r,n){var e=i.list,l=i.table,a=i.collisionStart,o=i.collisionEnd,u=i.collisionActive,v,d,p,x;for(a.length=0,o.length=0,u.length=0,x=0;x<e.length;x++)e[x].confirmedActive=!1;for(x=0;x<r.length;x++)v=r[x],v.collided&&(d=f.id(v.bodyA,v.bodyB),p=l[d],p?(p.isActive?u.push(p):a.push(p),f.update(p,v,n),p.confirmedActive=!0):(p=f.create(v,n),l[d]=p,a.push(p),e.push(p)));for(x=0;x<e.length;x++)p=e[x],p.isActive&&!p.confirmedActive&&(f.setActive(p,!1,n),o.push(p))},s.removeOld=function(i,r){var n=i.list,e=i.table,l=[],a,o,u,v;for(v=0;v<n.length;v++){if(a=n[v],o=a.collision,o.bodyA.isSleeping||o.bodyB.isSleeping){a.timeUpdated=r;continue}r-a.timeUpdated>s._pairMaxIdleLife&&l.push(v)}for(v=0;v<l.length;v++)u=l[v]-v,a=n[u],delete e[a.id],n.splice(u,1)},s.clear=function(i){return i.table={},i.list.length=0,i.collisionStart.length=0,i.collisionActive.length=0,i.collisionEnd.length=0,i}})()},function(c,E,t){var s={};c.exports=s;var f=t(86),h=t(99),i=t(42),r=t(100);(function(){s._restingThresh=4,s._restingThreshTangent=6,s._positionDampen=.9,s._positionWarming=.8,s._frictionNormalMultiplier=5,s.preSolvePosition=function(n){var e,l,a;for(e=0;e<n.length;e++)l=n[e],l.isActive&&(a=l.activeContacts.length,l.collision.parentA.totalContacts+=a,l.collision.parentB.totalContacts+=a)},s.solvePosition=function(n,e,l){var a,o,u,v,d,p,x,g,m,y,T,S,C,P,A,M,O=l*s._positionDampen;for(a=0;a<e.length;a++){var I=e[a];I.previousPositionImpulse.x=I.positionImpulse.x,I.previousPositionImpulse.y=I.positionImpulse.y}for(a=0;a<n.length;a++)v=n[a],!(!v.isActive||v.isSensor)&&(d=v.collision,p=d.parentA,x=d.parentB,g=d.normal,T=p.previousPositionImpulse,S=x.previousPositionImpulse,y=d.penetration,P=S.x-T.x+y.x,A=S.y-T.y+y.y,o=g.x,u=g.y,m=o*P+u*A,v.separation=m,M=(m-v.slop)*O,(p.isStatic||x.isStatic)&&(M*=2),p.isStatic||p.isSleeping||(C=M/p.totalContacts,p.positionImpulse.x+=o*C,p.positionImpulse.y+=u*C),x.isStatic||x.isSleeping||(C=M/x.totalContacts,x.positionImpulse.x-=o*C,x.positionImpulse.y-=u*C))},s.postSolvePosition=function(n){for(var e=0;e<n.length;e++){var l=n[e];if(l.totalContacts=0,l.positionImpulse.x!==0||l.positionImpulse.y!==0){for(var a=0;a<l.parts.length;a++){var o=l.parts[a];f.translate(o.vertices,l.positionImpulse),r.update(o.bounds,o.vertices,l.velocity),o.position.x+=l.positionImpulse.x,o.position.y+=l.positionImpulse.y}l.positionPrev.x+=l.positionImpulse.x,l.positionPrev.y+=l.positionImpulse.y,h.dot(l.positionImpulse,l.velocity)<0?(l.positionImpulse.x=0,l.positionImpulse.y=0):(l.positionImpulse.x*=s._positionWarming,l.positionImpulse.y*=s._positionWarming)}}},s.preSolveVelocity=function(n){var e,l,a,o,u,v,d,p,x,g,m,y,T,S,C=h._temp[0],P=h._temp[1];for(e=0;e<n.length;e++)if(a=n[e],!(!a.isActive||a.isSensor))for(o=a.activeContacts,u=a.collision,v=u.parentA,d=u.parentB,p=u.normal,x=u.tangent,l=0;l<o.length;l++)g=o[l],m=g.vertex,y=g.normalImpulse,T=g.tangentImpulse,(y!==0||T!==0)&&(C.x=p.x*y+x.x*T,C.y=p.y*y+x.y*T,v.isStatic||v.isSleeping||(S=h.sub(m,v.position,P),v.positionPrev.x+=C.x*v.inverseMass,v.positionPrev.y+=C.y*v.inverseMass,v.anglePrev+=h.cross(S,C)*v.inverseInertia),d.isStatic||d.isSleeping||(S=h.sub(m,d.position,P),d.positionPrev.x-=C.x*d.inverseMass,d.positionPrev.y-=C.y*d.inverseMass,d.anglePrev-=h.cross(S,C)*d.inverseInertia))},s.solveVelocity=function(n,e){for(var l=e*e,a=h._temp[0],o=h._temp[1],u=h._temp[2],v=h._temp[3],d=h._temp[4],p=h._temp[5],x=0;x<n.length;x++){var g=n[x];if(!(!g.isActive||g.isSensor)){var m=g.collision,y=m.parentA,T=m.parentB,S=m.normal,C=m.tangent,P=g.activeContacts,A=1/P.length;y.velocity.x=y.position.x-y.positionPrev.x,y.velocity.y=y.position.y-y.positionPrev.y,T.velocity.x=T.position.x-T.positionPrev.x,T.velocity.y=T.position.y-T.positionPrev.y,y.angularVelocity=y.angle-y.anglePrev,T.angularVelocity=T.angle-T.anglePrev;for(var M=0;M<P.length;M++){var O=P[M],I=O.vertex,B=h.sub(I,y.position,o),G=h.sub(I,T.position,u),z=h.add(y.velocity,h.mult(h.perp(B),y.angularVelocity),v),N=h.add(T.velocity,h.mult(h.perp(G),T.angularVelocity),d),L=h.sub(z,N,p),R=h.dot(S,L),F=h.dot(C,L),Y=Math.abs(F),D=i.sign(F),X=(1+g.restitution)*R,U=i.clamp(g.separation+R,0,1)*s._frictionNormalMultiplier,V=F,w=1/0;Y>g.friction*g.frictionStatic*U*l&&(w=Y,V=i.clamp(g.friction*D*l,-w,w));var W=h.cross(B,S),H=h.cross(G,S),K=A/(y.inverseMass+T.inverseMass+y.inverseInertia*W*W+T.inverseInertia*H*H);if(X*=K,V*=K,R<0&&R*R>s._restingThresh*l)O.normalImpulse=0;else{var J=O.normalImpulse;O.normalImpulse=Math.min(O.normalImpulse+X,0),X=O.normalImpulse-J}if(F*F>s._restingThreshTangent*l)O.tangentImpulse=0;else{var Z=O.tangentImpulse;O.tangentImpulse=i.clamp(O.tangentImpulse+V,-w,w),V=O.tangentImpulse-Z}a.x=S.x*X+C.x*V,a.y=S.y*X+C.y*V,y.isStatic||y.isSleeping||(y.positionPrev.x+=a.x*y.inverseMass,y.positionPrev.y+=a.y*y.inverseMass,y.anglePrev+=h.cross(B,a)*y.inverseInertia),T.isStatic||T.isSleeping||(T.positionPrev.x-=a.x*T.inverseMass,T.positionPrev.y-=a.y*T.inverseMass,T.anglePrev-=h.cross(G,a)*T.inverseInertia)}}}}})()},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BasePlugin:t(474),DefaultPlugins:t(175),PluginCache:t(23),PluginManager:t(370),ScenePlugin:t(1305)}},function(c,E,t){/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2020 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var s=t(474),f=t(0),h=t(22),i=new f({Extends:s,initialize:function(n,e){s.call(this,e),this.scene=n,this.systems=n.sys,n.sys.events.once(h.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});c.exports=i},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(18),f=t(177),h={Center:t(359),Events:t(92),Orientation:t(360),ScaleManager:t(371),ScaleModes:t(361),Zoom:t(362)};h=s(!1,h,f.CENTER),h=s(!1,h,f.ORIENTATION),h=s(!1,h,f.SCALE_MODE),h=s(!1,h,f.ZOOM),c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(125),f=t(18),h={Events:t(22),SceneManager:t(373),ScenePlugin:t(1308),Settings:t(375),Systems:t(180)};h=f(!1,h,s),c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(19),f=t(0),h=t(22),i=t(2),r=t(23),n=new f({initialize:function(l){this.scene=l,this.systems=l.sys,this.settings=l.sys.settings,this.key=l.sys.settings.key,this.manager=l.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,l.sys.events.once(h.BOOT,this.boot,this),l.sys.events.on(h.START,this.pluginStart,this)},boot:function(){this.systems.events.once(h.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(h.SHUTDOWN,this.shutdown,this)},start:function(e,l){return e===void 0&&(e=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",e,l),this},restart:function(e){var l=this.key;return this.manager.queueOp("stop",l),this.manager.queueOp("start",l,e),this},transition:function(e){e===void 0&&(e={});var l=i(e,"target",!1),a=this.manager.getScene(l);if(!l||!this.checkValidTransition(a))return!1;var o=i(e,"duration",1e3);this._elapsed=0,this._target=a,this._duration=o,this._willSleep=i(e,"sleep",!1),this._willRemove=i(e,"remove",!1);var u=i(e,"onUpdate",null);u&&(this._onUpdate=u,this._onUpdateScope=i(e,"onUpdateScope",this.scene));var v=i(e,"allowInput",!1);this.settings.transitionAllowInput=v;var d=a.sys.settings;return d.isTransition=!0,d.transitionFrom=this.scene,d.transitionDuration=o,d.transitionAllowInput=v,i(e,"moveAbove",!1)?this.manager.moveAbove(this.key,l):i(e,"moveBelow",!1)&&this.manager.moveBelow(this.key,l),a.sys.isSleeping()?a.sys.wake(i(e,"data")):this.manager.start(l,i(e,"data")),this.systems.events.emit(h.TRANSITION_OUT,a,o),this.systems.events.on(h.UPDATE,this.step,this),!0},checkValidTransition:function(e){return!(!e||e.sys.isActive()||e.sys.isTransitioning()||e===this.scene||this.systems.isTransitioning())},step:function(e,l){this._elapsed+=l,this.transitionProgress=s(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var e=this._target.sys,l=this._target.sys.settings;this.systems.events.off(h.UPDATE,this.step,this),e.events.emit(h.TRANSITION_COMPLETE,this.scene),l.isTransition=!1,l.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(e,l,a,o){return this.manager.add(e,l,a,o)},launch:function(e,l){return e&&e!==this.key&&this.manager.queueOp("start",e,l),this},run:function(e,l){return e&&e!==this.key&&this.manager.queueOp("run",e,l),this},pause:function(e,l){return e===void 0&&(e=this.key),this.manager.queueOp("pause",e,l),this},resume:function(e,l){return e===void 0&&(e=this.key),this.manager.queueOp("resume",e,l),this},sleep:function(e,l){return e===void 0&&(e=this.key),this.manager.queueOp("sleep",e,l),this},wake:function(e,l){return e===void 0&&(e=this.key),this.manager.queueOp("wake",e,l),this},switch:function(e){return e!==this.key&&this.manager.queueOp("switch",this.key,e),this},stop:function(e,l){return e===void 0&&(e=this.key),this.manager.queueOp("stop",e,l),this},setActive:function(e,l,a){l===void 0&&(l=this.key);var o=this.manager.getScene(l);return o&&o.sys.setActive(e,a),this},setVisible:function(e,l){l===void 0&&(l=this.key);var a=this.manager.getScene(l);return a&&a.sys.setVisible(e),this},isSleeping:function(e){return e===void 0&&(e=this.key),this.manager.isSleeping(e)},isActive:function(e){return e===void 0&&(e=this.key),this.manager.isActive(e)},isPaused:function(e){return e===void 0&&(e=this.key),this.manager.isPaused(e)},isVisible:function(e){return e===void 0&&(e=this.key),this.manager.isVisible(e)},swapPosition:function(e,l){return l===void 0&&(l=this.key),e!==l&&this.manager.swapPosition(e,l),this},moveAbove:function(e,l){return l===void 0&&(l=this.key),e!==l&&this.manager.moveAbove(e,l),this},moveBelow:function(e,l){return l===void 0&&(l=this.key),e!==l&&this.manager.moveBelow(e,l),this},remove:function(e){return e===void 0&&(e=this.key),this.manager.remove(e),this},moveUp:function(e){return e===void 0&&(e=this.key),this.manager.moveUp(e),this},moveDown:function(e){return e===void 0&&(e=this.key),this.manager.moveDown(e),this},bringToTop:function(e){return e===void 0&&(e=this.key),this.manager.bringToTop(e),this},sendToBack:function(e){return e===void 0&&(e=this.key),this.manager.sendToBack(e),this},get:function(e){return this.manager.getScene(e)},getIndex:function(e){return e===void 0&&(e=this.key),this.manager.getIndex(e)},shutdown:function(){var e=this.systems.events;e.off(h.SHUTDOWN,this.shutdown,this),e.off(h.POST_UPDATE,this.step,this),e.off(h.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(h.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});r.register("ScenePlugin",n,"scenePlugin"),c.exports=n},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={List:t(129),Map:t(162),ProcessQueue:t(186),RTree:t(470),Set:t(133),Size:t(372)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(18),f=t(1311),h={CanvasTexture:t(377),Events:t(121),FilterMode:f,Frame:t(94),Parsers:t(379),Texture:t(182),TextureManager:t(376),TextureSource:t(378)};h=s(!1,h,f),c.exports=h},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={LINEAR:0,NEAREST:1};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Components:t(141),Parsers:t(1342),Formats:t(32),ImageCollection:t(485),ParseToTilemap:t(227),Tile:t(74),Tilemap:t(494),TilemapCreator:t(1351),TilemapFactory:t(1352),Tileset:t(104),LayerData:t(102),MapData:t(103),ObjectLayer:t(488),DynamicTilemapLayer:t(495),StaticTilemapLayer:t(496)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(24),f=t(51),h=function(i,r,n,e,l,a,o,u){i<0&&(i=0),r<0&&(r=0),o===void 0&&(o=!0);for(var v=s(i,r,n,e,null,u),d=l-i,p=a-r,x=0;x<v.length;x++){var g=v[x].x+d,m=v[x].y+p;g>=0&&g<u.width&&m>=0&&m<u.height&&u.data[m][g]&&u.data[m][g].copy(v[x])}o&&f(l-1,a-1,n+2,e+2,u)};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(143),f=t(144),h=t(24),i=t(475),r=function(n,e,l,a,o,u){l===void 0&&(l={}),Array.isArray(n)||(n=[n]);var v=u.tilemapLayer;a===void 0&&(a=v.scene),o===void 0&&(o=a.cameras.main);var d=h(0,0,u.width,u.height,null,u),p=[],x;for(x=0;x<d.length;x++){var g=d[x];if(n.indexOf(g.index)!==-1){l.x=s(g.x,o,u),l.y=f(g.y,o,u);var m=a.make.sprite(l);p.push(m)}}if(typeof e=="number")for(x=0;x<n.length;x++)i(n[x],e,0,0,u.width,u.height,u);else if(Array.isArray(e))for(x=0;x<n.length;x++)i(n[x],e[x],0,0,u.width,u.height,u);return p};c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(93),f=t(330),h=function(i,r,n,e){n===void 0&&(n=[]),e===void 0&&(e=0),n.length=0;var l=i.tilemapLayer.tilemap,a=i.tilemapLayer,o=i.data,u=i.width,v=i.height,d=Math.floor(l.tileWidth*a.scaleX),p=Math.floor(l.tileHeight*a.scaleY),x=0,g=u,m=0,y=v;if(!a.skipCull&&a.scrollFactorX===1&&a.scrollFactorY===1){var T=s(r.worldView.x-a.x,d,0,!0)-a.cullPaddingX,S=f(r.worldView.right-a.x,d,0,!0)+a.cullPaddingX,C=s(r.worldView.y-a.y,p,0,!0)-a.cullPaddingY,P=f(r.worldView.bottom-a.y,p,0,!0)+a.cullPaddingY;x=Math.max(0,T),g=Math.min(u,S),m=Math.max(0,C),y=Math.min(v,P)}var A,M,O;if(e===0)for(M=m;M<y;M++)for(A=x;o[M]&&A<g;A++)O=o[M][A],!(!O||O.index===-1||!O.visible||O.alpha===0)&&n.push(O);else if(e===1)for(M=m;M<y;M++)for(A=g;o[M]&&A>=x;A--)O=o[M][A],!(!O||O.index===-1||!O.visible||O.alpha===0)&&n.push(O);else if(e===2)for(M=y;M>=m;M--)for(A=x;o[M]&&A<g;A++)O=o[M][A],!(!O||O.index===-1||!O.visible||O.alpha===0)&&n.push(O);else if(e===3)for(M=y;M>=m;M--)for(A=g;o[M]&&A>=x;A--)O=o[M][A],!(!O||O.index===-1||!O.visible||O.alpha===0)&&n.push(O);return a.tilesDrawn=n.length,a.tilesTotal=u*v,n};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(24),f=t(51),h=t(73),i=function(r,n,e,l,a,o,u){for(var v=u.collideIndexes.indexOf(r)!==-1,d=s(n,e,l,a,null,u),p=0;p<d.length;p++)d[p].index=r,h(d[p],v);o&&f(n-1,e-1,l+2,a+2,u)};c.exports=i},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(24),f=function(h,i,r,n,e,l,a,o){var u=s(r,n,e,l,a,o);return u.filter(h,i)};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i){f===void 0&&(f=0),h===void 0&&(h=!1);var r=0,n,e,l;if(h){for(e=i.height-1;e>=0;e--)for(n=i.width-1;n>=0;n--)if(l=i.data[e][n],l&&l.index===s){if(r===f)return l;r+=1}}else for(e=0;e<i.height;e++)for(n=0;n<i.width;n++)if(l=i.data[e][n],l&&l.index===s){if(r===f)return l;r+=1}return null};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(24),f=function(h,i,r,n,e,l,a,o){var u=s(r,n,e,l,a,o);return u.find(h,i)||null};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(24),f=function(h,i,r,n,e,l,a,o){var u=s(r,n,e,l,a,o);u.forEach(h,i)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(142),f=t(63),h=t(64),i=function(r,n,e,l,a){var o=f(r,!0,l,a),u=h(n,!0,l,a);return s(o,u,e,a)};c.exports=i},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(430),f=t(24),h=t(431),i=t(1),r=t(143),n=t(144),e=t(63),l=t(64),a=function(u,v){return h.RectangleToTriangle(v,u)},o=function(u,v,d,p){if(u===void 0)return[];var x=i;u instanceof s.Circle?x=h.CircleToRectangle:u instanceof s.Rectangle?x=h.RectangleToRectangle:u instanceof s.Triangle?x=a:u instanceof s.Line&&(x=h.LineToRectangle);var g=e(u.left,!0,d,p),m=l(u.top,!0,d,p),y=Math.ceil(e(u.right,!1,d,p)),T=Math.ceil(l(u.bottom,!1,d,p)),S=Math.max(y-g,1),C=Math.max(T-m,1),P=f(g,m,S,C,v,p),A=p.tileWidth,M=p.tileHeight;p.tilemapLayer&&(A*=p.tilemapLayer.scaleX,M*=p.tilemapLayer.scaleY);for(var O=[],I=new s.Rectangle(0,0,A,M),B=0;B<P.length;B++){var G=P[B];I.x=r(G.x,d,p),I.y=n(G.y,d,p),x(u,I)&&O.push(G)}return O};c.exports=o},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(24),f=t(63),h=t(64),i=function(r,n,e,l,a,o,u){var v=f(r,!0,o,u),d=h(n,!0,o,u),p=Math.ceil(f(r+e,!1,o,u)),x=Math.ceil(h(n+l,!1,o,u));return s(v,d,p-v,x-d,a,u)};c.exports=i},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(476),f=t(63),h=t(64),i=function(r,n,e,l){var a=f(r,!0,e,l),o=h(n,!0,e,l);return s(a,o,l)};c.exports=i},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(221),f=t(63),h=t(64),i=function(r,n,e,l,a,o){var u=f(n,!0,a,o),v=h(e,!0,a,o);return s(r,u,v,l,o)};c.exports=i},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(51),f=t(221),h=function(i,r,n,e,l){if(!Array.isArray(i))return null;e===void 0&&(e=!0),Array.isArray(i[0])||(i=[i]);for(var a=i.length,o=i[0].length,u=0;u<a;u++)for(var v=0;v<o;v++){var d=i[u][v];f(d,r+v,n+u,!1,l)}e&&s(r-1,n-1,o+2,a+2,l)};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(24),f=t(185),h=function(i,r,n,e,l,a){var o,u=s(i,r,n,e,null,a);if(l===void 0)for(l=[],o=0;o<u.length;o++)l.indexOf(u[o].index)===-1&&l.push(u[o].index);for(o=0;o<u.length;o++)u[o].index=f(l)};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(477),f=t(63),h=t(64),i=function(r,n,e,l,a,o){var u=f(r,!0,a,o),v=h(n,!0,a,o);return s(u,v,e,l,o)};c.exports=i},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(24),f=t(354),h=new f(105,210,231,150),i=new f(243,134,48,200),r=new f(40,39,37,150),n=function(e,l,a){l===void 0&&(l={});var o=l.tileColor!==void 0?l.tileColor:h,u=l.collidingTileColor!==void 0?l.collidingTileColor:i,v=l.faceColor!==void 0?l.faceColor:r,d=s(0,0,a.width,a.height,null,a);e.translateCanvas(a.tilemapLayer.x,a.tilemapLayer.y),e.scaleCanvas(a.tilemapLayer.scaleX,a.tilemapLayer.scaleY);for(var p=0;p<d.length;p++){var x=d[p],g=x.width,m=x.height,y=x.pixelX,T=x.pixelY,S=x.collides?u:o;S!==null&&(e.fillStyle(S.color,S.alpha/255),e.fillRect(y,T,g,m)),y+=1,T+=1,g-=2,m-=2,v!==null&&(e.lineStyle(1,v.color,v.alpha/255),x.faceTop&&e.lineBetween(y,T,y+g,T),x.faceRight&&e.lineBetween(y+g,T,y+g,T+m),x.faceBottom&&e.lineBetween(y,T+m,y+g,T+m),x.faceLeft&&e.lineBetween(y,T,y,T+m))}};c.exports=n},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(73),f=t(51),h=t(222),i=function(r,n,e,l,a){n===void 0&&(n=!0),e===void 0&&(e=!0),Array.isArray(r)||(r=[r]),a===void 0&&(a=!0);for(var o=0;o<r.length;o++)h(r[o],n,l);if(a)for(var u=0;u<l.height;u++)for(var v=0;v<l.width;v++){var d=l.data[u][v];d&&r.indexOf(d.index)!==-1&&s(d,n)}e&&f(0,0,l.width,l.height,l)};c.exports=i},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(73),f=t(51),h=t(222),i=function(r,n,e,l,a,o){if(e===void 0&&(e=!0),l===void 0&&(l=!0),o===void 0&&(o=!0),!(r>n)){for(var u=r;u<=n;u++)h(u,e,a);if(o)for(var v=0;v<a.height;v++)for(var d=0;d<a.width;d++){var p=a.data[v][d];p&&p.index>=r&&p.index<=n&&s(p,e)}l&&f(0,0,a.width,a.height,a)}};c.exports=i},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(73),f=t(51),h=t(222),i=function(r,n,e,l){n===void 0&&(n=!0),e===void 0&&(e=!0),Array.isArray(r)||(r=[r]);for(var a=0;a<l.height;a++)for(var o=0;o<l.width;o++){var u=l.data[a][o];u&&r.indexOf(u.index)===-1&&(s(u,n),h(u.index,n,l))}e&&f(0,0,l.width,l.height,l)};c.exports=i},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(73),f=t(51),h=t(108),i=function(r,n,e,l){n===void 0&&(n=!0),e===void 0&&(e=!0);for(var a=0;a<l.height;a++)for(var o=0;o<l.width;o++){var u=l.data[a][o];if(u){for(var v in r)if(h(u.properties,v)){var d=r[v];Array.isArray(d)||(d=[d]);for(var p=0;p<d.length;p++)u.properties[v]===d[p]&&s(u,n)}}}e&&f(0,0,l.width,l.height,l)};c.exports=i},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(73),f=t(51),h=function(i,r,n){i===void 0&&(i=!0),r===void 0&&(r=!0);for(var e=0;e<n.height;e++)for(var l=0;l<n.width;l++){var a=n.data[e][l];if(a){var o=a.getCollisionGroup();o&&o.objects&&o.objects.length>0&&s(a,i)}}r&&f(0,0,n.width,n.height,n)};c.exports=h},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i){if(typeof s=="number")i.callbacks[s]=f!==null?{callback:f,callbackContext:h}:void 0;else for(var r=0,n=s.length;r<n;r++)i.callbacks[s[r]]=f!==null?{callback:f,callbackContext:h}:void 0};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(24),f=function(h,i,r,n,e,l,a){for(var o=s(h,i,r,n,null,a),u=0;u<o.length;u++)o[u].setCollisionCallback(e,l)};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(24),f=t(114),h=function(i,r,n,e,l){var a=s(i,r,n,e,null,l),o=a.map(function(v){return v.index});f(o);for(var u=0;u<a.length;u++)a[u].index=o[u]};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(24),f=function(h,i,r,n,e,l,a){for(var o=s(r,n,e,l,null,a),u=0;u<o.length;u++)o[u]&&(o[u].index===h?o[u].index=i:o[u].index===i&&(o[u].index=h))};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(143),f=t(144),h=t(3),i=function(r,n,e,l,a){return e===void 0&&(e=new h(0,0)),e.x=s(r,l,a),e.y=f(n,l,a),e};c.exports=i},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(24),f=function(h,i,r,n,e,l){if(e!==void 0){var a,o=s(h,i,r,n,null,l),u=0;for(a=0;a<e.length;a++)u+=e[a].weight;if(!(u<=0))for(a=0;a<o.length;a++){for(var v=Math.random()*u,d=0,p=-1,x=0;x<e.length;x++)if(d+=e[x].weight,v<=d){var g=e[x].index;p=Array.isArray(g)?g[Math.floor(Math.random()*g.length)]:g;break}o[a].index=p}}};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(63),f=t(64),h=t(3),i=function(r,n,e,l,a,o){return l===void 0&&(l=new h(0,0)),l.x=s(r,e,a,o),l.y=f(n,e,a,o),l};c.exports=i},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Parse:t(478),Parse2DArray:t(223),ParseCSV:t(479),Impact:t(1343),Tiled:t(1344)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ParseTileLayers:t(492),ParseTilesets:t(493),ParseWeltmeister:t(491)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={AssignTileProperties:t(490),Base64Decode:t(482),BuildTilesetIndex:t(489),ParseGID:t(224),ParseImageLayers:t(483),ParseJSONTiled:t(480),ParseObject:t(226),ParseObjectLayers:t(487),ParseTileLayers:t(481),ParseTilesets:t(484)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(1),f=t(1);s=t(1346),f=t(1347),c.exports={renderWebGL:s,renderCanvas:f}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(9),f=function(h,i,r,n){i.cull(n);var e=i.culledTiles,l=e.length,a=n.alpha*i.alpha;if(!(l===0||a<=0))for(var o=i.gidMap,u=i.pipeline,v=s.getTintAppendFloatAlphaAndSwap,d=i.scrollFactorX,p=i.scrollFactorY,x=i.x,g=i.y,m=i.scaleX,y=i.scaleY,T=i.tileset,S=0;S<T.length;S++)for(var C=T[S],P=C.glTexture,A=0;A<l;A++){var M=e[A],O=o[M.index];if(O===C){var I=O.getTileTextureCoordinates(M.index);if(I!==null){var B=M.width,G=M.height,z=I.x,N=I.y,L=M.width*.5,R=M.height*.5,F=v(M.tint,a*M.alpha);u.batchTexture(i,P,P.width,P.height,x+(L+M.pixelX)*m,g+(R+M.pixelY)*y,M.width,M.height,m,y,M.rotation,M.flipX,M.flipY,d,p,L,R,z,N,B,G,F,F,F,F,!1,0,0,n,null,!0)}}}};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i,r){f.cull(i);var n=f.culledTiles,e=n.length;if(e!==0){var l=s._tempMatrix1,a=s._tempMatrix2,o=s._tempMatrix3;a.applyITRS(f.x,f.y,f.rotation,f.scaleX,f.scaleY),l.copyFrom(i.matrix);var u=s.currentContext,v=f.gidMap;u.save(),r?(l.multiplyWithOffset(r,-i.scrollX*f.scrollFactorX,-i.scrollY*f.scrollFactorY),a.e=f.x,a.f=f.y,l.multiply(a,o),o.copyToContext(u)):(a.e-=i.scrollX*f.scrollFactorX,a.f-=i.scrollY*f.scrollFactorY,a.copyToContext(u));var d=i.alpha*f.alpha;(!s.antialias||f.scaleX>1||f.scaleY>1)&&(u.imageSmoothingEnabled=!1);for(var p=0;p<e;p++){var x=n[p],g=v[x.index];if(g){var m=g.image.getSourceImage(),y=g.getTileTextureCoordinates(x.index);if(y){var T=x.width/2,S=x.height/2;u.save(),u.translate(x.pixelX+T,x.pixelY+S),x.rotation!==0&&u.rotate(x.rotation),(x.flipX||x.flipY)&&u.scale(x.flipX?-1:1,x.flipY?-1:1),u.globalAlpha=d*x.alpha,u.drawImage(m,y.x,y.y,x.width,x.height,-T,-S,x.width,x.height),u.restore()}}}u.restore()}};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(1),f=t(1);s=t(1349),f=t(1350),c.exports={renderWebGL:s,renderCanvas:f}},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i,r){var n=f.tileset,e=f.pipeline,l=e.vertexBuffer;s.setPipeline(e);var a=s._tempMatrix1,o=s._tempMatrix2,u=s._tempMatrix3;o.applyITRS(f.x,f.y,f.rotation,f.scaleX,f.scaleY),a.copyFrom(i.matrix),r?(a.multiplyWithOffset(r,-i.scrollX*f.scrollFactorX,-i.scrollY*f.scrollFactorY),o.e=f.x,o.f=f.y,a.multiply(o,u)):(o.e-=i.scrollX*f.scrollFactorX,o.f-=i.scrollY*f.scrollFactorY,a.multiply(o,u));var v=e.modelIdentity().modelMatrix;v[0]=u.a,v[1]=u.b,v[4]=u.c,v[5]=u.d,v[12]=u.e,v[13]=u.f,e.viewLoad2D(i.matrix.matrix);for(var d=0;d<n.length;d++)f.upload(i,d),f.vertexCount[d]>0&&(s.currentPipeline&&s.currentPipeline.vertexCount>0&&s.flush(),e.vertexBuffer=f.vertexBuffer[d],s.setPipeline(e),s.setTexture2D(n[d].glTexture,0),s.gl.drawArrays(e.topology,0,f.vertexCount[d]));e.vertexBuffer=l,e.viewIdentity(),e.modelIdentity()};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f,h,i,r){f.cull(i);var n=f.culledTiles,e=n.length;if(e!==0){var l=s._tempMatrix1,a=s._tempMatrix2,o=s._tempMatrix3;a.applyITRS(f.x,f.y,f.rotation,f.scaleX,f.scaleY),l.copyFrom(i.matrix);var u=s.currentContext,v=f.gidMap;u.save(),r?(l.multiplyWithOffset(r,-i.scrollX*f.scrollFactorX,-i.scrollY*f.scrollFactorY),a.e=f.x,a.f=f.y,l.multiply(a,o),o.copyToContext(u)):(a.e-=i.scrollX*f.scrollFactorX,a.f-=i.scrollY*f.scrollFactorY,a.copyToContext(u));var d=i.alpha*f.alpha;(!s.antialias||f.scaleX>1||f.scaleY>1)&&(u.imageSmoothingEnabled=!1);for(var p=0;p<e;p++){var x=n[p],g=v[x.index];if(g){var m=g.image.getSourceImage(),y=g.getTileTextureCoordinates(x.index);if(y){var T=g.tileWidth,S=g.tileHeight,C=T/2,P=S/2;u.save(),u.translate(x.pixelX+C,x.pixelY+P),x.rotation!==0&&u.rotate(x.rotation),(x.flipX||x.flipY)&&u.scale(x.flipX?-1:1,x.flipY?-1:1),u.globalAlpha=d*x.alpha,u.drawImage(m,y.x,y.y,T,S,-C,-P,T,S),u.restore()}}}u.restore()}};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(16),f=t(227);s.register("tilemap",function(h){var i=h!==void 0?h:{};return f(this.scene,i.key,i.tileWidth,i.tileHeight,i.width,i.height,i.data,i.insertNull)})},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(5),f=t(227);s.register("tilemap",function(h,i,r,n,e,l,a){return h===null&&(h=void 0),i===null&&(i=void 0),r===null&&(r=void 0),n===null&&(n=void 0),e===null&&(e=void 0),f(this.scene,h,i,r,n,e,l,a)})},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Clock:t(1354),TimerEvent:t(497)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(23),h=t(22),i=t(497),r=new s({initialize:function(e){this.scene=e,this.systems=e.sys,this.now=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],e.sys.events.once(h.BOOT,this.boot,this),e.sys.events.on(h.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(h.DESTROY,this.destroy,this)},start:function(){var n=this.systems.events;n.on(h.PRE_UPDATE,this.preUpdate,this),n.on(h.UPDATE,this.update,this),n.once(h.SHUTDOWN,this.shutdown,this)},addEvent:function(n){var e=new i(n);return this._pendingInsertion.push(e),e},delayedCall:function(n,e,l,a){return this.addEvent({delay:n,callback:e,args:l,callbackScope:a})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var n=this._pendingRemoval.length,e=this._pendingInsertion.length;if(!(n===0&&e===0)){var l,a;for(l=0;l<n;l++){a=this._pendingRemoval[l];var o=this._active.indexOf(a);o>-1&&this._active.splice(o,1),a.destroy()}for(l=0;l<e;l++)a=this._pendingInsertion[l],this._active.push(a);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(n,e){if(this.now=n,!this.paused){e*=this.timeScale;for(var l=0;l<this._active.length;l++){var a=this._active[l];if(!a.paused&&(a.elapsed+=e*a.timeScale,a.elapsed>=a.delay)){var o=a.elapsed-a.delay;a.elapsed=a.delay,!a.hasDispatched&&a.callback&&(a.hasDispatched=!0,a.callback.apply(a.callbackScope,a.args)),a.repeatCount>0?(a.repeatCount--,a.elapsed=o,a.hasDispatched=!1):this._pendingRemoval.push(a)}}}},shutdown:function(){var n;for(n=0;n<this._pendingInsertion.length;n++)this._pendingInsertion[n].destroy();for(n=0;n<this._active.length;n++)this._active[n].destroy();for(n=0;n<this._pendingRemoval.length;n++)this._pendingRemoval[n].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var e=this.systems.events;e.off(h.PRE_UPDATE,this.preUpdate,this),e.off(h.UPDATE,this.update,this),e.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(h.START,this.start,this),this.scene=null,this.systems=null}});f.register("Clock",r,"time"),c.exports=r},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(89),f=t(18),h={Builders:t(1356),Events:t(232),TweenManager:t(1372),Tween:t(231),TweenData:t(233),Timeline:t(503)};h=f(!1,h,s),c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={GetBoolean:t(88),GetEaseFunction:t(69),GetNewValue:t(145),GetProps:t(498),GetTargets:t(228),GetTweens:t(499),GetValueOp:t(229),NumberTweenBuilder:t(500),StaggerBuilder:t(501),TimelineBuilder:t(502),TweenBuilder:t(146)}},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","loop","loopDelay","offset","onActive","onActiveParams","onActiveScope","onComplete","onCompleteParams","onCompleteScope","onLoop","onLoopParams","onLoopScope","onRepeat","onRepeatParams","onRepeatScope","onStart","onStartParams","onStartScope","onStop","onStopParams","onStopScope","onUpdate","onUpdateParams","onUpdateScope","onYoyo","onYoyoParams","onYoyoScope","paused","props","repeat","repeatDelay","targets","useFrames","yoyo"]},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="loop"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="start"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="update"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="active"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="complete"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="loop"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="repeat"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="start"},function(c,E){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="stop"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="update"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="yoyo"},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(123),f=t(0),h=t(500),i=t(23),r=t(22),n=t(501),e=t(502),l=t(89),a=t(146),o=new f({initialize:function(v){this.scene=v,this.systems=v.sys,this.timeScale=1,this._add=[],this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,v.sys.events.once(r.BOOT,this.boot,this),v.sys.events.on(r.START,this.start,this)},boot:function(){this.systems.events.once(r.DESTROY,this.destroy,this)},start:function(){var u=this.systems.events;u.on(r.PRE_UPDATE,this.preUpdate,this),u.on(r.UPDATE,this.update,this),u.once(r.SHUTDOWN,this.shutdown,this),this.timeScale=1},createTimeline:function(u){return e(this,u)},timeline:function(u){var v=e(this,u);return v.paused||(this._add.push(v),this._toProcess++),v},create:function(u){return a(this,u)},add:function(u){var v=a(this,u);return this._add.push(v),this._toProcess++,v},existing:function(u){return this._add.push(u),this._toProcess++,this},addCounter:function(u){var v=h(this,u);return this._add.push(v),this._toProcess++,v},stagger:function(u,v){return n(u,v)},preUpdate:function(){if(this._toProcess!==0){var u=this._destroy,v=this._active,d=this._pending,p,x;for(p=0;p<u.length;p++){x=u[p];var g=v.indexOf(x);g===-1?(g=d.indexOf(x),g>-1&&(x.state=l.REMOVED,d.splice(g,1))):(x.state=l.REMOVED,v.splice(g,1))}for(u.length=0,u=this._add,p=0;p<u.length;p++)x=u[p],x.state===l.PENDING_ADD&&(x.init()?(x.play(),this._active.push(x)):this._pending.push(x));u.length=0,this._toProcess=0}},update:function(u,v){var d=this._active,p;v*=this.timeScale;for(var x=0;x<d.length;x++)p=d[x],p.update(u,v)&&(this._destroy.push(p),this._toProcess++)},remove:function(u){return s(this._add,u),s(this._pending,u),s(this._active,u),s(this._destroy,u),u.state=l.REMOVED,this},makeActive:function(u){if(this._add.indexOf(u)!==-1||this._active.indexOf(u)!==-1)return this;var v=this._pending.indexOf(u);return v!==-1&&this._pending.splice(v,1),this._add.push(u),u.state=l.PENDING_ADD,this._toProcess++,this},each:function(u,v){for(var d=[null],p=1;p<arguments.length;p++)d.push(arguments[p]);for(var x in this.list)d[0]=this.list[x],u.apply(v,d)},getAllTweens:function(){for(var u=this._active,v=[],d=0;d<u.length;d++)v.push(u[d]);return v},getGlobalTimeScale:function(){return this.timeScale},getTweensOf:function(u){var v=this._active,d,p=[],x;if(Array.isArray(u))for(x=0;x<v.length;x++){d=v[x];for(var g=0;g<u.length;g++)d.hasTarget(u[g])&&p.push(d)}else for(x=0;x<v.length;x++)d=v[x],d.hasTarget(u)&&p.push(d);return p},isTweening:function(u){for(var v=this._active,d,p=0;p<v.length;p++)if(d=v[p],d.hasTarget(u)&&d.isPlaying())return!0;return!1},killAll:function(){for(var u=this.getAllTweens(),v=0;v<u.length;v++)u[v].stop();return this},killTweensOf:function(u){for(var v=this.getTweensOf(u),d=0;d<v.length;d++)v[d].stop();return this},pauseAll:function(){for(var u=this._active,v=0;v<u.length;v++)u[v].pause();return this},resumeAll:function(){for(var u=this._active,v=0;v<u.length;v++)u[v].resume();return this},setGlobalTimeScale:function(u){return this.timeScale=u,this},shutdown:function(){this.killAll(),this._add=[],this._pending=[],this._active=[],this._destroy=[],this._toProcess=0;var u=this.systems.events;u.off(r.PRE_UPDATE,this.preUpdate,this),u.off(r.UPDATE,this.update,this),u.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(r.START,this.start,this),this.scene=null,this.systems=null}});i.register("TweenManager",o,"tweens"),c.exports=o},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Array:t(183),Base64:t(1374),Objects:t(1376),String:t(1380)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={ArrayBufferToBase64:t(1375),Base64ToArrayBuffer:t(388)}},function(c,E){/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=function(f,h){for(var i=new Uint8Array(f),r=i.length,n=h?"data:"+h+";base64,":"",e=0;e<r;e+=3)n+=t[i[e]>>2],n+=t[(i[e]&3)<<4|i[e+1]>>4],n+=t[(i[e+1]&15)<<2|i[e+2]>>6],n+=t[i[e+2]&63];return r%3===2?n=n.substring(0,n.length-1)+"=":r%3===1&&(n=n.substring(0,n.length-2)+"=="),n};c.exports=s},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Clone:t(67),Extend:t(18),GetAdvancedValue:t(15),GetFastValue:t(2),GetMinMaxValue:t(1377),GetValue:t(6),HasAll:t(1378),HasAny:t(407),HasValue:t(108),IsPlainObject:t(7),Merge:t(126),MergeRight:t(1379),Pick:t(486),SetValue:t(427)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(6),f=t(19),h=function(i,r,n,e,l){l===void 0&&(l=n);var a=s(i,r,l);return f(a,n,e)};c.exports=h},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){for(var h=0;h<f.length;h++)if(!s.hasOwnProperty(f[h]))return!1;return!0};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(67),f=function(h,i){var r=s(h);for(var n in i)r.hasOwnProperty(n)&&(r[n]=i[n]);return r};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Format:t(1381),Pad:t(163),Reverse:t(1382),UppercaseFirst:t(181),UUID:t(196)}},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s,f){return s.replace(/%([0-9]+)/g,function(h,i){return f[Number(i)-1]})};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(s){return s.split("").reverse().join("")};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={SoundManagerCreator:t(380),Events:t(59),BaseSound:t(128),BaseSoundManager:t(127),WebAudioSound:t(389),WebAudioSoundManager:t(387),HTML5AudioSound:t(384),HTML5AudioSoundManager:t(381),NoAudioSound:t(386),NoAudioSoundManager:t(385)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(3),h=new s({initialize:function(){this.boundsCenter=new f,this.centerDiff=new f},parseBody:function(i){if(i=i.hasOwnProperty("body")?i.body:i,!i.hasOwnProperty("bounds")||!i.hasOwnProperty("centerOfMass"))return!1;var r=this.boundsCenter,n=this.centerDiff,e=i.bounds.max.x-i.bounds.min.x,l=i.bounds.max.y-i.bounds.min.y,a=e*i.centerOfMass.x,o=l*i.centerOfMass.y;return r.set(e/2,l/2),n.set(a-r.x,o-r.y),!0},getTopLeft:function(i,r,n){if(r===void 0&&(r=0),n===void 0&&(n=0),this.parseBody(i)){var e=this.boundsCenter,l=this.centerDiff;return new f(r+e.x+l.x,n+e.y+l.y)}return!1},getTopCenter:function(i,r,n){if(r===void 0&&(r=0),n===void 0&&(n=0),this.parseBody(i)){var e=this.boundsCenter,l=this.centerDiff;return new f(r+l.x,n+e.y+l.y)}return!1},getTopRight:function(i,r,n){if(r===void 0&&(r=0),n===void 0&&(n=0),this.parseBody(i)){var e=this.boundsCenter,l=this.centerDiff;return new f(r-(e.x-l.x),n+e.y+l.y)}return!1},getLeftCenter:function(i,r,n){if(r===void 0&&(r=0),n===void 0&&(n=0),this.parseBody(i)){var e=this.boundsCenter,l=this.centerDiff;return new f(r+e.x+l.x,n+l.y)}return!1},getCenter:function(i,r,n){if(r===void 0&&(r=0),n===void 0&&(n=0),this.parseBody(i)){var e=this.centerDiff;return new f(r+e.x,n+e.y)}return!1},getRightCenter:function(i,r,n){if(r===void 0&&(r=0),n===void 0&&(n=0),this.parseBody(i)){var e=this.boundsCenter,l=this.centerDiff;return new f(r-(e.x-l.x),n+l.y)}return!1},getBottomLeft:function(i,r,n){if(r===void 0&&(r=0),n===void 0&&(n=0),this.parseBody(i)){var e=this.boundsCenter,l=this.centerDiff;return new f(r+e.x+l.x,n-(e.y-l.y))}return!1},getBottomCenter:function(i,r,n){if(r===void 0&&(r=0),n===void 0&&(n=0),this.parseBody(i)){var e=this.boundsCenter,l=this.centerDiff;return new f(r+l.x,n-(e.y-l.y))}return!1},getBottomRight:function(i,r,n){if(r===void 0&&(r=0),n===void 0&&(n=0),this.parseBody(i)){var e=this.boundsCenter,l=this.centerDiff;return new f(r-(e.x-l.x),n-(e.y-l.y))}return!1}});c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(109),f=t(0),h=t(1292),i=t(219),r=t(1293),n=t(1396),e=t(1387),l=t(1388),a=t(1297),o=t(1294),u=t(1295),v=t(1425),d=t(86),p=new f({initialize:function(g){this.world=g,this.scene=g.scene,this.sys=g.scene.sys},rectangle:function(x,g,m,y,T){var S=s.rectangle(x,g,m,y,T);return this.world.add(S),S},trapezoid:function(x,g,m,y,T,S){var C=s.trapezoid(x,g,m,y,T,S);return this.world.add(C),C},circle:function(x,g,m,y,T){var S=s.circle(x,g,m,y,T);return this.world.add(S),S},polygon:function(x,g,m,y,T){var S=s.polygon(x,g,m,y,T);return this.world.add(S),S},fromVertices:function(x,g,m,y,T,S,C){typeof m=="string"&&(m=d.fromPath(m));var P=s.fromVertices(x,g,m,y,T,S,C);return this.world.add(P),P},fromPhysicsEditor:function(x,g,m,y,T){T===void 0&&(T=!0);var S=o.parseBody(x,g,m,y);return T&&!this.world.has(S)&&this.world.add(S),S},fromSVG:function(x,g,m,y,T,S){y===void 0&&(y=1),T===void 0&&(T={}),S===void 0&&(S=!0);for(var C=m.getElementsByTagName("path"),P=[],A=0;A<C.length;A++){var M=r.pathToVertices(C[A],30);y!==1&&d.scale(M,y,y),P.push(M)}var O=s.fromVertices(x,g,P,T);return S&&this.world.add(O),O},fromJSON:function(x,g,m,y,T){y===void 0&&(y={}),T===void 0&&(T=!0);var S=u.parseBody(x,g,m,y);return S&&T&&this.world.add(S),S},imageStack:function(x,g,m,y,T,S,C,P,A){C===void 0&&(C=0),P===void 0&&(P=0),A===void 0&&(A={});var M=this.world,O=this.sys.displayList;A.addToWorld=!1;var I=h.stack(m,y,T,S,C,P,function(B,G){var z=new e(M,B,G,x,g,A);return O.add(z),z.body});return M.add(I),I},stack:function(x,g,m,y,T,S,C){var P=h.stack(x,g,m,y,T,S,C);return this.world.add(P),P},pyramid:function(x,g,m,y,T,S,C){var P=h.pyramid(x,g,m,y,T,S,C);return this.world.add(P),P},chain:function(x,g,m,y,T,S){return h.chain(x,g,m,y,T,S)},mesh:function(x,g,m,y,T){return h.mesh(x,g,m,y,T)},newtonsCradle:function(x,g,m,y,T){var S=h.newtonsCradle(x,g,m,y,T);return this.world.add(S),S},car:function(x,g,m,y,T){var S=h.car(x,g,m,y,T);return this.world.add(S),S},softBody:function(x,g,m,y,T,S,C,P,A,M){var O=h.softBody(x,g,m,y,T,S,C,P,A,M);return this.world.add(O),O},joint:function(x,g,m,y,T){return this.constraint(x,g,m,y,T)},spring:function(x,g,m,y,T){return this.constraint(x,g,m,y,T)},constraint:function(x,g,m,y,T){y===void 0&&(y=1),T===void 0&&(T={}),T.bodyA=x.type==="body"?x:x.body,T.bodyB=g.type==="body"?g:g.body,isNaN(m)||(T.length=m),T.stiffness=y;var S=i.create(T);return this.world.add(S),S},worldConstraint:function(x,g,m,y){m===void 0&&(m=1),y===void 0&&(y={}),y.bodyB=x.type==="body"?x:x.body,isNaN(g)||(y.length=g),y.stiffness=m;var T=i.create(y);return this.world.add(T),T},mouseSpring:function(x){return this.pointerConstraint(x)},pointerConstraint:function(x){x===void 0&&(x={}),x.hasOwnProperty("render")||(x.render={visible:!1});var g=new v(this.scene,this.world,x);return this.world.add(g.constraint),g},image:function(x,g,m,y,T){var S=new e(this.world,x,g,m,y,T);return this.sys.displayList.add(S),S},tileBody:function(x,g){return new a(this.world,x,g)},sprite:function(x,g,m,y,T){var S=new l(this.world,x,g,m,y,T);return this.sys.displayList.add(S),this.sys.updateList.add(S),S},gameObject:function(x,g,m){return n(this.world,x,g,m)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});c.exports=p},function(c,E){/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={decomp:A,quickDecomp:B,isSimple:O,removeCollinearPoints:G,removeDuplicatePoints:z,makeCCW:p};function t(R,F,Y){Y=Y||0;var D=[0,0],X,U,V,w,W,H,K;return X=R[1][1]-R[0][1],U=R[0][0]-R[1][0],V=X*R[0][0]+U*R[0][1],w=F[1][1]-F[0][1],W=F[0][0]-F[1][0],H=w*F[0][0]+W*F[0][1],K=X*W-w*U,N(K,0,Y)||(D[0]=(W*V-U*H)/K,D[1]=(X*H-w*V)/K),D}function s(R,F,Y,D){var X=F[0]-R[0],U=F[1]-R[1],V=D[0]-Y[0],w=D[1]-Y[1];if(V*U-w*X===0)return!1;var W=(X*(Y[1]-R[1])+U*(R[0]-Y[0]))/(V*U-w*X),H=(V*(R[1]-Y[1])+w*(Y[0]-R[0]))/(w*X-V*U);return W>=0&&W<=1&&H>=0&&H<=1}function f(R,F,Y){return(F[0]-R[0])*(Y[1]-R[1])-(Y[0]-R[0])*(F[1]-R[1])}function h(R,F,Y){return f(R,F,Y)>0}function i(R,F,Y){return f(R,F,Y)>=0}function r(R,F,Y){return f(R,F,Y)<0}function n(R,F,Y){return f(R,F,Y)<=0}var e=[],l=[];function a(R,F,Y,D){if(D){var X=e,U=l;X[0]=F[0]-R[0],X[1]=F[1]-R[1],U[0]=Y[0]-F[0],U[1]=Y[1]-F[1];var V=X[0]*U[0]+X[1]*U[1],w=Math.sqrt(X[0]*X[0]+X[1]*X[1]),W=Math.sqrt(U[0]*U[0]+U[1]*U[1]),H=Math.acos(V/(w*W));return H<D}else return f(R,F,Y)===0}function o(R,F){var Y=F[0]-R[0],D=F[1]-R[1];return Y*Y+D*D}function u(R,F){var Y=R.length;return R[F<0?F%Y+Y:F%Y]}function v(R){R.length=0}function d(R,F,Y,D){for(var X=Y;X<D;X++)R.push(F[X])}function p(R){for(var F=0,Y=R,D=1;D<R.length;++D)(Y[D][1]<Y[F][1]||Y[D][1]===Y[F][1]&&Y[D][0]>Y[F][0])&&(F=D);return h(u(R,F-1),u(R,F),u(R,F+1))?!1:(x(R),!0)}function x(R){for(var F=[],Y=R.length,D=0;D!==Y;D++)F.push(R.pop());for(var D=0;D!==Y;D++)R[D]=F[D]}function g(R,F){return r(u(R,F-1),u(R,F),u(R,F+1))}var m=[],y=[];function T(R,F,Y){var D,X,U=m,V=y;if(i(u(R,F+1),u(R,F),u(R,Y))&&n(u(R,F-1),u(R,F),u(R,Y)))return!1;X=o(u(R,F),u(R,Y));for(var w=0;w!==R.length;++w)if(!((w+1)%R.length===F||w===F)&&i(u(R,F),u(R,Y),u(R,w+1))&&n(u(R,F),u(R,Y),u(R,w))&&(U[0]=u(R,F),U[1]=u(R,Y),V[0]=u(R,w),V[1]=u(R,w+1),D=t(U,V),o(u(R,F),D)<X))return!1;return!0}function S(R,F,Y){for(var D=0;D!==R.length;++D)if(!(D===F||D===Y||(D+1)%R.length===F||(D+1)%R.length===Y)&&s(u(R,F),u(R,Y),u(R,D),u(R,D+1)))return!1;return!0}function C(R,F,Y,D){var X=D||[];if(v(X),F<Y)for(var U=F;U<=Y;U++)X.push(R[U]);else{for(var U=0;U<=Y;U++)X.push(R[U]);for(var U=F;U<R.length;U++)X.push(R[U])}return X}function P(R){for(var F=[],Y=[],D=[],X=[],U=Number.MAX_VALUE,V=0;V<R.length;++V)if(g(R,V)){for(var w=0;w<R.length;++w)if(T(R,V,w)){Y=P(C(R,V,w,X)),D=P(C(R,w,V,X));for(var W=0;W<D.length;W++)Y.push(D[W]);Y.length<U&&(F=Y,U=Y.length,F.push([u(R,V),u(R,w)]))}}return F}function A(R){var F=P(R);return F.length>0?M(R,F):[R]}function M(R,F){if(F.length===0)return[R];if(F instanceof Array&&F.length&&F[0]instanceof Array&&F[0].length===2&&F[0][0]instanceof Array){for(var Y=[R],D=0;D<F.length;D++)for(var X=F[D],U=0;U<Y.length;U++){var V=Y[U],w=M(V,X);if(w){Y.splice(U,1),Y.push(w[0],w[1]);break}}return Y}else{var X=F,D=R.indexOf(X[0]),U=R.indexOf(X[1]);return D!==-1&&U!==-1?[C(R,D,U),C(R,U,D)]:!1}}function O(R){var F=R,Y;for(Y=0;Y<F.length-1;Y++)for(var D=0;D<Y-1;D++)if(s(F[Y],F[Y+1],F[D],F[D+1]))return!1;for(Y=1;Y<F.length-2;Y++)if(s(F[0],F[F.length-1],F[Y],F[Y+1]))return!1;return!0}function I(R,F,Y,D,X){X=X||0;var U=F[1]-R[1],V=R[0]-F[0],w=U*R[0]+V*R[1],W=D[1]-Y[1],H=Y[0]-D[0],K=W*Y[0]+H*Y[1],J=U*H-W*V;return N(J,0,X)?[0,0]:[(H*w-V*K)/J,(U*K-W*w)/J]}function B(R,F,Y,D,X,U,V){U=U||100,V=V||0,X=X||25,F=typeof F<"u"?F:[],Y=Y||[],D=D||[];var w=[0,0],W=[0,0],H=[0,0],K=0,J=0,Z=0,q=0,k=0,j=0,b=0,_=[],it=[],Q=R,et=R;if(et.length<3)return F;if(V++,V>U)return console.warn("quickDecomp: max level ("+U+") reached."),F;for(var $=0;$<R.length;++$)if(g(Q,$)){Y.push(Q[$]),K=J=Number.MAX_VALUE;for(var tt=0;tt<R.length;++tt)h(u(Q,$-1),u(Q,$),u(Q,tt))&&n(u(Q,$-1),u(Q,$),u(Q,tt-1))&&(H=I(u(Q,$-1),u(Q,$),u(Q,tt),u(Q,tt-1)),r(u(Q,$+1),u(Q,$),H)&&(Z=o(Q[$],H),Z<J&&(J=Z,W=H,j=tt))),h(u(Q,$+1),u(Q,$),u(Q,tt+1))&&n(u(Q,$+1),u(Q,$),u(Q,tt))&&(H=I(u(Q,$+1),u(Q,$),u(Q,tt),u(Q,tt+1)),h(u(Q,$-1),u(Q,$),H)&&(Z=o(Q[$],H),Z<K&&(K=Z,w=H,k=tt)));if(j===(k+1)%R.length)H[0]=(W[0]+w[0])/2,H[1]=(W[1]+w[1])/2,D.push(H),$<k?(d(_,Q,$,k+1),_.push(H),it.push(H),j!==0&&d(it,Q,j,Q.length),d(it,Q,0,$+1)):($!==0&&d(_,Q,$,Q.length),d(_,Q,0,k+1),_.push(H),it.push(H),d(it,Q,j,$+1));else{if(j>k&&(k+=R.length),q=Number.MAX_VALUE,k<j)return F;for(var tt=j;tt<=k;++tt)i(u(Q,$-1),u(Q,$),u(Q,tt))&&n(u(Q,$+1),u(Q,$),u(Q,tt))&&(Z=o(u(Q,$),u(Q,tt)),Z<q&&S(Q,$,tt)&&(q=Z,b=tt%R.length));$<b?(d(_,Q,$,b+1),b!==0&&d(it,Q,b,et.length),d(it,Q,0,$+1)):($!==0&&d(_,Q,$,et.length),d(_,Q,0,b+1),d(it,Q,b,$+1))}return _.length<it.length?(B(_,F,Y,D,X,U,V),B(it,F,Y,D,X,U,V)):(B(it,F,Y,D,X,U,V),B(_,F,Y,D,X,U,V)),F}return F.push(R),F}function G(R,F){for(var Y=0,D=R.length-1;R.length>3&&D>=0;--D)a(u(R,D-1),u(R,D),u(R,D+1),F)&&(R.splice(D%R.length,1),Y++);return Y}function z(R,F){for(var Y=R.length-1;Y>=1;--Y)for(var D=R[Y],X=Y-1;X>=0;--X)if(L(D,R[X],F)){R.splice(Y,1);continue}}function N(R,F,Y){return Y=Y||0,Math.abs(R-F)<=Y}function L(R,F,Y){return N(R[0],F[0],Y)&&N(R[1],F[1],Y)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(0),f=t(514),h=t(14),i=t(2),r=t(107),n=t(156),e=t(3),l=new s({Extends:r,Mixins:[f.Bounce,f.Collision,f.Force,f.Friction,f.Gravity,f.Mass,f.Sensor,f.SetBody,f.Sleep,f.Static,f.Transform,f.Velocity,n],initialize:function(o,u,v,d,p,x){h.call(this,o.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(d,p),this.setSizeToFrame(),this.setOrigin(),this.world=o,this._tempVec2=new e(u,v);var g=i(x,"shape",null);g?this.setBody(g,x):this.setRectangle(this.width,this.height,x),this.setPosition(u,v),this.initPipeline("TextureTintPipeline")}});c.exports=l},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(504),f=t(0),h=t(514),i=t(14),r=t(2),n=t(156),e=t(75),l=t(3),a=new f({Extends:e,Mixins:[h.Bounce,h.Collision,h.Force,h.Friction,h.Gravity,h.Mass,h.Sensor,h.SetBody,h.Sleep,h.Static,h.Transform,h.Velocity,n],initialize:function(u,v,d,p,x,g){i.call(this,u.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new s(this),this.setTexture(p,x),this.setSizeToFrame(),this.setOrigin(),this.world=u,this._tempVec2=new l(v,d);var m=r(g,"shape",null);m?this.setBody(m,g):this.setRectangle(this.width,this.height,g),this.setPosition(v,d),this.initPipeline("TextureTintPipeline")}});c.exports=a},function(c,E,t){var s={};c.exports=s;var f=t(1299),h=t(42);(function(){s.name="matter-js",s.version="0.14.2",s.uses=[],s.used=[],s.use=function(){f.use(s,Array.prototype.slice.call(arguments))},s.before=function(i,r){return i=i.replace(/^Matter./,""),h.chainPathBefore(s,i,r)},s.after=function(i,r){return i=i.replace(/^Matter./,""),h.chainPathAfter(s,i,r)}})()},function(c,E,t){var s={};c.exports=s;var f=t(99),h=t(516),i=t(100),r=t(109),n=t(86);(function(){s.collides=function(e,l){for(var a=[],o=0;o<l.length;o++){var u=l[o];if(e!==u&&i.overlaps(u.bounds,e.bounds))for(var v=u.parts.length===1?0:1;v<u.parts.length;v++){var d=u.parts[v];if(i.overlaps(d.bounds,e.bounds)){var p=h.collides(d,e);if(p.collided){a.push(p);break}}}}return a},s.ray=function(e,l,a,o){o=o||1e-100;for(var u=f.angle(l,a),v=f.magnitude(f.sub(l,a)),d=(a.x+l.x)*.5,p=(a.y+l.y)*.5,x=r.rectangle(d,p,v,o,{angle:u}),g=s.collides(x,e),m=0;m<g.length;m+=1){var y=g[m];y.body=y.bodyB=y.bodyA}return g},s.region=function(e,l,a){for(var o=[],u=0;u<e.length;u++){var v=e[u],d=i.overlaps(v.bounds,l);(d&&!a||!d&&a)&&o.push(v)}return o},s.point=function(e,l){for(var a=[],o=0;o<e.length;o++){var u=e[o];if(i.contains(u.bounds,l))for(var v=u.parts.length===1?0:1;v<u.parts.length;v++){var d=u.parts[v];if(i.contains(d.bounds,l)&&n.contains(d.vertices,l)){a.push(u);break}}}return a}})()},function(c,E,t){var s={};c.exports=s;var f=t(1300),h=t(239),i=t(1303),r=t(1302),n=t(1426),e=t(1301),l=t(240),a=t(148),o=t(219),u=t(42),v=t(62);(function(){s.create=function(d,p){p=u.isElement(d)?p:d,d=u.isElement(d)?d:null,p=p||{},(d||p.render)&&u.warn("Engine.create: engine.render is deprecated (see docs)");var x={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},timing:{timestamp:0,timeScale:1},broadphase:{controller:e}},g=u.extend(x,p);return g.world=p.world||f.create(g.world),g.pairs=r.create(),g.broadphase=g.broadphase.controller.create(g.broadphase),g.metrics=g.metrics||{extended:!1},g.metrics=n.create(g.metrics),g},s.update=function(d,p,x){p=p||1e3/60,x=x||1;var g=d.world,m=d.timing,y=d.broadphase,T=[],S;m.timestamp+=p*m.timeScale;var C={timestamp:m.timestamp};l.trigger(d,"beforeUpdate",C);var P=a.allBodies(g),A=a.allConstraints(g);for(n.reset(d.metrics),d.enableSleeping&&h.update(P,m.timeScale),s._bodiesApplyGravity(P,g.gravity),s._bodiesUpdate(P,p,m.timeScale,x,g.bounds),o.preSolveAll(P),S=0;S<d.constraintIterations;S++)o.solveAll(A,m.timeScale);o.postSolveAll(P),y.controller?(g.isModified&&y.controller.clear(y),y.controller.update(y,P,d,g.isModified),T=y.pairsList):T=P,g.isModified&&a.setModified(g,!1,!1,!0);var M=y.detector(T,d),O=d.pairs,I=m.timestamp;for(r.update(O,M,I),r.removeOld(O,I),d.enableSleeping&&h.afterCollisions(O.list,m.timeScale),O.collisionStart.length>0&&l.trigger(d,"collisionStart",{pairs:O.collisionStart}),i.preSolvePosition(O.list),S=0;S<d.positionIterations;S++)i.solvePosition(O.list,P,m.timeScale);for(i.postSolvePosition(P),o.preSolveAll(P),S=0;S<d.constraintIterations;S++)o.solveAll(A,m.timeScale);for(o.postSolveAll(P),i.preSolveVelocity(O.list),S=0;S<d.velocityIterations;S++)i.solveVelocity(O.list,m.timeScale);return O.collisionActive.length>0&&l.trigger(d,"collisionActive",{pairs:O.collisionActive}),O.collisionEnd.length>0&&l.trigger(d,"collisionEnd",{pairs:O.collisionEnd}),n.update(d.metrics,d),s._bodiesClearForces(P),l.trigger(d,"afterUpdate",C),d},s.merge=function(d,p){if(u.extend(d,p),p.world){d.world=p.world,s.clear(d);for(var x=a.allBodies(d.world),g=0;g<x.length;g++){var m=x[g];h.set(m,!1),m.id=u.nextId()}}},s.clear=function(d){var p=d.world;r.clear(d.pairs);var x=d.broadphase;if(x.controller){var g=a.allBodies(p);x.controller.clear(x),x.controller.update(x,g,d,!0)}},s._bodiesClearForces=function(d){for(var p=0;p<d.length;p++){var x=d[p];x.force.x=0,x.force.y=0,x.torque=0}},s._bodiesApplyGravity=function(d,p){var x=typeof p.scale<"u"?p.scale:.001;if(!(p.x===0&&p.y===0||x===0))for(var g=0;g<d.length;g++){var m=d[g];m.ignoreGravity||m.isStatic||m.isSleeping||(m.force.x+=m.mass*p.x*x*m.gravityScale.x,m.force.y+=m.mass*p.y*x*m.gravityScale.y)}},s._bodiesUpdate=function(d,p,x,g,m){for(var y=0;y<d.length;y++){var T=d[y];T.isStatic||T.isSleeping||v.update(T,p,x,g)}}})()},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(109),f=t(62),h=t(0),i=t(42),r=t(148),n=t(1391),e=t(10),l=t(1296),a=t(2),o=t(6),u=t(62),v=t(240),d=t(1297),p=t(1300),x=t(99),g=new h({Extends:e,initialize:function(y,T){e.call(this),this.scene=y,this.engine=n.create(T),this.localWorld=this.engine.world;var S=o(T,"gravity",null);S?this.setGravity(S.x,S.y,S.scale):S===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=o(T,"enabled",!0),this.correction=o(T,"correction",1),this.getDelta=o(T,"getDelta",this.update60Hz);var C=a(T,"runner",{}),P=a(C,"fps",!1),A=a(C,"fps",60),M=a(C,"delta",1e3/A),O=a(C,"deltaMin",1e3/A),I=a(C,"deltaMax",1e3/(A*.5));P||(A=1e3/M),this.runner={fps:A,correction:a(C,"correction",1),deltaSampleSize:a(C,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:a(C,"isFixed",!1),delta:M,deltaMin:O,deltaMax:I},this.autoUpdate=o(T,"autoUpdate",!0);var B=o(T,"debug",!1);if(this.drawDebug=typeof B=="object"?!0:B,this.debugGraphic,this.debugConfig={showAxes:a(B,"showAxes",!1),showAngleIndicator:a(B,"showAngleIndicator",!1),angleColor:a(B,"angleColor",15208787),showBroadphase:a(B,"showBroadphase",!1),broadphaseColor:a(B,"broadphaseColor",16757760),showBounds:a(B,"showBounds",!1),boundsColor:a(B,"boundsColor",16777215),showVelocity:a(B,"showVelocity",!1),velocityColor:a(B,"velocityColor",44783),showCollisions:a(B,"showCollisions",!1),collisionColor:a(B,"collisionColor",16094476),showSeparations:a(B,"showSeparations",!1),separationColor:a(B,"separationColor",16753920),showBody:a(B,"showBody",!0),showStaticBody:a(B,"showStaticBody",!0),showInternalEdges:a(B,"showInternalEdges",!1),renderFill:a(B,"renderFill",!1),renderLine:a(B,"renderLine",!0),fillColor:a(B,"fillColor",1075465),fillOpacity:a(B,"fillOpacity",1),lineColor:a(B,"lineColor",2678297),lineOpacity:a(B,"lineOpacity",1),lineThickness:a(B,"lineThickness",1),staticFillColor:a(B,"staticFillColor",857979),staticLineColor:a(B,"staticLineColor",1255396),showSleeping:a(B,"showSleeping",!1),staticBodySleepOpacity:a(B,"staticBodySleepOpacity",.7),sleepFillColor:a(B,"sleepFillColor",4605510),sleepLineColor:a(B,"sleepLineColor",10066585),showSensors:a(B,"showSensors",!0),sensorFillColor:a(B,"sensorFillColor",857979),sensorLineColor:a(B,"sensorLineColor",1255396),showPositions:a(B,"showPositions",!0),positionSize:a(B,"positionSize",4),positionColor:a(B,"positionColor",14697178),showJoint:a(B,"showJoint",!0),jointColor:a(B,"jointColor",14737474),jointLineOpacity:a(B,"jointLineOpacity",1),jointLineThickness:a(B,"jointLineThickness",2),pinSize:a(B,"pinSize",4),pinColor:a(B,"pinColor",4382944),springColor:a(B,"springColor",14697184),anchorColor:a(B,"anchorColor",15724527),anchorSize:a(B,"anchorSize",4),showConvexHulls:a(B,"showConvexHulls",!1),hullColor:a(B,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),a(T,"setBounds",!1)){var G=T.setBounds;if(typeof G=="boolean")this.setBounds();else{var z=a(G,"x",0),N=a(G,"y",0),L=a(G,"width",y.sys.scale.width),R=a(G,"height",y.sys.scale.height),F=a(G,"thickness",64),Y=a(G,"left",!0),D=a(G,"right",!0),X=a(G,"top",!0),U=a(G,"bottom",!0);this.setBounds(z,N,L,R,F,Y,D,X,U)}}},setCompositeRenderStyle:function(m){var y=m.bodies,T=m.constraints,S=m.composites,C,P,A;for(C=0;C<y.length;C++)P=y[C],A=P.render,this.setBodyRenderStyle(P,A.lineColor,A.lineOpacity,A.lineThickness,A.fillColor,A.fillOpacity);for(C=0;C<T.length;C++)P=T[C],A=P.render,this.setConstraintRenderStyle(P,A.lineColor,A.lineOpacity,A.lineThickness,A.pinSize,A.anchorColor,A.anchorSize);for(C=0;C<S.length;C++)P=S[C],this.setCompositeRenderStyle(P);return this},setBodyRenderStyle:function(m,y,T,S,C,P){var A=m.render,M=this.debugConfig;return A?(y==null&&(y=m.isStatic?M.staticLineColor:M.lineColor),T==null&&(T=M.lineOpacity),S==null&&(S=M.lineThickness),C==null&&(C=m.isStatic?M.staticFillColor:M.fillColor),P==null&&(P=M.fillOpacity),y!==!1&&(A.lineColor=y),T!==!1&&(A.lineOpacity=T),S!==!1&&(A.lineThickness=S),C!==!1&&(A.fillColor=C),P!==!1&&(A.fillOpacity=P),this):this},setConstraintRenderStyle:function(m,y,T,S,C,P,A){var M=m.render,O=this.debugConfig;if(!M)return this;if(y==null){var I=M.type;I==="line"?y=O.jointColor:I==="pin"?y=O.pinColor:I==="spring"&&(y=O.springColor)}return T==null&&(T=O.jointLineOpacity),S==null&&(S=O.jointLineThickness),C==null&&(C=O.pinSize),P==null&&(P=O.anchorColor),A==null&&(A=O.anchorSize),y!==!1&&(M.lineColor=y),T!==!1&&(M.lineOpacity=T),S!==!1&&(M.lineThickness=S),C!==!1&&(M.pinSize=C),P!==!1&&(M.anchorColor=P),A!==!1&&(M.anchorSize=A),this},setEventsProxy:function(){var m=this,y=this.engine,T=this.localWorld;this.drawDebug&&(v.on(T,"compositeModified",function(S){m.setCompositeRenderStyle(S)}),v.on(T,"beforeAdd",function(S){for(var C=[].concat(S.object),P=0;P<C.length;P++){var A=C[P],M=A.render;A.type==="body"?m.setBodyRenderStyle(A,M.lineColor,M.lineOpacity,M.lineThickness,M.fillColor,M.fillOpacity):A.type==="composite"?m.setCompositeRenderStyle(A):A.type==="constraint"&&m.setConstraintRenderStyle(A,M.lineColor,M.lineOpacity,M.lineThickness,M.pinSize,M.anchorColor,M.anchorSize)}})),v.on(T,"beforeAdd",function(S){m.emit(l.BEFORE_ADD,S)}),v.on(T,"afterAdd",function(S){m.emit(l.AFTER_ADD,S)}),v.on(T,"beforeRemove",function(S){m.emit(l.BEFORE_REMOVE,S)}),v.on(T,"afterRemove",function(S){m.emit(l.AFTER_REMOVE,S)}),v.on(y,"beforeUpdate",function(S){m.emit(l.BEFORE_UPDATE,S)}),v.on(y,"afterUpdate",function(S){m.emit(l.AFTER_UPDATE,S)}),v.on(y,"collisionStart",function(S){var C=S.pairs,P,A;C.length>0&&(P=C[0].bodyA,A=C[0].bodyB),m.emit(l.COLLISION_START,S,P,A)}),v.on(y,"collisionActive",function(S){var C=S.pairs,P,A;C.length>0&&(P=C[0].bodyA,A=C[0].bodyB),m.emit(l.COLLISION_ACTIVE,S,P,A)}),v.on(y,"collisionEnd",function(S){var C=S.pairs,P,A;C.length>0&&(P=C[0].bodyA,A=C[0].bodyB),m.emit(l.COLLISION_END,S,P,A)})},setBounds:function(m,y,T,S,C,P,A,M,O){return m===void 0&&(m=0),y===void 0&&(y=0),T===void 0&&(T=this.scene.sys.scale.width),S===void 0&&(S=this.scene.sys.scale.height),C===void 0&&(C=64),P===void 0&&(P=!0),A===void 0&&(A=!0),M===void 0&&(M=!0),O===void 0&&(O=!0),this.updateWall(P,"left",m-C,y-C,C,S+C*2),this.updateWall(A,"right",m+T,y-C,C,S+C*2),this.updateWall(M,"top",m,y-C,T,C),this.updateWall(O,"bottom",m,y+S,T,C),this},updateWall:function(m,y,T,S,C,P){var A=this.walls[y];m?(A&&p.remove(this.localWorld,A),T+=C/2,S+=P/2,this.walls[y]=this.create(T,S,C,P,{isStatic:!0,friction:0,frictionStatic:0})):(A&&p.remove(this.localWorld,A),this.walls[y]=null)},createDebugGraphic:function(){var m=this.scene.sys.add.graphics({x:0,y:0});return m.setDepth(Number.MAX_VALUE),this.debugGraphic=m,this.drawDebug=!0,m},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(m,y,T){return m===void 0&&(m=0),y===void 0&&(y=1),this.localWorld.gravity.x=m,this.localWorld.gravity.y=y,T!==void 0&&(this.localWorld.gravity.scale=T),this},create:function(m,y,T,S,C){var P=s.rectangle(m,y,T,S,C);return p.add(this.localWorld,P),P},add:function(m){return p.add(this.localWorld,m),this},remove:function(m,y){Array.isArray(m)||(m=[m]);for(var T=0;T<m.length;T++){var S=m[T],C=S.body?S.body:S;r.remove(this.localWorld,C,y)}return this},removeConstraint:function(m,y){return r.remove(this.localWorld,m,y),this},convertTilemapLayer:function(m,y){var T=m.layer,S=m.getTilesWithin(0,0,T.width,T.height,{isColliding:!0});return this.convertTiles(S,y),this},convertTiles:function(m,y){if(m.length===0)return this;for(var T=0;T<m.length;T++)new d(this,m[T],y);return this},nextGroup:function(m){return u.nextGroup(m)},nextCategory:function(){return u.nextCategory()},pause:function(){return this.enabled=!1,this.emit(l.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(l.RESUME),this},update:function(m,y){if(!(!this.enabled||!this.autoUpdate)){var T=this.engine,S=this.runner,C=T.timing,P=this.correction;S.isFixed?y=this.getDelta(m,y):(y=m-S.timePrev||S.delta,S.timePrev=m,S.deltaHistory.push(y),S.deltaHistory=S.deltaHistory.slice(-S.deltaSampleSize),y=Math.min.apply(null,S.deltaHistory),y=y<S.deltaMin?S.deltaMin:y,y=y>S.deltaMax?S.deltaMax:y,P=y/S.delta,S.delta=y),S.timeScalePrev!==0&&(P*=C.timeScale/S.timeScalePrev),C.timeScale===0&&(P=0),S.timeScalePrev=C.timeScale,S.correction=P,S.frameCounter+=1,m-S.counterTimestamp>=1e3&&(S.fps=S.frameCounter*((m-S.counterTimestamp)/1e3),S.counterTimestamp=m,S.frameCounter=0),n.update(T,y,P)}},step:function(m,y){n.update(this.engine,m,y)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(m){var y=m.hasOwnProperty("body")?m.body:m;return r.get(this.localWorld,y.id,y.type)!==null},getAllBodies:function(){return r.allBodies(this.localWorld)},getAllConstraints:function(){return r.allConstraints(this.localWorld)},getAllComposites:function(){return r.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var m=this.debugConfig,y=this.engine,T=this.debugGraphic,S=r.allBodies(this.localWorld);this.debugGraphic.clear(),m.showBroadphase&&y.broadphase.controller&&this.renderGrid(y.broadphase,T,m.broadphaseColor,.5),m.showBounds&&this.renderBodyBounds(S,T,m.boundsColor,.5),(m.showBody||m.showStaticBody)&&this.renderBodies(S),m.showJoint&&this.renderJoints(),(m.showAxes||m.showAngleIndicator)&&this.renderBodyAxes(S,T,m.showAxes,m.angleColor,.5),m.showVelocity&&this.renderBodyVelocity(S,T,m.velocityColor,1,2),m.showSeparations&&this.renderSeparations(y.pairs.list,T,m.separationColor),m.showCollisions&&this.renderCollisions(y.pairs.list,T,m.collisionColor)}},renderGrid:function(m,y,T,S){y.lineStyle(1,T,S);for(var C=i.keys(m.buckets),P=0;P<C.length;P++){var A=C[P];if(!(m.buckets[A].length<2)){var M=A.split(/C|R/);y.strokeRect(parseInt(M[1],10)*m.bucketWidth,parseInt(M[2],10)*m.bucketHeight,m.bucketWidth,m.bucketHeight)}}return this},renderSeparations:function(m,y,T){y.lineStyle(1,T,1);for(var S=0;S<m.length;S++){var C=m[S];if(C.isActive){var P=C.collision,A=P.bodyA,M=P.bodyB,O=A.position,I=M.position,B=P.penetration,G=!A.isStatic&&!M.isStatic?4:1;M.isStatic&&(G=0),y.lineBetween(I.x,I.y,I.x-B.x*G,I.y-B.y*G),G=!A.isStatic&&!M.isStatic?4:1,A.isStatic&&(G=0),y.lineBetween(O.x,O.y,O.x-B.x*G,O.y-B.y*G)}}return this},renderCollisions:function(m,y,T){y.lineStyle(1,T,.5),y.fillStyle(T,1);var S,C;for(S=0;S<m.length;S++)if(C=m[S],!!C.isActive)for(var P=0;P<C.activeContacts.length;P++){var A=C.activeContacts[P],M=A.vertex;y.fillRect(M.x-2,M.y-2,5,5)}for(S=0;S<m.length;S++)if(C=m[S],!!C.isActive){var O=C.collision,I=C.activeContacts;if(I.length>0){var B=I[0].vertex.x,G=I[0].vertex.y;I.length===2&&(B=(I[0].vertex.x+I[1].vertex.x)/2,G=(I[0].vertex.y+I[1].vertex.y)/2),O.bodyB===O.supports[0].body||O.bodyA.isStatic?y.lineBetween(B-O.normal.x*8,G-O.normal.y*8,B,G):y.lineBetween(B+O.normal.x*8,G+O.normal.y*8,B,G)}}return this},renderBodyBounds:function(m,y,T,S){y.lineStyle(1,T,S);for(var C=0;C<m.length;C++){var P=m[C];if(P.render.visible){var A=P.bounds;if(A)y.strokeRect(A.min.x,A.min.y,A.max.x-A.min.x,A.max.y-A.min.y);else for(var M=P.parts,O=M.length>1?1:0;O<M.length;O++){var I=M[O];y.strokeRect(I.bounds.min.x,I.bounds.min.y,I.bounds.max.x-I.bounds.min.x,I.bounds.max.y-I.bounds.min.y)}}}return this},renderBodyAxes:function(m,y,T,S,C){y.lineStyle(1,S,C);for(var P=0;P<m.length;P++){var A=m[P],M=A.parts;if(A.render.visible){var O,I,B;if(T)for(I=M.length>1?1:0;I<M.length;I++)for(O=M[I],B=0;B<O.axes.length;B++){var G=O.axes[B];y.lineBetween(O.position.x,O.position.y,O.position.x+G.x*20,O.position.y+G.y*20)}else for(I=M.length>1?1:0;I<M.length;I++)for(O=M[I],B=0;B<O.axes.length;B++)y.lineBetween(O.position.x,O.position.y,(O.vertices[0].x+O.vertices[O.vertices.length-1].x)/2,(O.vertices[0].y+O.vertices[O.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(m,y,T,S,C){y.lineStyle(C,T,S);for(var P=0;P<m.length;P++){var A=m[P];A.render.visible&&y.lineBetween(A.position.x,A.position.y,A.position.x+(A.position.x-A.positionPrev.x)*2,A.position.y+(A.position.y-A.positionPrev.y)*2)}return this},renderBodies:function(m){for(var y=this.debugGraphic,T=this.debugConfig,S=T.showBody,C=T.showStaticBody,P=T.showSleeping,A=T.showInternalEdges,M=T.showConvexHulls,O=T.renderFill,I=T.renderLine,B=T.staticBodySleepOpacity,G=T.sleepFillColor,z=T.sleepLineColor,N=T.hullColor,L=0;L<m.length;L++){var R=m[L];if(R.render.visible&&!(!C&&R.isStatic||!S&&!R.isStatic)){var F=R.render.lineColor,Y=R.render.lineOpacity,D=R.render.lineThickness,X=R.render.fillColor,U=R.render.fillOpacity;P&&R.isSleeping&&(R.isStatic?(Y*=B,U*=B):(F=z,X=G)),O||(X=null),I||(F=null),this.renderBody(R,y,A,F,Y,D,X,U);var V=R.parts.length;M&&V>1&&this.renderConvexHull(R,y,N,D)}}},renderBody:function(m,y,T,S,C,P,A,M){S===void 0&&(S=null),C===void 0&&(C=null),P===void 0&&(P=1),A===void 0&&(A=null),M===void 0&&(M=null);for(var O=this.debugConfig,I=O.sensorFillColor,B=O.sensorLineColor,G=m.parts,z=G.length,N=z>1?1:0;N<z;N++){var L=G[N],R=L.render,F=R.opacity;if(!(!R.visible||F===0||L.isSensor&&!O.showSensors)){var Y=L.circleRadius;if(y.beginPath(),L.isSensor?(A!==null&&y.fillStyle(I,M*F),S!==null&&y.lineStyle(P,B,C*F)):(A!==null&&y.fillStyle(A,M*F),S!==null&&y.lineStyle(P,S,C*F)),Y)y.arc(L.position.x,L.position.y,Y,0,2*Math.PI);else{var D=L.vertices,X=D.length;y.moveTo(D[0].x,D[0].y);for(var U=1;U<X;U++){var V=D[U];if(!D[U-1].isInternal||T?y.lineTo(V.x,V.y):y.moveTo(V.x,V.y),U<X&&V.isInternal&&!T){var w=(U+1)%X;y.moveTo(D[w].x,D[w].y)}}y.closePath()}A!==null&&y.fillPath(),S!==null&&y.strokePath()}}if(O.showPositions&&!m.isStatic){var W=m.position.x,H=m.position.y,K=Math.ceil(O.positionSize/2);y.fillStyle(O.positionColor,1),y.fillRect(W-K,H-K,O.positionSize,O.positionSize)}return this},renderConvexHull:function(m,y,T,S){S===void 0&&(S=1);var C=m.parts,P=C.length;if(P>1){var A=m.vertices;y.lineStyle(S,T),y.beginPath(),y.moveTo(A[0].x,A[0].y);for(var M=1;M<A.length;M++)y.lineTo(A[M].x,A[M].y);y.lineTo(A[0].x,A[0].y),y.strokePath()}return this},renderJoints:function(){for(var m=this.debugGraphic,y=r.allConstraints(this.localWorld),T=0;T<y.length;T++){var S=y[T].render,C=S.lineColor,P=S.lineOpacity,A=S.lineThickness,M=S.pinSize,O=S.anchorColor,I=S.anchorSize;this.renderConstraint(y[T],m,C,P,A,M,O,I)}},renderConstraint:function(m,y,T,S,C,P,A,M){var O=m.render;if(!O.visible||!m.pointA||!m.pointB)return this;y.lineStyle(C,T,S);var I=m.bodyA,B=m.bodyB,G,z;if(I?G=x.add(I.position,m.pointA):G=m.pointA,O.type==="pin")y.strokeCircle(G.x,G.y,P);else{if(B?z=x.add(B.position,m.pointB):z=m.pointB,y.beginPath(),y.moveTo(G.x,G.y),O.type==="spring")for(var N=x.sub(z,G),L=x.perp(x.normalise(N)),R=Math.ceil(i.clamp(m.length/5,12,20)),F,Y=1;Y<R;Y+=1)F=Y%2===0?1:-1,y.lineTo(G.x+N.x*(Y/R)+L.x*F*4,G.y+N.y*(Y/R)+L.y*F*4);y.lineTo(z.x,z.y)}return y.strokePath(),O.anchors&&M>0&&(y.fillStyle(A),y.fillCircle(G.x,G.y,M),y.fillCircle(z.x,z.y,M)),this},resetCollisionIDs:function(){return f._nextCollidingGroupId=1,f._nextNonCollidingGroupId=-1,f._nextCategory=1,this},shutdown:function(){v.off(this.engine),this.removeAllListeners(),p.clear(this.localWorld,!1),n.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});c.exports=g},function(c,E,t){(function(s){/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2020 Photon Storm Ltd.
* @license      {@link https://opensource.org/licenses/MIT|MIT License}
*/t(518);var f=t(33),h=t(18),i={Actions:t(241),Animations:t(638),BlendModes:t(52),Cache:t(639),Cameras:t(642),Core:t(728),Class:t(0),Create:t(789),Curves:t(795),Data:t(798),Display:t(800),DOM:t(818),Events:t(819),Game:t(821),GameObjects:t(914),Geom:t(430),Input:t(1201),Loader:t(1235),Math:t(170),Physics:t(1394),Plugins:t(1304),Renderer:t(1431),Scale:t(1306),ScaleModes:t(234),Scene:t(374),Scenes:t(1307),Structs:t(1309),Textures:t(1310),Tilemaps:t(1312),Time:t(1353),Tweens:t(1355),Utils:t(1373)};i.Sound=t(1383),i=h(!1,i,f),c.exports=i,s.Phaser=i}).call(this,t(517))},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Arcade:t(1261),Matter:t(1395)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BodyBounds:t(1384),Factory:t(1385),Image:t(1387),Matter:t(1298),MatterPhysics:t(1427),PolyDecomp:t(1386),Sprite:t(1388),TileBody:t(1297),PhysicsEditorParser:t(1294),PhysicsJSONParser:t(1295),World:t(1392)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(514),f=t(2),h=t(3);function i(n){return!!n.get&&typeof n.get=="function"||!!n.set&&typeof n.set=="function"}var r=function(n,e,l,a){l===void 0&&(l={}),a===void 0&&(a=!0);var o=e.x,u=e.y;e.body={temp:!0,position:{x:o,y:u}};var v=[s.Bounce,s.Collision,s.Force,s.Friction,s.Gravity,s.Mass,s.Sensor,s.SetBody,s.Sleep,s.Static,s.Transform,s.Velocity];if(v.forEach(function(p){for(var x in p)i(p[x])?Object.defineProperty(e,x,{get:p[x].get,set:p[x].set}):Object.defineProperty(e,x,{value:p[x]})}),e.world=n,e._tempVec2=new h(o,u),l.hasOwnProperty("type")&&l.type==="body")e.setExistingBody(l,a);else{var d=f(l,"shape",null);d||(d="rectangle"),l.addToWorld=a,e.setBody(d,l)}return e};c.exports=r},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setBounce:function(s){return this.body.restitution=s,this}};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setCollisionCategory:function(s){return this.body.collisionFilter.category=s,this},setCollisionGroup:function(s){return this.body.collisionFilter.group=s,this},setCollidesWith:function(s){var f=0;if(!Array.isArray(s))f=s;else for(var h=0;h<s.length;h++)f|=s[h];return this.body.collisionFilter.mask=f,this},setOnCollide:function(s){return this.body.onCollideCallback=s,this},setOnCollideEnd:function(s){return this.body.onCollideEndCallback=s,this},setOnCollideActive:function(s){return this.body.onCollideActiveCallback=s,this},setOnCollideWith:function(s,f){Array.isArray(s)||(s=[s]);for(var h=0;h<s.length;h++){var i=s[h].hasOwnProperty("body")?s[h].body:s[h];this.body.setOnCollideWith(i,f)}return this}};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(62),f={applyForce:function(h){return this._tempVec2.set(this.body.position.x,this.body.position.y),s.applyForce(this.body,this._tempVec2,h),this},applyForceFrom:function(h,i){return s.applyForce(this.body,h,i),this},thrust:function(h){var i=this.body.angle;return this._tempVec2.set(h*Math.cos(i),h*Math.sin(i)),s.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(h){var i=this.body.angle-Math.PI/2;return this._tempVec2.set(h*Math.cos(i),h*Math.sin(i)),s.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(h){var i=this.body.angle+Math.PI/2;return this._tempVec2.set(h*Math.cos(i),h*Math.sin(i)),s.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(h){var i=this.body.angle-Math.PI;return this._tempVec2.set(h*Math.cos(i),h*Math.sin(i)),s.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setFriction:function(s,f,h){return this.body.friction=s,f!==void 0&&(this.body.frictionAir=f),h!==void 0&&(this.body.frictionStatic=h),this},setFrictionAir:function(s){return this.body.frictionAir=s,this},setFrictionStatic:function(s){return this.body.frictionStatic=s,this}};c.exports=t},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setIgnoreGravity:function(s){return this.body.ignoreGravity=s,this}};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(62),f=t(3),h={setMass:function(i){return s.setMass(this.body,i),this},setDensity:function(i){return s.setDensity(this.body,i),this},centerOfMass:{get:function(){return new f(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};c.exports=h},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(62),f={setStatic:function(h){return s.setStatic(this.body,h),this},isStatic:function(){return this.body.isStatic}};c.exports=f},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setSensor:function(s){return this.body.isSensor=s,this},isSensor:function(){return this.body.isSensor}};c.exports=t},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(109),f=t(62),h=t(106),i=t(2),r=t(1294),n=t(1295),e=t(86),l={setRectangle:function(a,o,u){return this.setBody({type:"rectangle",width:a,height:o},u)},setCircle:function(a,o){return this.setBody({type:"circle",radius:a},o)},setPolygon:function(a,o,u){return this.setBody({type:"polygon",sides:o,radius:a},u)},setTrapezoid:function(a,o,u,v){return this.setBody({type:"trapezoid",width:a,height:o,slope:u},v)},setExistingBody:function(a,o){o===void 0&&(o=!0),this.body&&this.world.remove(this.body,!0),this.body=a;for(var u=0;u<a.parts.length;u++)a.parts[u].gameObject=this;var v=this;if(a.destroy=function(){v.world.remove(v.body,!0),v.body.gameObject=null},o&&(this.world.has(a)&&this.world.remove(a,!0),this.world.add(a)),this._originComponent){var d=a.render.sprite.xOffset,p=a.render.sprite.yOffset,x=a.centerOfMass.x,g=a.centerOfMass.y;if(h(x,.5)&&h(g,.5))this.setOrigin(d+.5,p+.5);else{var m=a.centerOffset.x,y=a.centerOffset.y;this.setOrigin(d+m/this.displayWidth,p+y/this.displayHeight)}}return this},setBody:function(a,o){if(!a)return this;var u;typeof a=="string"&&(a={type:a});var v=i(a,"type","rectangle"),d=i(a,"x",this._tempVec2.x),p=i(a,"y",this._tempVec2.y),x=i(a,"width",this.width),g=i(a,"height",this.height);switch(v){case"rectangle":u=s.rectangle(d,p,x,g,o);break;case"circle":var m=i(a,"radius",Math.max(x,g)/2),y=i(a,"maxSides",25);u=s.circle(d,p,m,o,y);break;case"trapezoid":var T=i(a,"slope",.5);u=s.trapezoid(d,p,x,g,T,o);break;case"polygon":var S=i(a,"sides",5),C=i(a,"radius",Math.max(x,g)/2);u=s.polygon(d,p,S,C,o);break;case"fromVertices":case"fromVerts":var P=i(a,"verts",null);if(P)if(typeof P=="string"&&(P=e.fromPath(P)),this.body&&!this.body.hasOwnProperty("temp"))f.setVertices(this.body,P),u=this.body;else{var A=i(a,"flagInternal",!1),M=i(a,"removeCollinear",.01),O=i(a,"minimumArea",10);u=s.fromVertices(d,p,P,o,A,M,O)}break;case"fromPhysicsEditor":u=r.parseBody(d,p,a,o);break;case"fromPhysicsTracer":u=n.parseBody(d,p,a,o);break}return u&&this.setExistingBody(u,a.addToWorld),this}};c.exports=l},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(1296),f=t(239),h=t(240),i={setToSleep:function(){f.set(this.body,!0)},setAwake:function(){f.set(this.body,!1)},setSleepThreshold:function(r){return r===void 0&&(r=60),this.body.sleepThreshold=r,this},setSleepEvents:function(r,n){return this.setSleepStartEvent(r),this.setSleepEndEvent(n),this},setSleepStartEvent:function(r){if(r){var n=this.world;h.on(this.body,"sleepStart",function(e){n.emit(s.SLEEP_START,e,this)})}else h.off(this.body,"sleepStart");return this},setSleepEndEvent:function(r){if(r){var n=this.world;h.on(this.body,"sleepEnd",function(e){n.emit(s.SLEEP_END,e,this)})}else h.off(this.body,"sleepEnd");return this}};c.exports=i},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="afteradd"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="afterremove"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="afterupdate"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="beforeadd"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="beforeremove"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="beforeupdate"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="collisionactive"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="collisionend"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="collisionstart"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragend"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="drag"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="dragstart"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="pause"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="resume"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="sleepend"},function(c,E){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports="sleepstart"},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(62),f=t(13),h=t(235),i=t(236),r=4,n={x:{get:function(){return this.body.position.x},set:function(e){this._tempVec2.set(e,this.y),s.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(e){this._tempVec2.set(this.x,e),s.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(e){var l=1/this._scaleX,a=1/this._scaleY;this._scaleX=e,this._scaleX===0?this.renderFlags&=~r:this.renderFlags|=r,s.scale(this.body,l,a),s.scale(this.body,e,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(e){var l=1/this._scaleX,a=1/this._scaleY;this._scaleY=e,this._scaleY===0?this.renderFlags&=~r:this.renderFlags|=r,s.scale(this.body,l,a),s.scale(this.body,this._scaleX,e)}},angle:{get:function(){return i(this.body.angle*f.RAD_TO_DEG)},set:function(e){this.rotation=i(e)*f.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(e){this._rotation=h(e),s.setAngle(this.body,this._rotation)}},setPosition:function(e,l){return e===void 0&&(e=0),l===void 0&&(l=e),this._tempVec2.set(e,l),s.setPosition(this.body,this._tempVec2),this},setRotation:function(e){return e===void 0&&(e=0),this._rotation=h(e),s.setAngle(this.body,e),this},setFixedRotation:function(){return s.setInertia(this.body,1/0),this},setAngle:function(e){return e===void 0&&(e=0),this.angle=e,s.setAngle(this.body,this.rotation),this},setScale:function(e,l,a){e===void 0&&(e=1),l===void 0&&(l=e);var o=1/this._scaleX,u=1/this._scaleY;return this._scaleX=e,this._scaleY=l,s.scale(this.body,o,u,a),s.scale(this.body,e,l,a),this}};c.exports=n},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(62),f={setAngularVelocity:function(h){return s.setAngularVelocity(this.body,h),this},setVelocityX:function(h){return this._tempVec2.set(h,this.body.velocity.y),s.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(h){return this._tempVec2.set(this.body.velocity.x,h),s.setVelocity(this.body,this._tempVec2),this},setVelocity:function(h,i){return this._tempVec2.set(h,i),s.setVelocity(this.body,this._tempVec2),this}};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(100),f=t(0),h=t(148),i=t(219),r=t(515),n=t(1296),e=t(54),l=t(126),a=t(239),o=t(3),u=t(86),v=new f({initialize:function(p,x,g){g===void 0&&(g={});var m={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=p,this.world=x,this.camera=null,this.pointer=null,this.active=!0,this.position=new o,this.body=null,this.part=null,this.constraint=i.create(l(g,m)),this.world.on(n.BEFORE_UPDATE,this.update,this),p.sys.input.on(e.POINTER_DOWN,this.onDown,this),p.sys.input.on(e.POINTER_UP,this.onUp,this)},onDown:function(d){this.pointer||(this.pointer=d,this.camera=d.camera)},onUp:function(d){d===this.pointer&&(this.pointer=null)},getBody:function(d){var p=this.position,x=this.constraint;this.camera.getWorldPoint(d.x,d.y,p);for(var g=h.allBodies(this.world.localWorld),m=0;m<g.length;m++){var y=g[m];if(!y.ignorePointer&&s.contains(y.bounds,p)&&r.canCollide(y.collisionFilter,x.collisionFilter)&&this.hitTestBody(y,p))return this.world.emit(n.DRAG_START,y,this.part,this),!0}return!1},hitTestBody:function(d,p){for(var x=this.constraint,g=d.parts.length,m=g>1?1:0,y=m;y<g;y++){var T=d.parts[y];if(u.contains(T.vertices,p))return x.pointA=p,x.pointB={x:p.x-d.position.x,y:p.y-d.position.y},x.bodyB=d,x.angleB=d.angle,a.set(d,!1),this.part=T,this.body=d,!0}return!1},update:function(){var d=this.pointer,p=this.body;if(!this.active||!d){p&&this.stopDrag();return}if(!d.isDown&&p){this.stopDrag();return}else if(d.isDown){if(!p&&!this.getBody(d))return;p=this.body;var x=this.position,g=this.constraint;this.camera.getWorldPoint(d.x,d.y,x),g.pointA.x=x.x,g.pointA.y=x.y,a.set(p,!1),this.world.emit(n.DRAG,p,this)}},stopDrag:function(){var d=this.body,p=this.constraint;p.bodyB=null,p.pointB=null,this.pointer=null,this.body=null,this.part=null,d&&this.world.emit(n.DRAG_END,d,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(n.BEFORE_UPDATE,this.update),this.scene.sys.input.off(e.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(e.POINTER_UP,this.onUp,this)}});c.exports=v},function(c,E,t){var s={};c.exports=s;var f=t(148),h=t(42);(function(){s.create=function(i){var r={extended:!1,narrowDetections:0,narrowphaseTests:0,narrowReuse:0,narrowReuseCount:0,midphaseTests:0,broadphaseTests:0,narrowEff:1e-4,midEff:1e-4,broadEff:1e-4,collisions:0,buckets:0,bodies:0,pairs:0};return h.extend(r,!1,i)},s.reset=function(i){i.extended&&(i.narrowDetections=0,i.narrowphaseTests=0,i.narrowReuse=0,i.narrowReuseCount=0,i.midphaseTests=0,i.broadphaseTests=0,i.narrowEff=0,i.midEff=0,i.broadEff=0,i.collisions=0,i.buckets=0,i.pairs=0,i.bodies=0)},s.update=function(i,r){if(i.extended){var n=r.world,e=f.allBodies(n);i.collisions=i.narrowDetections,i.pairs=r.pairs.list.length,i.bodies=e.length,i.midEff=(i.narrowDetections/(i.midphaseTests||1)).toFixed(2),i.narrowEff=(i.narrowDetections/(i.narrowphaseTests||1)).toFixed(2),i.broadEff=(1-i.broadphaseTests/(e.length||1)).toFixed(2),i.narrowReuse=(i.narrowReuseCount/(i.narrowphaseTests||1)).toFixed(2)}}})()},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var s=t(105),f=t(513),h=t(109),i=t(62),r=t(1384),n=t(100),e=t(0),l=t(148),a=t(1292),o=t(219),u=t(515),v=t(53),d=t(1385),p=t(2),x=t(6),g=t(1301),m=t(1428),y=t(1429),T=t(1389),S=t(1430),C=t(126),P=t(473),A=t(1302),M=t(1299),O=t(23),I=t(1390),B=t(1303),G=t(516),z=t(22),N=t(1293),L=t(99),R=t(86),F=t(1392),Y=new e({initialize:function(X){this.scene=X,this.systems=X.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=i,this.composite=l,this.detector=u,this.grid=g,this.pair=P,this.pairs=A,this.query=I,this.resolver=B,this.sat=G,this.constraint=o,this.bodies=h,this.composites=a,this.axes=f,this.bounds=n,this.svg=N,this.vector=L,this.vertices=R,this.verts=R,this._tempVec2=L.create(),x(this.config,"plugins.collisionevents",!0)&&this.enableCollisionEventsPlugin(),x(this.config,"plugins.attractors",!1)&&this.enableAttractorPlugin(),x(this.config,"plugins.wrap",!1)&&this.enableWrapPlugin(),B._restingThresh=x(this.config,"restingThresh",4),B._restingThreshTangent=x(this.config,"restingThreshTangent",6),B._positionDampen=x(this.config,"positionDampen",.9),B._positionWarming=x(this.config,"positionWarming",.8),B._frictionNormalMultiplier=x(this.config,"frictionNormalMultiplier",5),X.sys.events.once(z.BOOT,this.boot,this),X.sys.events.on(z.START,this.start,this)},boot:function(){this.world=new F(this.scene,this.config),this.add=new d(this.world),this.bodyBounds=new r,this.systems.events.once(z.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new F(this.scene,this.config),this.add=new d(this.world));var D=this.systems.events;D.on(z.UPDATE,this.world.update,this.world),D.on(z.POST_UPDATE,this.world.postUpdate,this.world),D.once(z.SHUTDOWN,this.shutdown,this)},getConfig:function(){var D=this.systems.game.config.physics,X=this.systems.settings.physics,U=C(p(X,"matter",{}),p(D,"matter",{}));return U},enableAttractorPlugin:function(){return M.register(m),M.use(T,m),this},enableWrapPlugin:function(){return M.register(S),M.use(T,S),this},enableCollisionEventsPlugin:function(){return M.register(y),M.use(T,y),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(D,X){this.world.step(D,X)},containsPoint:function(D,X,U){D=this.getMatterBodies(D);var V=L.create(X,U),w=I.point(D,V);return w.length>0},intersectPoint:function(D,X,U){U=this.getMatterBodies(U);var V=L.create(D,X),w=[],W=I.point(U,V);return W.forEach(function(H){w.indexOf(H)===-1&&w.push(H)}),w},intersectRect:function(D,X,U,V,w,W){w===void 0&&(w=!1),W=this.getMatterBodies(W);var H={min:{x:D,y:X},max:{x:D+U,y:X+V}},K=[],J=I.region(W,H,w);return J.forEach(function(Z){K.indexOf(Z)===-1&&K.push(Z)}),K},intersectRay:function(D,X,U,V,w,W){w===void 0&&(w=1),W=this.getMatterBodies(W);for(var H=[],K=I.ray(W,L.create(D,X),L.create(U,V),w),J=0;J<K.length;J++)H.push(K[J].body);return H},intersectBody:function(D,X){X=this.getMatterBodies(X);for(var U=[],V=I.collides(D,X),w=0;w<V.length;w++){var W=V[w];W.bodyA===D?U.push(W.bodyB):U.push(W.bodyA)}return U},overlap:function(D,X,U,V,w){U===void 0&&(U=null),V===void 0&&(V=null),w===void 0&&(w=U),Array.isArray(D)||(D=[D]),D=this.getMatterBodies(D),X=this.getMatterBodies(X);for(var W=!1,H=0;H<D.length;H++)for(var K=D[H],J=I.collides(K,X),Z=0;Z<J.length;Z++){var q=J[Z],k=q.bodyA.id===K.id?q.bodyB:q.bodyA;if(!V||V.call(w,K,k,q)){if(W=!0,U)U.call(w,K,k,q);else if(!V)return!0}}return W},setCollisionCategory:function(D,X){return D=this.getMatterBodies(D),D.forEach(function(U){U.collisionFilter.category=X}),this},setCollisionGroup:function(D,X){return D=this.getMatterBodies(D),D.forEach(function(U){U.collisionFilter.group=X}),this},setCollidesWith:function(D,X){D=this.getMatterBodies(D);var U=0;if(!Array.isArray(X))U=X;else for(var V=0;V<X.length;V++)U|=X[V];return D.forEach(function(w){w.collisionFilter.mask=U}),this},getMatterBodies:function(D){if(!D)return this.world.getAllBodies();Array.isArray(D)||(D=[D]);for(var X=[],U=0;U<D.length;U++){var V=D[U].hasOwnProperty("body")?D[U].body:D[U];X.push(V)}return X},setVelocity:function(D,X,U){D=this.getMatterBodies(D);var V=this._tempVec2;return V.x=X,V.y=U,D.forEach(function(w){i.setVelocity(w,V)}),this},setVelocityX:function(D,X){D=this.getMatterBodies(D);var U=this._tempVec2;return U.x=X,D.forEach(function(V){U.y=V.velocity.y,i.setVelocity(V,U)}),this},setVelocityY:function(D,X){D=this.getMatterBodies(D);var U=this._tempVec2;return U.y=X,D.forEach(function(V){U.x=V.velocity.x,i.setVelocity(V,U)}),this},setAngularVelocity:function(D,X){return D=this.getMatterBodies(D),D.forEach(function(U){i.setAngularVelocity(U,X)}),this},applyForce:function(D,X){D=this.getMatterBodies(D);var U=this._tempVec2;return D.forEach(function(V){U.x=V.position.x,U.y=V.position.y,i.applyForce(V,U,X)}),this},applyForceFromPosition:function(D,X,U,V){D=this.getMatterBodies(D);var w=this._tempVec2;return D.forEach(function(W){V===void 0&&(V=W.angle),w.x=U*Math.cos(V),w.y=U*Math.sin(V),i.applyForce(W,X,w)}),this},applyForceFromAngle:function(D,X,U){D=this.getMatterBodies(D);var V=this._tempVec2;return D.forEach(function(w){U===void 0&&(U=w.angle),V.x=X*Math.cos(U),V.y=X*Math.sin(U),i.applyForce(w,{x:w.position.x,y:w.position.y},V)}),this},getConstraintLength:function(D){var X=D.pointA.x,U=D.pointA.y,V=D.pointB.x,w=D.pointB.y;return D.bodyA&&(X+=D.bodyA.position.x,U+=D.bodyA.position.y),D.bodyB&&(V+=D.bodyB.position.x,w+=D.bodyB.position.y),v(X,U,V,w)},alignBody:function(D,X,U,V){D=D.hasOwnProperty("body")?D.body:D;var w;switch(V){case s.TOP_LEFT:case s.LEFT_TOP:w=this.bodyBounds.getTopLeft(D,X,U);break;case s.TOP_CENTER:w=this.bodyBounds.getTopCenter(D,X,U);break;case s.TOP_RIGHT:case s.RIGHT_TOP:w=this.bodyBounds.getTopRight(D,X,U);break;case s.LEFT_CENTER:w=this.bodyBounds.getLeftCenter(D,X,U);break;case s.CENTER:w=this.bodyBounds.getCenter(D,X,U);break;case s.RIGHT_CENTER:w=this.bodyBounds.getRightCenter(D,X,U);break;case s.LEFT_BOTTOM:case s.BOTTOM_LEFT:w=this.bodyBounds.getBottomLeft(D,X,U);break;case s.BOTTOM_CENTER:w=this.bodyBounds.getBottomCenter(D,X,U);break;case s.BOTTOM_RIGHT:case s.RIGHT_BOTTOM:w=this.bodyBounds.getBottomRight(D,X,U);break}return w&&i.setPosition(D,w),this},shutdown:function(){var D=this.systems.events;this.world&&(D.off(z.UPDATE,this.world.update,this.world),D.off(z.POST_UPDATE,this.world.postUpdate,this.world)),D.off(z.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(z.START,this.start,this),this.scene=null,this.systems=null}});O.register("MatterPhysics",Y,"matterPhysics"),c.exports=Y},function(c,E,t){var s=t(1298),f={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.14.2",silent:!0,install:function(h){h.after("Body.create",function(){f.Body.init(this)}),h.before("Engine.update",function(i){f.Engine.update(i)})},Body:{init:function(h){h.plugin.attractors=h.plugin.attractors||[]}},Engine:{update:function(h){for(var i=h.world,r=s.Composite.allBodies(i),n=0;n<r.length;n+=1){var e=r[n],l=e.plugin.attractors;if(l&&l.length>0)for(var a=n+1;a<r.length;a+=1)for(var o=r[a],u=0;u<l.length;u+=1){var v=l[u],d=v;s.Common.isFunction(v)&&(d=v(e,o)),d&&s.Body.applyForce(o,o.position,d)}}}},Attractors:{gravityConstant:.001,gravity:function(h,i){var r=s.Vector.sub(i.position,h.position),n=s.Vector.magnitudeSquared(r)||1e-4,e=s.Vector.normalise(r),l=-f.Attractors.gravityConstant*(h.mass*i.mass/n),a=s.Vector.mult(e,l);s.Body.applyForce(h,h.position,s.Vector.neg(a)),s.Body.applyForce(i,i.position,a)}}};c.exports=f},function(c,E){/**
 * @author       @dxu https://github.com/dxu/matter-collision-events
 * @author       Richard Davey <rich@photonstorm.com>
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={name:"matter-collision-events",version:"0.1.6",for:"matter-js@^0.14.2",silent:!0,install:function(s){s.after("Engine.create",function(){s.Events.on(this,"collisionStart",function(f){f.pairs.map(function(h){var i=h.bodyA,r=h.bodyB;i.gameObject&&i.gameObject.emit("collide",i,r,h),r.gameObject&&r.gameObject.emit("collide",r,i,h),s.Events.trigger(i,"onCollide",{pair:h}),s.Events.trigger(r,"onCollide",{pair:h}),i.onCollideCallback&&i.onCollideCallback(h),r.onCollideCallback&&r.onCollideCallback(h),i.onCollideWith[r.id]&&i.onCollideWith[r.id](r,h),r.onCollideWith[i.id]&&r.onCollideWith[i.id](i,h)})}),s.Events.on(this,"collisionActive",function(f){f.pairs.map(function(h){var i=h.bodyA,r=h.bodyB;i.gameObject&&i.gameObject.emit("collideActive",i,r,h),r.gameObject&&r.gameObject.emit("collideActive",r,i,h),s.Events.trigger(i,"onCollideActive",{pair:h}),s.Events.trigger(r,"onCollideActive",{pair:h}),i.onCollideActiveCallback&&i.onCollideActiveCallback(h),r.onCollideActiveCallback&&r.onCollideActiveCallback(h)})}),s.Events.on(this,"collisionEnd",function(f){f.pairs.map(function(h){var i=h.bodyA,r=h.bodyB;i.gameObject&&i.gameObject.emit("collideEnd",i,r,h),r.gameObject&&r.gameObject.emit("collideEnd",r,i,h),s.Events.trigger(i,"onCollideEnd",{pair:h}),s.Events.trigger(r,"onCollideEnd",{pair:h}),i.onCollideEndCallback&&i.onCollideEndCallback(h),r.onCollideEndCallback&&r.onCollideEndCallback(h)})})})}};c.exports=t},function(c,E,t){var s=t(1298),f={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.14.2",silent:!0,install:function(h){h.after("Engine.update",function(){f.Engine.update(this)})},Engine:{update:function(h){for(var i=h.world,r=s.Composite.allBodies(i),n=s.Composite.allComposites(i),e=0;e<r.length;e+=1){var l=r[e];l.plugin.wrap&&f.Body.wrap(l,l.plugin.wrap)}for(e=0;e<n.length;e+=1){var a=n[e];a.plugin.wrap&&f.Composite.wrap(a,a.plugin.wrap)}}},Bounds:{wrap:function(h,i){var r=null,n=null;if(typeof i.min.x<"u"&&typeof i.max.x<"u"&&(h.min.x>i.max.x?r=i.min.x-h.max.x:h.max.x<i.min.x&&(r=i.max.x-h.min.x)),typeof i.min.y<"u"&&typeof i.max.y<"u"&&(h.min.y>i.max.y?n=i.min.y-h.max.y:h.max.y<i.min.y&&(n=i.max.y-h.min.y)),r!==null||n!==null)return{x:r||0,y:n||0}}},Body:{wrap:function(h,i){var r=f.Bounds.wrap(h.bounds,i);return r&&s.Body.translate(h,r),r}},Composite:{bounds:function(h){for(var i=s.Composite.allBodies(h),r=[],n=0;n<i.length;n+=1){var e=i[n];r.push(e.bounds.min,e.bounds.max)}return s.Bounds.create(r)},wrap:function(h,i){var r=f.Bounds.wrap(f.Composite.bounds(h),i);return r&&s.Composite.translate(h,r),r}}};c.exports=f},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Canvas:t(1432),Snapshot:t(1433),WebGL:t(1434)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={CanvasRenderer:t(505),GetBlendModes:t(507),SetTransform:t(28)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Canvas:t(506),WebGL:t(509)}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={Utils:t(9),WebGLPipeline:t(147),WebGLRenderer:t(508),Pipelines:t(1435),BYTE:0,SHORT:1,UNSIGNED_BYTE:2,UNSIGNED_SHORT:3,FLOAT:4}},function(c,E,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */c.exports={BitmapMaskPipeline:t(510),ForwardDiffuseLightPipeline:t(511),TextureTintPipeline:t(237),TextureTintStripPipeline:t(512),ModelViewProjection:t(238)}}])})})(Et);var Rt=Et.exports;const St=Ct(Rt),Lt=""+new URL("sky-BAJ3CpIL.png",import.meta.url).href,Ot={class:"main"},It=At({__name:"phaser",setup(yt){var Tt={type:St.AUTO,width:800,height:600,scene:{preload:c,create:E,update:t}};new St.Game(Tt);function c(){this.load.image("sky",Lt)}function E(){this.add.image(400,300,"key")}function t(){}return(s,f)=>(Mt(),Pt("div",Ot))}});export{It as default};
