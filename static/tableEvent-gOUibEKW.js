import{n as C}from"./index.browser-vcSNLBTf.js";import{d as g,o as b,c as V,f as l,z as o,u as e,al as i,C as r,J as h,aY as _,V as k,F as E,a2 as U,a3 as y,E as f,am as x,A}from"./index-D9Dc_mid.js";function T(t){function c(){t.push(v())}function p(d){const u=t.findIndex(s=>s.id===d.id);u!==-1&&t.splice(u+1,0,v())}function m(d){const u=t.findIndex(s=>s.id===d.id);u!==-1&&t.splice(u,1)}return[c,p,m]}function v(){const t=C();return{name:"",relation:{from:"",to:[]},action:"",id:t}}const I=g({__name:"tableEvent",props:{inputs:{default:Array},datas:{default:Array}},setup(t){const c=[{label:"禁启用",value:"disabled"},{label:"显示隐藏",value:"isShow"}],p=t,[m,d,u]=T(p.datas);return(s,q)=>(b(),V(E,null,[l(e(x),{data:s.datas,class:"mb18",border:"",size:"small"},{default:o(()=>[l(e(i),{prop:"事件名称",label:"事件名称",align:"center"},{default:o(({row:a})=>[l(e(r),{rules:{required:!0}},{default:o(()=>[l(e(h),{modelValue:a.name,"onUpdate:modelValue":n=>a.name=n,placeholder:"请输入事件名称"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:1}),l(e(i),{prop:"type",label:"from",align:"center"},{default:o(({row:a})=>[l(e(r),{rules:{required:!0}},{default:o(()=>[l(e(_),{modelValue:a.relation.from,"onUpdate:modelValue":n=>a.relation.from=n,options:s.inputs,props:{value:"field"},"collapse-tags":"",clearable:""},null,8,["modelValue","onUpdate:modelValue","options"])]),_:2},1024)]),_:1}),l(e(i),{prop:"type",label:"to",align:"center"},{default:o(({row:a})=>[l(e(r),{rules:{required:!0}},{default:o(()=>[l(e(_),{modelValue:a.relation.to,"onUpdate:modelValue":n=>a.relation.to=n,options:s.inputs,props:{multiple:!0,value:"field"},"collapse-tags":"",clearable:""},null,8,["modelValue","onUpdate:modelValue","options"])]),_:2},1024)]),_:1}),l(e(i),{prop:"icon",label:"执行动作",align:"center"},{default:o(({row:a})=>[l(e(r),{rules:{required:!0}},{default:o(()=>[l(e(k),{modelValue:a.action,"onUpdate:modelValue":n=>a.action=n,placeholder:"请选择执行动作"},{default:o(()=>[(b(),V(E,null,U(c,n=>l(e(y),{value:n.value,label:n.label},null,8,["value","label"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:1}),l(e(i),{label:"操作",align:"center"},{default:o(({row:a})=>[l(e(f),{icon:"Plus",circle:"",size:"small",type:"success",onClick:n=>e(d)(a)},null,8,["onClick"]),l(e(f),{icon:"Delete",circle:"",size:"small",type:"danger",onClick:n=>e(u)(a)},null,8,["onClick"])]),_:1})]),_:1},8,["data"]),l(e(f),{type:"success",class:"w100",icon:"Plus",onClick:e(m)},{default:o(()=>[A("添加表单")]),_:1},8,["onClick"])],64))}});export{I as default};
