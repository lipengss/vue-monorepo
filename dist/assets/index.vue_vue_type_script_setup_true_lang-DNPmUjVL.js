import{c as re,d as I,r as $,A as ie,u as ce,b as w,aH as G,a7 as ue,aC as fe,i as pe,a as E,a2 as de,a1 as K,x as me,aw as ve,aI as ye,aU as Se,w as Ee,aV as ge,aW as L,H as _e,aX as he,ao as Te,a4 as be,D as h,ap as Ne,aY as F,R as Ce,L as D,S as $e,B as j,E as we,F as T,J as U,G as Ae,K as A,C as Oe,at as Le,ac as Re,M as Be}from"./index-DHgt7kND.js";import{u as De,f as Ve,C as Ie}from"./index-C6IPtFOw.js";import{P as X,E as R,a as q,T as Ye,c as ze}from"./index-Df7VMJOl.js";/**
* @vue/shared v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Me=Object.prototype.hasOwnProperty,J=(e,o)=>Me.call(e,o),O=Array.isArray,Pe=e=>typeof e=="string",ee=e=>e!==null&&typeof e=="object",[xe,Y]=re("swipe-cell"),He={name:de(""),disabled:Boolean,leftWidth:K,rightWidth:K,beforeClose:Function,stopPropagation:Boolean};var We=I({name:xe,props:He,emits:["open","close","click"],setup(e,{emit:o,slots:s}){let t,r,d,m;const c=$(),v=$(),p=$(),a=ie({offset:0,dragging:!1}),i=ce(),y=l=>l.value?me(l).width:0,u=w(()=>G(e.leftWidth)?+e.leftWidth:y(v)),S=w(()=>G(e.rightWidth)?+e.rightWidth:y(p)),n=l=>{a.offset=l==="left"?u.value:-S.value,t||(t=!0,o("open",{name:e.name,position:l}))},f=l=>{a.offset=0,t&&(t=!1,o("close",{name:e.name,position:l}))},g=l=>{const _=Math.abs(a.offset),b=.15,oe=t?1-b:b,k=l==="left"?u.value:S.value;k&&_>k*oe?n(l):f(l)},ae=l=>{e.disabled||(d=a.offset,i.start(l))},le=l=>{if(e.disabled)return;const{deltaX:_}=i;i.move(l),i.isHorizontal()&&(r=!0,a.dragging=!0,(!t||_.value*d<0)&&ve(l,e.stopPropagation),a.offset=ye(_.value+d,-S.value,u.value))},P=()=>{a.dragging&&(a.dragging=!1,g(a.offset>0?"left":"right"),setTimeout(()=>{r=!1},0))},x=(l="outside",_)=>{m||(o("click",l),t&&!r&&(m=!0,Se(e.beforeClose,{args:[{event:_,name:e.name,position:l}],done:()=>{m=!1,f(l)},canceled:()=>m=!1,error:()=>m=!1})))},H=(l,_)=>b=>{_&&b.stopPropagation(),!r&&x(l,b)},W=(l,_)=>{const b=s[l];if(b)return E("div",{ref:_,class:Y(l),onClick:H(l,!0)},[b()])};return ue({open:n,close:f}),fe(c,l=>x("outside",l),{eventName:"touchstart"}),pe("touchmove",le,{target:c}),()=>{var l;const _={transform:`translate3d(${a.offset}px, 0, 0)`,transitionDuration:a.dragging?"0s":".6s"};return E("div",{ref:c,class:Y(),onClick:H("cell",r),onTouchstartPassive:ae,onTouchend:P,onTouchcancel:P},[E("div",{class:Y("wrapper"),style:_},[W("left",v),(l=s.default)==null?void 0:l.call(s),W("right",p)])])}}});const ke=Ee(We);function Ge(e){for(var o=-1,s=e==null?0:e.length,t={};++o<s;){var r=e[o];t[r[0]]=r[1]}return t}const V=e=>typeof e=="number",te="__epPropKey",B=e=>e,Ke=e=>ee(e)&&!!e[te],je=(e,o)=>{if(!ee(e)||Ke(e))return e;const{values:s,required:t,default:r,type:d,validator:m}=e,v={type:d,required:!!t,validator:s||m?p=>{let a=!1,i=[];if(s&&(i=Array.from(s),J(e,"default")&&i.push(r),a||(a=i.includes(p))),m&&(a||(a=m(p))),!a&&i.length>0){const y=[...new Set(i)].map(u=>JSON.stringify(u)).join(", ");ge(`Invalid prop: validation failed${o?` for prop "${o}"`:""}. Expected one of [${y}], got value ${JSON.stringify(p)}.`)}return a}:void 0,[te]:!0};return J(e,"default")&&(v.default=r),v},ne=e=>Ge(Object.entries(e).map(([o,s])=>[o,je(s,o)])),Ue=(e,o)=>(e.install=s=>{for(const t of[e,...Object.values({})])s.component(t.name,t)},e),Xe=["","default","small","large"];var N=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(N||{});function M(e){return L(e)&&e.type===_e}function qe(e){return L(e)&&e.type===he}function Je(e){return L(e)&&!M(e)&&!qe(e)}const z="el",Ze="is-",C=(e,o,s,t,r)=>{let d=`${e}-${o}`;return s&&(d+=`-${s}`),t&&(d+=`__${t}`),r&&(d+=`--${r}`),d},Qe=Symbol("namespaceContextKey"),Fe=e=>{const o=Te()?be(Qe,$(z)):$(z);return w(()=>h(o)||z)},se=(e,o)=>{const s=Fe();return{namespace:s,b:(n="")=>C(s.value,e,n,"",""),e:n=>n?C(s.value,e,"",n,""):"",m:n=>n?C(s.value,e,"","",n):"",be:(n,f)=>n&&f?C(s.value,e,n,f,""):"",em:(n,f)=>n&&f?C(s.value,e,"",n,f):"",bm:(n,f)=>n&&f?C(s.value,e,n,"",f):"",bem:(n,f,g)=>n&&f&&g?C(s.value,e,n,f,g):"",is:(n,...f)=>{const g=f.length>=1?f[0]:!0;return n&&g?`${Ze}${n}`:""},cssVar:n=>{const f={};for(const g in n)n[g]&&(f[`--${s.value}-${g}`]=n[g]);return f},cssVarName:n=>`--${s.value}-${n}`,cssVarBlock:n=>{const f={};for(const g in n)n[g]&&(f[`--${s.value}-${e}-${g}`]=n[g]);return f},cssVarBlockName:n=>`--${s.value}-${e}-${n}`}},et=ne({prefixCls:{type:String}}),Z=I({name:"ElSpaceItem",props:et,setup(e,{slots:o}){const s=se("space"),t=w(()=>`${e.prefixCls||s.b()}__item`);return()=>Ne("div",{class:t.value},F(o,"default"))}}),Q={small:8,default:12,large:16};function tt(e){const o=se("space"),s=w(()=>[o.b(),o.m(e.direction),e.class]),t=$(0),r=$(0),d=w(()=>{const c=e.wrap||e.fill?{flexWrap:"wrap"}:{},v={alignItems:e.alignment},p={rowGap:`${r.value}px`,columnGap:`${t.value}px`};return[c,v,p,e.style]}),m=w(()=>e.fill?{flexGrow:1,minWidth:`${e.fillRatio}%`}:{});return Ce(()=>{const{size:c="small",wrap:v,direction:p,fill:a}=e;if(O(c)){const[i=0,y=0]=c;t.value=i,r.value=y}else{let i;V(c)?i=c:i=Q[c||"small"]||Q.small,(v||a)&&p==="horizontal"?t.value=r.value=i:p==="horizontal"?(t.value=i,r.value=0):(r.value=i,t.value=0)}}),{classes:s,containerStyle:d,itemStyle:m}}const nt=ne({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:B([String,Object,Array]),default:""},style:{type:B([String,Array,Object]),default:""},alignment:{type:B(String),default:"center"},prefixCls:{type:String},spacer:{type:B([Object,String,Number,Array]),default:null,validator:e=>L(e)||V(e)||Pe(e)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:Xe,validator:e=>V(e)||O(e)&&e.length===2&&e.every(V)}}),st=I({name:"ElSpace",props:nt,setup(e,{slots:o}){const{classes:s,containerStyle:t,itemStyle:r}=tt(e);function d(m,c="",v=[]){const{prefixCls:p}=e;return m.forEach((a,i)=>{M(a)?O(a.children)&&a.children.forEach((y,u)=>{M(y)&&O(y.children)?d(y.children,`${c+u}-`,v):v.push(E(Z,{style:r.value,prefixCls:p,key:`nested-${c+u}`},{default:()=>[y]},N.PROPS|N.STYLE,["style","prefixCls"]))}):Je(a)&&v.push(E(Z,{style:r.value,prefixCls:p,key:`LoopKey${c+i}`},{default:()=>[a]},N.PROPS|N.STYLE,["style","prefixCls"]))}),v}return()=>{var m;const{spacer:c,direction:v}=e,p=F(o,"default",{key:0},()=>[]);if(((m=p.children)!=null?m:[]).length===0)return null;if(O(p.children)){let a=d(p.children);if(c){const i=a.length-1;a=a.reduce((y,u,S)=>{const n=[...y,u];return S!==i&&n.push(E("span",{style:[r.value,v==="vertical"?"width: 100%":null],key:S},[L(c)?c:D(c,N.TEXT)],N.STYLE)),n},[])}return E("div",{class:s.value,style:t.value},a,N.STYLE|N.CLASS)}return p.children}}}),at=Ue(st),lt={key:0,style:{"font-size":"12px"}},ct=I({__name:"index",props:{bill:{}},setup(e){const o=De(),s=e;return(t,r)=>{const d=$e("svg-icon"),m=Ye,c=ze,v=Re,p=at,a=Ie,i=Be,y=ke;return j(),we(y,null,{right:T(()=>[E(i,{square:"",text:"删除",type:"danger",class:"delete-button",onClick:r[0]||(r[0]=u=>h(o).deleteBillOrder(t.bill.id))})]),default:T(()=>[E(a,{center:"","title-class":"single-line-ellipsis","title-style":"flex:2;",to:{path:"/details",query:{id:s.bill.id}},size:"large"},{icon:T(()=>{var u,S;return[U("div",{class:"icon-purpose",style:Ae(`--color: ${(u=h(R).get(t.bill.expenses))==null?void 0:u.color}`)},[E(d,{name:((S=h(X).get(t.bill.purpose))==null?void 0:S.icon)||""},null,8,["name"])],4)]}),title:T(()=>[E(c,null,{default:T(()=>{var u,S;return[D(A((u=h(X).get(t.bill.purpose))==null?void 0:u.label)+" ",1),E(m,{round:"",plain:"",type:(S=h(R).get(t.bill.expenses))==null?void 0:S.type},{default:T(()=>{var n;return[D(A((n=h(R).get(t.bill.expenses))==null?void 0:n.label),1)]}),_:1},8,["type"])]}),_:1})]),label:T(()=>[E(p,{align:"center"},{default:T(()=>[E(v,{size:18},{default:T(()=>{var u,S;return[E(d,{name:(u=h(q).get(t.bill.payMethod))==null?void 0:u.icon,color:(S=h(q).get(t.bill.payMethod))==null?void 0:S.color},null,8,["name","color"])]}),_:1}),D(" "+A(t.bill.remarks||"无备注"),1)]),_:1})]),value:T(()=>{var u;return[U("div",null,A((u=h(R).get(t.bill.expenses))==null?void 0:u.unit)+" "+A(h(Ve)(t.bill.price)),1),t.bill.serviceFee?(j(),Oe("div",lt,"- "+A(t.bill.serviceFee),1)):Le("",!0)]}),_:1},8,["to"])]),_:1})}}});export{ct as _};
