import{c as U,d as P,a as e,g as q,m as Y,w as Z,r as S,b as T,e as G,f as A,h as L,u as J,i as K,o as Q,n as O,j as ee,k as te,l as ae,p as le,v as ne,s as ie,q as oe,T as se,t as re,x as de,y as R,z as ce,A as ue,B as F,C as B,D as E,E as I,F as $,G as fe,H as z,I as V,J as y,K as k,L as he,M as ve,N as xe,O as ye,_ as ge}from"./index-DHgt7kND.js";import{f as me,L as pe}from"./filterData-C7BLjoIB.js";import{d as M,u as W,f as N}from"./index-C6IPtFOw.js";import{f as Fe}from"./formData-OFyLP76G.js";import{_ as Ee}from"./index.vue_vue_type_script_setup_true_lang-DNPmUjVL.js";import{E as _e}from"./index-Df7VMJOl.js";import{u as we}from"./index-DuKKNLP6.js";function X(l,r){return l.reduce((f,v)=>Math.abs(f-r)<Math.abs(v-r)?f:v)}const[De,C]=U("empty"),be={image:Y("default"),imageSize:[Number,String,Array],description:String};var ke=P({name:De,props:be,setup(l,{slots:r}){const f=()=>{const o=r.description?r.description():l.description;if(o)return e("p",{class:C("description")},[o])},v=()=>{if(r.default)return e("div",{class:C("bottom")},[r.default()])},_=we(),a=o=>`${_}-${o}`,t=o=>`url(#${a(o)})`,i=(o,x,n)=>e("stop",{"stop-color":o,offset:`${x}%`,"stop-opacity":n},null),u=(o,x)=>[i(o,0),i(x,100)],g=o=>[e("defs",null,[e("radialGradient",{id:a(o),cx:"50%",cy:"54%",fx:"50%",fy:"54%",r:"297%",gradientTransform:"matrix(-.16 0 0 -.33 .58 .72)"},[i("#EBEDF0",0),i("#F2F3F5",100,.3)])]),e("ellipse",{fill:t(o),opacity:".8",cx:"80",cy:"140",rx:"46",ry:"8"},null)],d=()=>[e("defs",null,[e("linearGradient",{id:a("a"),x1:"64%",y1:"100%",x2:"64%"},[i("#FFF",0,.5),i("#F2F3F5",100)])]),e("g",{opacity:".8"},[e("path",{d:"M36 131V53H16v20H2v58h34z",fill:t("a")},null),e("path",{d:"M123 15h22v14h9v77h-31V15z",fill:t("a")},null)])],h=()=>[e("defs",null,[e("linearGradient",{id:a("b"),x1:"64%",y1:"97%",x2:"64%",y2:"0%"},[i("#F2F3F5",0,.3),i("#F2F3F5",100)])]),e("g",{opacity:".8"},[e("path",{d:"M87 6c3 0 7 3 8 6a8 8 0 1 1-1 16H80a7 7 0 0 1-8-6c0-4 3-7 6-7 0-5 4-9 9-9Z",fill:t("b")},null),e("path",{d:"M19 23c2 0 3 1 4 3 2 0 4 2 4 4a4 4 0 0 1-4 3v1h-7v-1l-1 1c-2 0-3-2-3-4 0-1 1-3 3-3 0-2 2-4 4-4Z",fill:t("b")},null)])],m=()=>e("svg",{viewBox:"0 0 160 160"},[e("defs",null,[e("linearGradient",{id:a(1),x1:"64%",y1:"100%",x2:"64%"},[i("#FFF",0,.5),i("#F2F3F5",100)]),e("linearGradient",{id:a(2),x1:"50%",x2:"50%",y2:"84%"},[i("#EBEDF0",0),i("#DCDEE0",100,0)]),e("linearGradient",{id:a(3),x1:"100%",x2:"100%",y2:"100%"},[u("#EAEDF0","#DCDEE0")]),e("radialGradient",{id:a(4),cx:"50%",cy:"0%",fx:"50%",fy:"0%",r:"100%",gradientTransform:"matrix(0 1 -.54 0 .5 -.5)"},[i("#EBEDF0",0),i("#FFF",100,0)])]),e("g",{fill:"none"},[d(),e("path",{fill:t(4),d:"M0 139h160v21H0z"},null),e("path",{d:"M80 54a7 7 0 0 1 3 13v27l-2 2h-2a2 2 0 0 1-2-2V67a7 7 0 0 1 3-13z",fill:t(2)},null),e("g",{opacity:".6","stroke-linecap":"round","stroke-width":"7"},[e("path",{d:"M64 47a19 19 0 0 0-5 13c0 5 2 10 5 13",stroke:t(3)},null),e("path",{d:"M53 36a34 34 0 0 0 0 48",stroke:t(3)},null),e("path",{d:"M95 73a19 19 0 0 0 6-13c0-5-2-9-6-13",stroke:t(3)},null),e("path",{d:"M106 84a34 34 0 0 0 0-48",stroke:t(3)},null)]),e("g",{transform:"translate(31 105)"},[e("rect",{fill:"#EBEDF0",width:"98",height:"34",rx:"2"},null),e("rect",{fill:"#FFF",x:"9",y:"8",width:"80",height:"18",rx:"1.1"},null),e("rect",{fill:"#EBEDF0",x:"15",y:"12",width:"18",height:"6",rx:"1.1"},null)])])]),p=()=>e("svg",{viewBox:"0 0 160 160"},[e("defs",null,[e("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:a(5)},[u("#F2F3F5","#DCDEE0")]),e("linearGradient",{x1:"95%",y1:"48%",x2:"5.5%",y2:"51%",id:a(6)},[u("#EAEDF1","#DCDEE0")]),e("linearGradient",{y1:"45%",x2:"100%",y2:"54%",id:a(7)},[u("#EAEDF1","#DCDEE0")])]),d(),h(),e("g",{transform:"translate(36 50)",fill:"none"},[e("g",{transform:"translate(8)"},[e("rect",{fill:"#EBEDF0",opacity:".6",x:"38",y:"13",width:"36",height:"53",rx:"2"},null),e("rect",{fill:t(5),width:"64",height:"66",rx:"2"},null),e("rect",{fill:"#FFF",x:"6",y:"6",width:"52",height:"55",rx:"1"},null),e("g",{transform:"translate(15 17)",fill:t(6)},[e("rect",{width:"34",height:"6",rx:"1"},null),e("path",{d:"M0 14h34v6H0z"},null),e("rect",{y:"28",width:"34",height:"6",rx:"1"},null)])]),e("rect",{fill:t(7),y:"61",width:"88",height:"28",rx:"1"},null),e("rect",{fill:"#F7F8FA",x:"29",y:"72",width:"30",height:"6",rx:"1"},null)])]),b=()=>e("svg",{viewBox:"0 0 160 160"},[e("defs",null,[e("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:a(8)},[u("#EAEDF1","#DCDEE0")])]),d(),h(),g("c"),e("path",{d:"m59 60 21 21 21-21h3l9 9v3L92 93l21 21v3l-9 9h-3l-21-21-21 21h-3l-9-9v-3l21-21-21-21v-3l9-9h3Z",fill:t(8)},null)]),c=()=>e("svg",{viewBox:"0 0 160 160"},[e("defs",null,[e("linearGradient",{x1:"50%",y1:"100%",x2:"50%",id:a(9)},[u("#EEE","#D8D8D8")]),e("linearGradient",{x1:"100%",y1:"50%",y2:"50%",id:a(10)},[u("#F2F3F5","#DCDEE0")]),e("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:a(11)},[u("#F2F3F5","#DCDEE0")]),e("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:a(12)},[u("#FFF","#F7F8FA")])]),d(),h(),g("d"),e("g",{transform:"rotate(-45 113 -4)",fill:"none"},[e("rect",{fill:t(9),x:"24",y:"52.8",width:"5.8",height:"19",rx:"1"},null),e("rect",{fill:t(10),x:"22.1",y:"67.3",width:"9.9",height:"28",rx:"1"},null),e("circle",{stroke:t(11),"stroke-width":"8",cx:"27",cy:"27",r:"27"},null),e("circle",{fill:t(12),cx:"27",cy:"27",r:"16"},null),e("path",{d:"M37 7c-8 0-15 5-16 12",stroke:t(11),"stroke-width":"3",opacity:".5","stroke-linecap":"round",transform:"rotate(45 29 13)"},null)])]),w=()=>{var o;if(r.image)return r.image();const x={error:b,search:c,network:m,default:p};return((o=x[l.image])==null?void 0:o.call(x))||e("img",{src:l.image},null)};return()=>e("div",{class:C()},[e("div",{class:C("image"),style:q(l.imageSize)},[w()]),f(),v()])}});const Se=Z(ke),Be={gap:re(24),icon:String,axis:Y("y"),magnetic:String,offset:{type:Object,default:()=>({x:-1,y:-1})},teleport:{type:[String,Object],default:"body"}},[Ce,j]=U("floating-bubble");var Me=P({name:Ce,inheritAttrs:!1,props:Be,emits:["click","update:offset","offsetChange"],setup(l,{slots:r,emit:f,attrs:v}){const _=S(),a=S({x:0,y:0,width:0,height:0}),t=T(()=>({top:l.gap,right:G.value-a.value.width-l.gap,bottom:A.value-a.value.height-l.gap,left:l.gap})),i=S(!1);let u=!1;const g=T(()=>{const n={},D=L(a.value.x),s=L(a.value.y);return n.transform=`translate3d(${D}, ${s}, 0)`,(i.value||!u)&&(n.transition="none"),n}),d=()=>{if(!x.value)return;const{width:n,height:D}=de(_.value),{offset:s}=l;a.value={x:s.x>-1?s.x:G.value-n-l.gap,y:s.y>-1?s.y:A.value-D-l.gap,width:n,height:D}},h=J();let m=0,p=0;const b=n=>{h.start(n),i.value=!0,m=a.value.x,p=a.value.y};K("touchmove",n=>{if(n.preventDefault(),h.move(n),l.axis!=="lock"&&!h.isTap.value){if(l.axis==="x"||l.axis==="xy"){let s=m+h.deltaX.value;s<t.value.left&&(s=t.value.left),s>t.value.right&&(s=t.value.right),a.value.x=s}if(l.axis==="y"||l.axis==="xy"){let s=p+h.deltaY.value;s<t.value.top&&(s=t.value.top),s>t.value.bottom&&(s=t.value.bottom),a.value.y=s}const D=R(a.value,["x","y"]);f("update:offset",D)}},{target:_});const w=()=>{i.value=!1,O(()=>{if(l.magnetic==="x"){const n=X([t.value.left,t.value.right],a.value.x);a.value.x=n}if(l.magnetic==="y"){const n=X([t.value.top,t.value.bottom],a.value.y);a.value.y=n}if(!h.isTap.value){const n=R(a.value,["x","y"]);f("update:offset",n),(m!==n.x||p!==n.y)&&f("offsetChange",n)}})},o=n=>{h.isTap.value?f("click",n):n.stopPropagation()};Q(()=>{d(),O(()=>{u=!0})}),ee([G,A,()=>l.gap,()=>l.offset],d,{deep:!0});const x=S(!0);return te(()=>{x.value=!0}),ae(()=>{l.teleport&&(x.value=!1)}),()=>{const n=le(e("div",oe({class:j(),ref:_,onTouchstartPassive:b,onTouchend:w,onTouchcancel:w,onClickCapture:o,style:g.value},v),[r.default?r.default():e(ie,{name:l.icon,class:j("icon")},null)]),[[ne,x.value]]);return l.teleport?e(se,{to:l.teleport},{default:()=>[n]}):n}}});const Te=Z(Me);function Ge(l){const r=M(),f=M(l).day(),v=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"];return M(l).isSame(r,"day")?"今天":v[f]}const H=l=>(xe("data-v-8843d978"),l=l(),ye(),l),Ae={class:"line"},Ie={class:"date"},$e={class:"price"},ze=H(()=>y("div",{class:"text"},"入",-1)),Ne={class:"num num1"},Pe=H(()=>y("div",{class:"text"},"出",-1)),He={class:"num num1"},Le=H(()=>y("div",{class:"text"},"费",-1)),Oe={class:"num"},Re=P({__name:"index",setup(l){const r=W(),{filter:f,formatBillList:v,billList:_}=ce(W()),a=S(),t=ue({loading:!1,finished:!0}),i=T(()=>{var g;return((g=_e.get(f.value.expenses))==null?void 0:g.color)||""}),u=T(()=>({x:window.innerWidth-60,y:window.innerHeight-110}));return r.init(),(g,d)=>{const h=pe,m=ve,p=Se,b=Te;return F(),B(z,null,[e(me),E(v).length?(F(),I(h,{key:0,loading:t.loading,"onUpdate:loading":d[0]||(d[0]=c=>t.loading=c),finished:t.finished,"finished-text":"没有更多了"},{default:$(()=>[(F(!0),B(z,null,V(E(v),c=>(F(),B("div",{key:c.date,class:"card"},[y("div",Ae,[y("div",Ie,k(E(M)(c.date).format("MM月DD日"))+" "+k(E(Ge)(c.date)),1),y("div",$e,[ze,y("div",Ne,k(E(N)(c.totalIncome)),1),Pe,y("div",He,k(E(N)(c.totalPay)),1),Le,y("div",Oe,k(E(N)(c.totalServiceFee)),1)])]),(F(!0),B(z,null,V(c.list,w=>(F(),I(Ee,{bill:w,class:"home-cell-list"},null,8,["bill"]))),256))]))),128))]),_:1},8,["loading","finished"])):(F(),I(p,{key:1,description:"掌握财务，从记账开始。"},{default:$(()=>[e(m,{round:"",block:"",type:"primary",class:"bottom-button",onClick:d[1]||(d[1]=c=>a.value.onAddOrder())},{default:$(()=>[he(" 记 一 笔 ")]),_:1})]),_:1})),e(Fe,{ref_key:"formRef",ref:a},null,512),e(b,{axis:"xy",icon:"records-o",magnetic:"x",offset:u.value,"onUpdate:offset":d[2]||(d[2]=c=>u.value=c),onClick:d[3]||(d[3]=c=>a.value.onAddOrder()),style:fe({backgroundColor:i.value})},null,8,["offset","style"])],64)}}}),qe=ge(Re,[["__scopeId","data-v-8843d978"]]);export{qe as default};
