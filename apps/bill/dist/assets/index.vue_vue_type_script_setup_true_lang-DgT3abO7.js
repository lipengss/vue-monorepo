import{c as re,d as I,r as $,A as ie,u as ce,b as w,aH as G,a7 as ue,aC as fe,i as de,a as E,a2 as pe,a1 as K,x as me,aw as ve,aI as Se,aU as ye,w as Ee,aV as F,aW as U,aX as ge,aY as L,H as _e,aZ as Te,ao as he,a4 as be,D as T,ap as Ne,a_ as ee,R as Ce,a$ as O,L as D,b0 as $e,S as we,B as X,E as Ae,F as h,J as j,G as Oe,K as A,C as Le,at as Re,ac as Be,M as De}from"./index-DrikYrRc.js";import{u as Ve,f as Ie,C as Ye}from"./index-BrKe16QI.js";import{P as q,E as R,a as J,T as ze,c as Me}from"./index-DUq9vw_0.js";const[xe,Y]=re("swipe-cell"),He={name:pe(""),disabled:Boolean,leftWidth:K,rightWidth:K,beforeClose:Function,stopPropagation:Boolean};var Pe=I({name:xe,props:He,emits:["open","close","click"],setup(e,{emit:r,slots:s}){let t,o,p,m;const c=$(),v=$(),d=$(),a=ie({offset:0,dragging:!1}),i=ce(),S=l=>l.value?me(l).width:0,u=w(()=>G(e.leftWidth)?+e.leftWidth:S(v)),y=w(()=>G(e.rightWidth)?+e.rightWidth:S(d)),n=l=>{a.offset=l==="left"?u.value:-y.value,t||(t=!0,r("open",{name:e.name,position:l}))},f=l=>{a.offset=0,t&&(t=!1,r("close",{name:e.name,position:l}))},g=l=>{const _=Math.abs(a.offset),b=.15,oe=t?1-b:b,k=l==="left"?u.value:y.value;k&&_>k*oe?n(l):f(l)},ae=l=>{e.disabled||(p=a.offset,i.start(l))},le=l=>{if(e.disabled)return;const{deltaX:_}=i;i.move(l),i.isHorizontal()&&(o=!0,a.dragging=!0,(!t||_.value*p<0)&&ve(l,e.stopPropagation),a.offset=Se(_.value+p,-y.value,u.value))},x=()=>{a.dragging&&(a.dragging=!1,g(a.offset>0?"left":"right"),setTimeout(()=>{o=!1},0))},H=(l="outside",_)=>{m||(r("click",l),t&&!o&&(m=!0,ye(e.beforeClose,{args:[{event:_,name:e.name,position:l}],done:()=>{m=!1,f(l)},canceled:()=>m=!1,error:()=>m=!1})))},P=(l,_)=>b=>{_&&b.stopPropagation(),!o&&H(l,b)},W=(l,_)=>{const b=s[l];if(b)return E("div",{ref:_,class:Y(l),onClick:P(l,!0)},[b()])};return ue({open:n,close:f}),fe(c,l=>H("outside",l),{eventName:"touchstart"}),de("touchmove",le,{target:c}),()=>{var l;const _={transform:`translate3d(${a.offset}px, 0, 0)`,transitionDuration:a.dragging?"0s":".6s"};return E("div",{ref:c,class:Y(),onClick:P("cell",o),onTouchstartPassive:ae,onTouchend:x,onTouchcancel:x},[E("div",{class:Y("wrapper"),style:_},[W("left",v),(l=s.default)==null?void 0:l.call(s),W("right",d)])])}}});const We=Ee(Pe);function ke(e){for(var r=-1,s=e==null?0:e.length,t={};++r<s;){var o=e[r];t[o[0]]=o[1]}return t}const V=e=>typeof e=="number",te="__epPropKey",B=e=>e,Ge=e=>F(e)&&!!e[te],Ke=(e,r)=>{if(!F(e)||Ge(e))return e;const{values:s,required:t,default:o,type:p,validator:m}=e,v={type:p,required:!!t,validator:s||m?d=>{let a=!1,i=[];if(s&&(i=Array.from(s),U(e,"default")&&i.push(o),a||(a=i.includes(d))),m&&(a||(a=m(d))),!a&&i.length>0){const S=[...new Set(i)].map(u=>JSON.stringify(u)).join(", ");ge(`Invalid prop: validation failed${r?` for prop "${r}"`:""}. Expected one of [${S}], got value ${JSON.stringify(d)}.`)}return a}:void 0,[te]:!0};return U(e,"default")&&(v.default=o),v},ne=e=>ke(Object.entries(e).map(([r,s])=>[r,Ke(s,r)])),Ue=(e,r)=>(e.install=s=>{for(const t of[e,...Object.values({})])s.component(t.name,t)},e),Xe=["","default","small","large"];var N=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(N||{});function M(e){return L(e)&&e.type===_e}function je(e){return L(e)&&e.type===Te}function qe(e){return L(e)&&!M(e)&&!je(e)}const z="el",Je="is-",C=(e,r,s,t,o)=>{let p=`${e}-${r}`;return s&&(p+=`-${s}`),t&&(p+=`__${t}`),o&&(p+=`--${o}`),p},Ze=Symbol("namespaceContextKey"),Qe=e=>{const r=he()?be(Ze,$(z)):$(z);return w(()=>T(r)||z)},se=(e,r)=>{const s=Qe();return{namespace:s,b:(n="")=>C(s.value,e,n,"",""),e:n=>n?C(s.value,e,"",n,""):"",m:n=>n?C(s.value,e,"","",n):"",be:(n,f)=>n&&f?C(s.value,e,n,f,""):"",em:(n,f)=>n&&f?C(s.value,e,"",n,f):"",bm:(n,f)=>n&&f?C(s.value,e,n,"",f):"",bem:(n,f,g)=>n&&f&&g?C(s.value,e,n,f,g):"",is:(n,...f)=>{const g=f.length>=1?f[0]:!0;return n&&g?`${Je}${n}`:""},cssVar:n=>{const f={};for(const g in n)n[g]&&(f[`--${s.value}-${g}`]=n[g]);return f},cssVarName:n=>`--${s.value}-${n}`,cssVarBlock:n=>{const f={};for(const g in n)n[g]&&(f[`--${s.value}-${e}-${g}`]=n[g]);return f},cssVarBlockName:n=>`--${s.value}-${e}-${n}`}},Fe=ne({prefixCls:{type:String}}),Z=I({name:"ElSpaceItem",props:Fe,setup(e,{slots:r}){const s=se("space"),t=w(()=>`${e.prefixCls||s.b()}__item`);return()=>Ne("div",{class:t.value},ee(r,"default"))}}),Q={small:8,default:12,large:16};function et(e){const r=se("space"),s=w(()=>[r.b(),r.m(e.direction),e.class]),t=$(0),o=$(0),p=w(()=>{const c=e.wrap||e.fill?{flexWrap:"wrap"}:{},v={alignItems:e.alignment},d={rowGap:`${o.value}px`,columnGap:`${t.value}px`};return[c,v,d,e.style]}),m=w(()=>e.fill?{flexGrow:1,minWidth:`${e.fillRatio}%`}:{});return Ce(()=>{const{size:c="small",wrap:v,direction:d,fill:a}=e;if(O(c)){const[i=0,S=0]=c;t.value=i,o.value=S}else{let i;V(c)?i=c:i=Q[c||"small"]||Q.small,(v||a)&&d==="horizontal"?t.value=o.value=i:d==="horizontal"?(t.value=i,o.value=0):(o.value=i,t.value=0)}}),{classes:s,containerStyle:p,itemStyle:m}}const tt=ne({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:B([String,Object,Array]),default:""},style:{type:B([String,Array,Object]),default:""},alignment:{type:B(String),default:"center"},prefixCls:{type:String},spacer:{type:B([Object,String,Number,Array]),default:null,validator:e=>L(e)||V(e)||$e(e)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:Xe,validator:e=>V(e)||O(e)&&e.length===2&&e.every(V)}}),nt=I({name:"ElSpace",props:tt,setup(e,{slots:r}){const{classes:s,containerStyle:t,itemStyle:o}=et(e);function p(m,c="",v=[]){const{prefixCls:d}=e;return m.forEach((a,i)=>{M(a)?O(a.children)&&a.children.forEach((S,u)=>{M(S)&&O(S.children)?p(S.children,`${c+u}-`,v):v.push(E(Z,{style:o.value,prefixCls:d,key:`nested-${c+u}`},{default:()=>[S]},N.PROPS|N.STYLE,["style","prefixCls"]))}):qe(a)&&v.push(E(Z,{style:o.value,prefixCls:d,key:`LoopKey${c+i}`},{default:()=>[a]},N.PROPS|N.STYLE,["style","prefixCls"]))}),v}return()=>{var m;const{spacer:c,direction:v}=e,d=ee(r,"default",{key:0},()=>[]);if(((m=d.children)!=null?m:[]).length===0)return null;if(O(d.children)){let a=p(d.children);if(c){const i=a.length-1;a=a.reduce((S,u,y)=>{const n=[...S,u];return y!==i&&n.push(E("span",{style:[o.value,v==="vertical"?"width: 100%":null],key:y},[L(c)?c:D(c,N.TEXT)],N.STYLE)),n},[])}return E("div",{class:s.value,style:t.value},a,N.STYLE|N.CLASS)}return d.children}}}),st=Ue(nt),at={key:0,style:{"font-size":"12px"}},it=I({__name:"index",props:{bill:{}},setup(e){const r=Ve(),s=e;return(t,o)=>{const p=we("svg-icon"),m=ze,c=Me,v=Be,d=st,a=Ye,i=De,S=We;return X(),Ae(S,null,{right:h(()=>[E(i,{square:"",text:"删除",type:"danger",class:"delete-button",onClick:o[0]||(o[0]=u=>T(r).deleteBillOrder(t.bill.id))})]),default:h(()=>[E(a,{center:"","title-class":"single-line-ellipsis","title-style":"flex:2;",to:{path:"/details",query:{id:s.bill.id}},size:"large"},{icon:h(()=>{var u,y;return[j("div",{class:"icon-purpose",style:Oe(`--color: ${(u=T(R).get(t.bill.expenses))==null?void 0:u.color}`)},[E(p,{name:((y=T(q).get(t.bill.purpose))==null?void 0:y.icon)||""},null,8,["name"])],4)]}),title:h(()=>[E(c,null,{default:h(()=>{var u,y;return[D(A((u=T(q).get(t.bill.purpose))==null?void 0:u.label)+" ",1),E(m,{round:"",plain:"",type:(y=T(R).get(t.bill.expenses))==null?void 0:y.type},{default:h(()=>{var n;return[D(A((n=T(R).get(t.bill.expenses))==null?void 0:n.label),1)]}),_:1},8,["type"])]}),_:1})]),label:h(()=>[E(d,{align:"center"},{default:h(()=>[E(v,{size:18},{default:h(()=>{var u,y;return[E(p,{name:(u=T(J).get(t.bill.payMethod))==null?void 0:u.icon,color:(y=T(J).get(t.bill.payMethod))==null?void 0:y.color},null,8,["name","color"])]}),_:1}),D(" "+A(t.bill.remarks||"无备注"),1)]),_:1})]),value:h(()=>{var u;return[j("div",null,A((u=T(R).get(t.bill.expenses))==null?void 0:u.unit)+" "+A(T(Ie)(t.bill.price)),1),t.bill.serviceFee?(X(),Le("div",at,"- "+A(t.bill.serviceFee),1)):Re("",!0)]}),_:1},8,["to"])]),_:1})}}});export{it as _};
